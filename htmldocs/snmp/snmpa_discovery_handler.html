<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>snmpa_discovery_handler</h1><h1>snmpa_discovery_handler</h1><p>Behaviour module for the SNMP agent discovery handler.</p><p>This module defines the behaviour of the agent discovery
handler. A <strong>snmpa_discovery_handler</strong> compliant module 
must export the following functions: <ul><li> <p><a href="#stage1_finish">stage1_finish/2</a></p> </li></ul>The semantics of them and their exact signatures are explained
below. <a name="stage1_finish"></a></p><h1>Functions</h1><h2>stage1_finish(TargetName, ManagerEngineID, ExtraInfo) -&gt; ignore | {ok, usm_entry() | [usm_entry()]} | {ok, usm_entry() | [usm_entry()], NewExtraInfo}</h2><p>Discovery stage 1 finish</p><ul><li><span class="v">TargetName = string()</span></li><li><span class="v">ManagerEngineID = string()</span></li><li><span class="v">ExtraInfo = term()</span></li><li><span class="v">usm_entry() = tuple() compatible with usm.conf</span></li><li><span class="v">NewExtraInfo = term()</span></li></ul><p>This function is called at the end of stage 1 of the 
discovery process. It should return either the atom 
<strong>ignore</strong> or <strong>{ok, usm_entry() | [usm_entry()]}</strong>. See 
<a href="./snmp_agent_config_files#usm">usm_entry()</a>
and 
<a href="./snmpa_conf#usm_entry">usm_entry/13</a>
for more info. </p><p>If the function returns <strong>ignore</strong>, then it is assumed that 
either: </p><ul><li>The caller (of the discovery function) will make the  needed updates later. </li><li>The callback function itself did the updates. </li></ul><p>In either case, the agent will do nothing, but return
the retrieved ManagerEngineID (see 
<a href="./snmpa#discovery">discovery</a>
for more info) and possible continue with stage 2 of 
the discovery process. </p><p>The <strong>ExtraInfo</strong> argument is passed on from the 
<a href="./snmpa#discovery">discovery</a>
function. </p><p>This function may return an updated <strong>NewExtraInfo</strong> 
that will be used in subsequent calls to the callback 
functions. Intended for future use. </p><p>The purpose of this function is to generate the usm-
related security data needed for usm processing in the 
agent. Specifically, updating the usmUserTable. </p><p>When an <strong>usm_entry()</strong> tuple (or a list of such
tuples) is returned, this data is then added to the 
<strong>usmUserTable</strong> by the (master-) agent. </p><p>When an <strong>usm_entry()</strong> tuple (or a list of such
tuples) is returned, this data is then added to the 
<strong>usmUserTable</strong> by the (master-) agent. </p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Note that the function does not check if this entry 
already exists. </p></div><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Note that this function is executed in the context of 
the master-agent process. </p></div></body></html>