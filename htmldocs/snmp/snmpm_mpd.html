<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>snmpm_mpd</h1><h1>snmpm_mpd</h1><p>Message Processing and Dispatch module for the SNMP manager</p><p>The module <strong>snmpm_mpd</strong> implements the version independent
Message Processing and Dispatch functionality in SNMP for the manager. 
It is supposed to be used from a Network Interface process 
(<a href="snmp_manager_netif">Definition of Manager Net if</a>).
Legacy API function <strong>process_msg/7</strong> that has got separate
<strong>IpAddr</strong> and <strong>PortNumber</strong> arguments still works as before
for backwards compatibility reasons.</p><h1>Functions</h1><h2>init_mpd(Vsns) -&gt; mpd_state()</h2><p>Initialize the MPD module</p><ul><li><span class="v">Vsns = [Vsn]</span></li><li><span class="v">Vsn = v1 | v2 | v3</span></li></ul><p>This function can be called from the net_if process at start-up.
The options list defines which versions to use.
</p><p>It also initializes some SNMP counters.
<a name="process_msg"></a>
</p><h2>process_msg(Msg, Domain, Addr, State, NoteStore, Logger) -&gt; {ok, Vsn, Pdu, PduMS, MsgData} | {discarded, Reason}</h2><p>Process a message received from the network</p><ul><li><span class="v">Msg = binary()</span></li><li><span class="v">Domain = transportDomainUdpIpv4 | transportDomainUdpIpv6</span></li><li><span class="v">Addr = {} </span></li><li><span class="v">State = mpd_state()</span></li><li><span class="v">NoteStore = pid()</span></li><li><span class="v">Logger = function()</span></li><li><span class="v">Vsn = 'version-1' | 'version-2' | 'version-3'</span></li><li><span class="v">Pdu = #pdu</span></li><li><span class="v">PduMs = integer()</span></li><li><span class="v">MsgData = term()</span></li></ul><p>Processes an incoming message. Performs authentication and 
decryption as necessary. The return values should be passed the
manager server.
</p><p><strong>NoteStore</strong> is the <strong>pid()</strong> of the note-store process.</p><p><strong>Logger</strong> is the function used for audit trail logging.
</p><p>In the case when the pdu type is <strong>report</strong>, <strong>MsgData</strong> is 
either <strong>ok</strong> or <strong>{error, ReqId, Reason}</strong>.
</p><h2>generate_msg(Vsn, NoteStore, Pdu, MsgData, Logger) -&gt; {ok, Packet} | {discarded, Reason}</h2><p>Generate a request message to be sent to the network</p><ul><li><span class="v">Vsn = 'version-1' | 'version-2' | 'version-3'</span></li><li><span class="v">NoteStore = pid()</span></li><li><span class="v">Pdu = #pdu</span></li><li><span class="v">MsgData = term()</span></li><li><span class="v">Logger = function()</span></li><li><span class="v">Packet = binary()</span></li><li><span class="v">Reason = term()</span></li></ul><p>Generates a possibly encrypted packet to be sent to the network.
</p><p><strong>NoteStore</strong> is the <strong>pid()</strong> of the note-store process.
</p><p><strong>MsgData</strong> is the message specific data used in the SNMP 
message. In SNMPv1 and SNMPv2c, this message data is the community 
string. In SNMPv3, it is the context information.
</p><p><strong>Logger</strong> is the function used for audit trail logging.
</p><h2>generate_response_msg(Vsn, Pdu, MsgData, Logger) -&gt; {ok, Packet} | {discarded, Reason}</h2><p>Generate a response packet to be sent to the network</p><ul><li><span class="v">Vsn = 'version-1' | 'version-2' | 'version-3'</span></li><li><span class="v">Pdu = #pdu</span></li><li><span class="v">MsgData = term()</span></li><li><span class="v">Logger = function()</span></li><li><span class="v">Packet = binary()</span></li><li><span class="v">Reason = term()</span></li></ul><p>Generates a possibly encrypted response packet to be sent to the
network.
</p><p><strong>MsgData</strong> is the message specific data used in the SNMP 
message. This value is received from the 
<a href="./snmpm_mpd#process_msg">process_msg</a> 
function.
</p></body></html>