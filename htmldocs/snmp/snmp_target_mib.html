<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>snmp_target_mib</h1><h1>snmp_target_mib</h1><p>Instrumentation Functions for SNMP-TARGET-MIB</p><p>The module <strong>snmp_target_mib</strong> implements the instrumentation
functions for the SNMP-TARGET-MIB, 
and functions for configuring the database. The configuration files are described in the SNMP User's Manual.Legacy API functions <strong>add_addr/10</strong> that does not specify
transport domain, and <strong>add_addr/11</strong> that has got separate
<strong>IpAddr</strong> and <strong>PortNumber</strong> arguments still work as before
for backwards compatibility reasons.<a name="types"></a></p><h2>DATA TYPES</h2><p>See the <a href="./snmpa_conf#types"> data types in </a>.</p><a name="configure"></a><h1>Functions</h1><h2>configure(ConfDir) -&gt; void()</h2><p>Configure the SNMP-TARGET-MIB</p><ul><li><span class="v">ConfDir = string()</span></li></ul><p>This function is called from the supervisor at system
start-up.
</p><p>Inserts all data in the configuration files into the
database and destroys all old rows with StorageType
<strong>volatile</strong>.  The rows created from the configuration file
will have StorageType <strong>nonVolatile</strong>. </p><p>All <strong>snmp</strong> counters are set to zero. </p><p>If an error is found in the configuration file, it is
reported using the function <strong>config_err/2</strong> of the error
report module, and the function fails with the reason 
<strong>configuration_error</strong>. </p><p><strong>ConfDir</strong> is a string which points to the directory
where the configuration files are found. </p><p>The configuration files read are: <strong>target_addr.conf</strong>
and <strong>target_params.conf</strong>. </p><a name="reconfigure"></a><h2>reconfigure(ConfDir) -&gt; void()</h2><p>Configure the SNMP-TARGET-MIB</p><ul><li><span class="v">ConfDir = string()</span></li></ul><p>Inserts all data in the configuration files into the
database and destroys all old data, including the rows with
StorageType <strong>nonVolatile</strong>.  The rows created from the
configuration file will have StorageType <strong>nonVolatile</strong>. </p><p>Thus, the data in the SNMP-TARGET-MIB, after this
function has been called, is the data from the configuration
files. </p><p>All <strong>snmp</strong> counters are set to zero.</p><p>If an error is found in the configuration file, it is
reported using the function <strong>config_err/2</strong> of the ,
and the function fails with the reason 
<strong>configuration_error</strong>.</p><p><strong>ConfDir</strong> is a string which points to the directory
where the configuration files are found. </p><p>The configuration files read are: <strong>target_addr.conf</strong>
and <strong>target_params.conf</strong>. </p><a name="set_target_engine_id"></a><h2>set_target_engine_id(TargetAddrName, EngineId) -&gt; boolean()</h2><p>Set the engine id for a targetAddr row.</p><ul><li><span class="v">TargetAddrName = string()</span></li><li><span class="v">EngineId = string()</span></li></ul><p>Changes the engine id for a target in the 
<strong>snmpTargetAddrTable</strong>.
If notifications are sent as Inform requests to a target, its
engine id must be set. </p><a name="add_addr"></a><h2>add_addr(Name, Domain, Addr, Timeout, Retry, TagList, Params, EngineId, TMask, MMS) -&gt; Ret</h2><p>Add one target address definition</p><ul><li><span class="v">Name = string()</span></li><li><span class="v">Domain = transportDomain()</span></li><li><span class="v">Addr = transportAddress()  % Default port is 162</span></li><li><span class="v">Timeout = integer()</span></li><li><span class="v">Retry = integer()</span></li><li><span class="v">TagList = string()</span></li><li><span class="v">ParamsName = string()</span></li><li><span class="v">EngineId = string()</span></li><li><span class="v">TMask = transportAddressMask()  % Depends on Domain</span></li><li><span class="v">MMS = integer()</span></li><li><span class="v">Ret = {ok, Key} | {error, Reason}</span></li><li><span class="v">Key = term()</span></li><li><span class="v">Reason = term()</span></li></ul><p>Adds a target address definition to the agent config. 
Equivalent to one line in the <strong>target_addr.conf</strong> file.</p><a name="delete_addr"></a><h2>delete_addr(Key) -&gt; Ret</h2><p>Delete one target address definition</p><ul><li><span class="v">Key = term()</span></li><li><span class="v">Ret = ok | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><p>Delete a target address definition from the agent config.</p><a name="add_params"></a><h2>add_params(Name, MPModel, SecModel, SecName, SecLevel) -&gt; Ret</h2><p>Add one target parameter definition</p><ul><li><span class="v">Name = string()</span></li><li><span class="v">MPModel = v1 | v2c | v3</span></li><li><span class="v">SecModel = v1 | v2c | usm</span></li><li><span class="v">SecName = string()</span></li><li><span class="v">SecLevel = noAuthNoPriv | authNoPriv | authPriv</span></li><li><span class="v">Ret = {ok, Key} | {error, Reason}</span></li><li><span class="v">Key = term()</span></li><li><span class="v">Reason = term()</span></li></ul><p>Adds a target parameter definition to the agent config. 
Equivalent to one line in the <strong>target_params.conf</strong> file.</p><a name="delete_params"></a><h2>delete_params(Key) -&gt; Ret</h2><p>Delete one target parameter definition</p><ul><li><span class="v">Key = term()</span></li><li><span class="v">Ret = ok | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><p>Delete a target parameter definition from the agent config.</p></body></html>