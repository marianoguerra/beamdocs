<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>snmpa_local_db</h1><h1>snmpa_local_db</h1><p>The SNMP built-in database</p><p>The module <strong>snmpa_local_db</strong> contains functions for
implementing tables (and variables) using the SNMP built-in 
database. The database exists in two instances, one volatile 
and one persistent. The volatile database is implemented with 
ets. The persistent database is implemented with dets. 
There is a scaling problem with this database.
<ul><li>Insertions and deletions are inefficient for large tables. </li></ul>This problem is best solved by using Mnesia instead.
The following functions describe the interface to 
<strong>snmpa_local_db</strong>. Each function has a Mnesia equivalent. 
The argument <strong>NameDb</strong> is a tuple <strong>{Name, Db}</strong> where 
<strong>Name</strong> is the symbolic name of the managed object (as defined 
in the MIB), and <strong>Db</strong> is either <strong>volatile</strong> or 
<strong>persistent</strong>. <strong>mnesia</strong> is not possible since all these 
functions are <strong>snmpa_local_db</strong> specific.
</p><h2>Common Data Types</h2><p>In the functions defined below, the following types are
used:
</p><ul><li> <p><strong>NameDb = {Name, Db}</strong></p> </li><li> <p><strong>Name = atom(), Db = volatile | persistent</strong></p> </li><li> <p><strong>RowIndex = [int()]</strong></p> </li><li> <p><strong>Cols = [Col] | [{Col, Value}], Col = int(), Value = term()</strong></p> </li></ul><p>where <strong>RowIndex</strong> denotes the last part of the OID, that
specifies the index of the row in the table.  <strong>Cols</strong> is a
list of column numbers in case of a get operation, and a list of
column numbers and values in case of a set operation.
</p><h1>Functions</h1><h2>dump() -&gt; ok | {error, Reason}</h2><p>Dump the database to disk</p><ul><li><span class="v">Reason = term()</span></li></ul><p>This function can be used to manually dump the database 
to file.</p><h2>match(NameDb, Pattern)</h2><p>Perform a match on the table</p><p>Performs an ets/dets matching on the table. 
See Stdlib documentation, module ets, for a description of 
<strong>Pattern</strong> and the return values.</p><h2>print()</h2><h2>print(TableName)</h2><h2>print(TableName, Db)</h2><p>Print the database to screen</p><ul><li><span class="v">TableName = atom()</span></li></ul><p>Prints the contents of the database on
screen. This is useful for debugging since the 
<strong>STANDARD-MIB</strong> and <strong>OTP-SNMPEA-MIB</strong> 
(and maybe your own MIBs) are stored in <strong>snmpa_local_db</strong>.
</p><p><strong>TableName</strong> is an atom for a table in the database. 
When no name is supplied, the whole database is shown.</p><h2>table_create(NameDb) -&gt; bool()</h2><p>Create a table</p><p>Creates a table. If the table already exist, the old copy
is destroyed.
</p><p>Returns <strong>false</strong> if the <strong>NameDb</strong> argument is
incorrectly specified, <strong>true</strong> otherwise.</p><h2>table_create_row(NameDb, RowIndex, Row) -&gt; bool()</h2><p>Create a row in a table</p><ul><li><span class="v">Row = {Val1, Val2, ..., ValN}</span></li><li><span class="v">Val1 = Val2 = ... = ValN = term()</span></li></ul><p>Creates a row in a table.  <strong>Row</strong> is a tuple with
values for all columns, including the index columns.</p><h2>table_delete(NameDb) -&gt; void()</h2><p>Delete a table</p><p>Deletes a table.</p><h2>table_delete_row(NameDb, RowIndex) -&gt; bool()</h2><p>Delete the row in the table</p><p>Deletes the row in the table.</p><h2>table_exists(NameDb) -&gt; bool()</h2><p>Check if a table exists</p><p>Checks if a table exists.</p><h2>table_get_row(NameDb, RowIndex) -&gt; Row | undefined</h2><p>Get a row from the table</p><ul><li><span class="v">Row = {Val1, Val2, ..., ValN}</span></li><li><span class="v">Val1 = Val2 = ... = ValN = term()</span></li></ul><p><strong>Row</strong> is a tuple with values for all columns,
including the index columns.</p><h2>See Also</h2><p>ets(3), dets(3), snmp_generic(3)
</p></body></html>