<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>snmpc</h1><h1>snmpc</h1><p>Interface Functions to the SNMP toolkit MIB compiler</p><p>The module <strong>snmpc</strong> contains interface functions to the 
SNMP toolkit MIB compiler.<a name="compile"></a></p><h1>Functions</h1><h2>compile(File)</h2><h2>compile(File, Options) -&gt; {ok, BinFileName} | {error, Reason}</h2><p>Compile the specified MIB</p><ul><li><span class="v">File = string()</span></li><li><span class="v">Options = [opt()]</span></li><li><span class="v">opt() = db() | relaxed_row_name_assign_check() | deprecated() |  description() | reference() | group_check() |  i() | il() |  imports() | module() | module_identity() | module_compliance() |  agent_capabilities() | outdir() |  no_defs() | verbosity() |  warnings() | warnings_as_errors()</span></li><li><span class="v">db() = {db, volatile|persistent|mnesia}</span></li><li><span class="v">deprecated() = {deprecated, bool()}</span></li><li><span class="v">relaxed_row_name_assign_check() = relaxed_row_name_assign_check</span></li><li><span class="v">description() = description</span></li><li><span class="v">reference() = reference</span></li><li><span class="v">group_check() = {group_check, bool()}</span></li><li><span class="v">i() = {i, [dir()]}</span></li><li><span class="v">il() = {il, [dir()]}</span></li><li><span class="v">imports() = imports</span></li><li><span class="v">module() = {module, atom()}</span></li><li><span class="v">module_identity() = module_identity</span></li><li><span class="v">module_compliance() = module_compliance</span></li><li><span class="v">agent_capabilities() = agent_capabilities</span></li><li><span class="v">no_defs() = no_defs</span></li><li><span class="v">outdir() = {outdir, dir()}</span></li><li><span class="v">verbosity() = {verbosity, silence|warning|info|log|debug|trace}</span></li><li><span class="v">warnings() = {warnings, bool()}</span></li><li><span class="v">warnings_as_errors() = warnings_as_errors</span></li><li><span class="v">dir() = string()</span></li><li><span class="v">BinFileName = string()</span></li></ul><a name="compiler_opts"></a><p>Compiles the specified MIB file <strong>&lt;File&gt;.mib</strong>.  The
compiled file <strong>BinFileName</strong> is called 
<strong>&lt;File&gt;.bin</strong>. </p><ul><li> <p>The option <strong>db</strong> specifies which database should
be used for the default instrumentation. </p> <p>Default is <strong>volatile</strong>. </p> </li><li> <p>The option <strong>deprecated</strong> specifies if a deprecated 
definition should be kept or not. If the option is 
false the MIB compiler will ignore all deprecated
definitions. </p> <p>Default is <strong>true</strong>. </p> </li><li> <p>The option <strong>relaxed_row_name_assign_check</strong>, if present,
specifies that the row name assign check shall not be done 
strictly according to the SMI (which allows only the value 1). 
With this option, all values greater than zero is allowed 
(&gt;= 1). This means that the error will be converted to a 
warning. </p> <p>By default it is not included, but if this option is present 
it will be. </p> </li><li> <p>The option <strong>description</strong> specifies if the text
of the DESCRIPTION field will be included or not. </p> <p>By default it is not included, but if this option is 
present it will be. </p> </li><li> <p>The option <strong>reference</strong> specifies if the text
of the REFERENCE field, when found in a table definition, 
will be included or not. </p> <p>By default it is not included, but if this option is present 
it will be. The reference text will be placed in the allocList 
field of the mib-entry record (#me{}) for the table. </p> </li><li> <p>The option <strong>group_check</strong> specifies whether the
mib compiler should check the OBJECT-GROUP macro and
the NOTIFICATION-GROUP macro for correctness or not.  </p> <p>Default is <strong>true</strong>. </p> </li><li> <p>The option <strong>i</strong> specifies the path to search for
imported (compiled) MIB files. The directories should be
strings with a trailing directory delimiter. </p> <p>Default is <strong>["./"]</strong>. </p> </li><li> <p>The option <strong>il</strong> (include_lib) also specifies a
list of directories to search for imported MIBs. It
assumes that the first element in the directory name
corresponds to an OTP application. The compiler will find
the current installed version. For example, the value
["snmp/mibs/"] will be replaced by ["snmp-3.1.1/mibs/"]
(or what the current version may be in the system). The
current directory and the 
<strong>&lt;snmp-home&gt;/priv/mibs/</strong>
are always listed last in the include path. </p> </li><li> <p>The option <strong>imports</strong>, if present, specifies that 
the IMPORT statement of the MIB shall be included in the 
compiled mib. </p> </li><li> <p>The option <strong>module</strong>, if present, specifies the
name of a module which implements all instrumentation
functions for the MIB.  </p> <p>The name of all instrumentation
functions must be the same as the corresponding managed
object it implements. </p> </li><li> <p>The option <strong>module_identity</strong>, if present, specifies 
that the info part of the MODULE-IDENTITY statement of the MIB 
shall be included in the compiled mib. </p> </li><li> <p>The option <strong>module_compliance</strong>, if present, specifies 
that the MODULE-COMPLIANCE statement of the MIB shall be included 
(with a mib-entry record) in the compiled mib. The mib-entry record 
of the module-compliance will contain <strong>reference</strong> and <strong>module</strong> 
part(s) this info in the <strong>assocList</strong> field). </p> </li><li> <p>The option <strong>agent_capabilities</strong>, if present, specifies 
that the AGENT-CAPABILITIES statement of the MIB shall be included 
(with a mib-entry record) in the compiled mib. The mib-entry record 
of the agent-capabilitie will contain <strong>reference</strong> and <strong>modules</strong> 
part(s) this info in the <strong>assocList</strong> field). </p> </li><li> <p>The option <strong>no_defs</strong>, if present, specifies 
that if a managed object does not have an instrumentation
function, the default instrumentation function should NOT
be used, instead this is reported as an error, and the
compilation aborts. </p> </li><li> <p>The option <strong>verbosity</strong> specifies the verbosity of
the SNMP mib compiler. I.e. if warning, info, log, debug 
and trace messages shall be shown. </p> <p>Default is <strong>silence</strong>. </p> <p>Note that if the option <strong>warnings</strong> is <strong>true</strong> and the 
option <strong>verbosity</strong> is <strong>silence</strong>, warning messages will
still be shown. </p> </li><li> <p>The option <strong>warnings</strong> specifies whether warning
messages should be shown. </p> <p>Default is <strong>true</strong>. </p> </li><li> <p>The option <strong>warnings_as_errors</strong>, if present, specifies 
whether warnings should be treated as errors.</p> </li></ul><p>The MIB compiler understands both SMIv1 and SMIv2 MIBs.  It
uses the <strong>MODULE-IDENTITY</strong> statement to determine if the MIB is
version 1 or 2.
</p><p>The MIB compiler can be invoked from the OS command line by
using the command <strong>erlc</strong>.  <strong>erlc</strong> recognizes the
extension <strong>.mib</strong>, and invokes the SNMP MIB compiler for
files with that extension. The options <strong>db</strong>, 
<strong>group_check</strong>, <strong>deprecated</strong>, <strong>description</strong>,
<strong>verbosity</strong>, <strong>imports</strong> and <strong>module_identity</strong>
have to be specified to <strong>erlc</strong> using the syntax 
<strong>+term</strong>.  See <strong>erlc(1)</strong> for details.
</p><a name="is_consistent"></a><h2>is_consistent(Mibs) -&gt; ok | {error, Reason}</h2><p>Check for OID conflicts between MIBs</p><ul><li><span class="v">Mibs = [MibName]</span></li><li><span class="v">MibName = string()</span></li></ul><p>Checks for multiple usage of object identifiers and traps
between MIBs.
</p><a name="mib_to_hrl"></a><h2>mib_to_hrl(MibName) -&gt; ok | {error, Reason}</h2><p>Generate constants for the objects in the MIB</p><ul><li><span class="v">MibName = string()</span></li></ul><p>Generates a <strong>.hrl</strong> file with definitions of Erlang
constants for the objects in the MIB. The <strong>.hrl</strong> file is
called <strong>&lt;MibName&gt;.hrl</strong>. The MIB must be compiled, and
present in the current directory.
</p><p>The <strong>mib_to_hrl</strong> generator can be invoked from the OS
command line by using the command <strong>erlc</strong>.  <strong>erlc</strong>
recognizes the extension <strong>.bin</strong>, and invokes this function
for files with that extension.
</p><h2>See Also</h2><p>erlc(1)
</p></body></html>