<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>snmp_user_based_sm_mib</h1><h1>snmp_user_based_sm_mib</h1><p>Instrumentation Functions for SNMP-USER-BASED-SM-MIB</p><p>The module <strong>snmp_user_based_sm_mib</strong> implements the instrumentation 
functions for the SNMP-USER-BASED-SM-MIB, and functions for configuring 
the database.
The configuration files are described in the SNMP User's Manual.</p><h1>Functions</h1><h2>configure(ConfDir) -&gt; void()</h2><p>Configure the SNMP-USER-BASED-SM-MIB</p><ul><li><span class="v">ConfDir = string()</span></li></ul><p>This function is called from the supervisor at system
start-up.
</p><p>Inserts all data in the configuration files into the
database and destroys all old rows with StorageType
<strong>volatile</strong>.  The rows created from the configuration file
will have StorageType <strong>nonVolatile</strong>.
</p><p>All <strong>snmp</strong> counters are set to zero.
</p><p>If an error is found in the configuration file, it is
reported using the function <strong>config_err/2</strong> of the error
report module, and the function fails with the reason 
<strong>configuration_error</strong>.
</p><p><strong>ConfDir</strong> is a string which points to the directory
where the configuration files are found.
</p><p>The configuration file read is: <strong>usm.conf</strong>.
</p><h2>reconfigure(ConfDir) -&gt; void()</h2><p>Configure the SNMP-USER-BASED-SM-MIB</p><ul><li><span class="v">ConfDir = string()</span></li></ul><p>Inserts all data in the configuration files into the
database and destroys all old data, including the rows with
StorageType <strong>nonVolatile</strong>.  The rows created from the
configuration file will have StorageType <strong>nonVolatile</strong>.
</p><p>Thus, the data in the SNMP-USER-BASED-SM-MIB, after this
function has been called, is the data from the configuration
files.
</p><p>All <strong>snmp</strong> counters are set to zero.
</p><p>If an error is found in the configuration file, it is
reported using the function <strong>config_err/2</strong> of the error
report module, and the function fails with the reason 
<strong>configuration_error</strong>.
</p><p><strong>ConfDir</strong> is a string which points to the directory
where the configuration files are found.
</p><p>The configuration file read is: <strong>usm.conf</strong>.
<a name="add_user"></a>
</p><h2>add_user(EngineID, Name, SecName, Clone, AuthP, AuthKeyC, OwnAuthKeyC, PrivP, PrivKeyC, OwnPrivKeyC, Public, AuthKey, PrivKey) -&gt; Ret</h2><p>Add one user</p><ul><li><span class="v">EngineID = string()</span></li><li><span class="v">Name = string()</span></li><li><span class="v">SecName = string()</span></li><li><span class="v">Clone = zeroDotZero | [integer()]</span></li><li><span class="v">AuthP = usmNoAuthProtocol | usmHMACMD5AuthProtocol | usmHMACSHAAuthProtocol</span></li><li><span class="v">AuthKeyC = string()</span></li><li><span class="v">OwnAuthKeyC = string()</span></li><li><span class="v">PrivP = usmNoPrivProtocol | usmDESPrivProtocol</span></li><li><span class="v">PrivKeyC = string()</span></li><li><span class="v">OwnPrivKeyC = string()</span></li><li><span class="v">Public = string()</span></li><li><span class="v">AuthKey = string()</span></li><li><span class="v">PrivKey = string()</span></li><li><span class="v">Ret = {ok, Key} | {error, Reason}</span></li><li><span class="v">Key = term()</span></li><li><span class="v">Reason = term()</span></li></ul><p>Adds a USM security data (user) to the agent config. 
Equivalent to one line in the <strong>usm.conf</strong> file.</p><a name="delete_user"></a><h2>delete_user(Key) -&gt; Ret</h2><p>Delete one user</p><ul><li><span class="v">Key = term()</span></li><li><span class="v">Ret = ok | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><p>Delete a USM security data (user) from the agent config.</p></body></html>