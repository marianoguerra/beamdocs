<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>rb</h1><h1>rb</h1><p>The Report Browser Tool</p><p>The Report Browser (RB) tool is used to browse and
format error reports written by the error logger handler
<a href="./log_mf_h">stdlib/log_mf_h</a>
in STDLIB.</p><h1>Functions</h1><h2>filter(Filters)</h2><h2>filter(Filters, Dates)</h2><p>Filters reports and displays them on the screen.</p><ul><li><span class="v">Filters = [filter()]</span></li><li><span class="v">filter() = {Key, Value} | {Key, Value, no} | {Key, RegExp, re} | {Key, RegExp, re, no}</span></li><li><span class="v">Key = term()</span></li><li><span class="v">Value = term()</span></li><li><span class="v">RegExp = string() | {string(), Options} | re:mp() | {re:mp(), Options}</span></li><li><span class="v">Dates = {DateFrom, DateTo} | {DateFrom, from} | {DateTo, to}</span></li><li><span class="v">DateFrom = DateTo = calendar:datetime()</span></li></ul><p>Displays the reports that match the provided filters.</p><p>When a filter includes the <strong>no</strong> atom, it excludes the
reports that match that filter.</p><p>The reports are matched using the
<a href="./proplists">stdlib/proplists</a>
module in STDLIB. The report must be a proplist
to be matched against any of the filters.</p><p>If the filter has the form <strong>{Key, RegExp, re}</strong>, the
report must contain an element with key equal to <strong>Key</strong> and
the value must match the regular expression <strong>RegExp</strong>.</p><p>If parameter <strong>Dates</strong> is specified, the reports are filtered
according to the date when they occurred. If <strong>Dates</strong> has
the form <strong>{DateFrom, from}</strong>, reports that occurred after
<strong>DateFrom</strong> are displayed.</p><p>If <strong>Dates</strong> has the form <strong>{DateTo, to}</strong>, reports that
occurred before <strong>DateTo</strong> are displayed.</p><p>If two <strong>Dates</strong> are specified, reports that occurred between
those dates are returned.</p><p>To filter only by dates, specify the empty list as the <strong>Filters</strong>
parameter.</p><p>For details about parameter <strong>RegExp</strong>, see <strong>rb:grep/1</strong>.</p><p>For details about data type <strong>mp()</strong>, see 
<a href="../stdlib/re#type-mp">stdlib/re#type-mp</a>.</p><p>For details about data type <strong>datetime()</strong>, see 
<a href="../stdlib/calendar#type-datetime">stdlib/calendar#type-datetime</a>.</p><h2>grep(RegExp)</h2><p>Searches the reports for a regular expression.</p><ul><li><span class="v">RegExp = string() | {string(), Options} | re:mp() | {re:mp(), Options}</span></li></ul><p>All reports matching the regular expression <strong>RegExp</strong>
are displayed. <strong>RegExp</strong> can be any of the following:</p><ul><li>A string containing the regular expression</li><li>A tuple with the string and the options for compilation</li><li>A compiled regular expression</li><li>A compiled regular expression and the options for running it</li></ul><p>For a definition of valid regular expressions and options, see
the <a href="./re">stdlib/re</a> module in
STDLIB and in particular function <strong>re:run/3</strong>.</p><p>For details about data type <strong>mp()</strong>, see 
<a href="../stdlib/re#type-mp">stdlib/re#type-mp</a>.</p><h2>h()</h2><h2>help()</h2><p>Displays help information.</p><p>Displays online help information.</p><h2>list()</h2><h2>list(Type)</h2><p>Lists all reports.</p><ul><li><span class="v">Type = type()</span></li><li><span class="v">type() = error | error_report | info_msg | info_report | warning_msg | warning_report | crash_report | supervisor_report | progress</span></li></ul><p>Lists all reports loaded in
<strong>rb_server</strong>. Each report is given a unique number that
can be used as a reference to the report in function
<a href="#show/1">show/1</a>.</p><p>If no <strong>Type</strong> is specified, all reports are listed.</p><h2>log_list()</h2><h2>log_list(Type)</h2><p>Logs report lists.</p><ul><li><span class="v">Type = type()</span></li><li><span class="v">type() = error | error_report | info_msg | info_report | warning_msg | warning_report | crash_report | supervisor_report | progress</span></li></ul><p>Same as functions 
<a href="#list/0">list/0</a> or 
<a href="#list/1">list/1</a>,
but the result is printed to a log file, if set; otherwise
to <strong>standard_io</strong>.</p><p>If no <strong>Type</strong> is specified, all reports are listed.</p><h2>rescan()</h2><h2>rescan(Options)</h2><p>Rescans the report directory.</p><ul><li><span class="v">Options = [opt()]</span></li></ul><p>Rescans the report directory. <strong>Options</strong> is the same as
for function 
<a href="#start/1">start/1</a>.</p><h2>show()</h2><h2>show(Report)</h2><p>Displays reports.</p><ul><li><span class="v">Report = integer() | type()</span></li></ul><p>If argument <strong>type</strong> is specified, all loaded reports of this
type are displayed. If an integer argument is specified, the
report with this reference number is displayed. If no argument
is specified, all reports are displayed.</p><h2>start()</h2><h2>start(Options)</h2><p>Starts the <strong>rb_server</strong>.</p><ul><li><span class="v">Options = [opt()]</span></li><li><span class="v">opt() = {start_log, FileName} | {max, MaxNoOfReports} | {report_dir, DirString} | {type, ReportType} | {abort_on_error, Bool}</span></li><li><span class="v">FileName = string() | atom() | pid()</span></li><li><span class="v">MaxNoOfReports = integer() | all</span></li><li><span class="v">DirString = string()</span></li><li><span class="v">ReportType = type() | [type()] | all</span></li><li><span class="v">Bool = boolean()</span></li></ul><p>Function <strong>start/1</strong> starts <strong>rb_server</strong> with the
specified options, whereas function <strong>start/0</strong> starts with
default options. <strong>rb_server</strong> must be started before
reports can be browsed. When <strong>rb_server</strong> is
started, the files in the specified directory are
scanned. The other functions assume that the server has
started.</p><p><em>Options:</em></p><dl><dt><strong>{start_log, FileName}</strong></dt><dd><p>Starts logging to file,
registered name, or <strong>io_device</strong>. All reports are printed
to the specified destination. Default is <strong>standard_io</strong>.
Option <strong>{start_log, standard_error}</strong> is not allowed and
will be replaced by default <strong>standard_io</strong>.</p></dd><dt><strong>{max, MaxNoOfReports}</strong></dt><dd><p>Controls how many reports
<strong>rb_server</strong> is to read at startup. This option is
useful, as the directory can contain a large amount of reports. If this
option is specified, the <strong>MaxNoOfReports</strong> latest reports
are read. Default is <strong>all</strong>.</p></dd><dt><strong>{report_dir, DirString}</strong></dt><dd><p>Defines the directory where
the error log files are located. Default is
the directory specified by application environment
variable <strong>error_logger_mf_dir</strong>,
see <a href="sasl_app">sasl(6)</a>.</p></dd><dt><strong>{type, ReportType}</strong></dt><dd><p>Controls what kind of reports
<strong>rb_server</strong> is to read at startup. <strong>ReportType</strong>
is a supported type, <strong>all</strong>, or a list of supported
types. Default is <strong>all</strong>.</p></dd><dt><strong>{abort_on_error, Bool}</strong></dt><dd><p>Specifies if
logging is to be ended if <strong>rb</strong> encounters an unprintable
report. (You can get a report with an incorrect form if function
<strong>error_logger</strong>, <strong>error_msg</strong>, or
<strong>info_msg</strong> has been called with an invalid format string)</p> <ul><li>If <strong>Bool</strong> is <strong>true</strong>, <strong>rb</strong> stops logging (and prints an error message to <strong>stdout</strong>) if it encounters a badly formatted report. If logging to file is enabled, an error message is appended to the log file as well.</li><li>If <strong>Bool</strong> is <strong>false</strong> (the default value), <strong>rb</strong>  prints an error message to <strong>stdout</strong> for every bad report it encounters, but the logging process is never ended. All printable  reports are written. If logging to file is enabled, <strong>rb</strong> prints  <strong>* UNPRINTABLE REPORT *</strong> in the log file at the location of an unprintable report.</li></ul></dd></dl><h2>start_log(FileName)</h2><p>Redirects all output to <strong>FileName</strong>.</p><ul><li><span class="v">FileName = string() | atom() | pid()</span></li></ul><p>Redirects all report output from the RB tool to the
specified file, registered name, or <strong>io_device</strong>.</p><h2>stop()</h2><p>Stops the <strong>rb_server</strong>.</p><p>Stops <strong>rb_server</strong>.</p><h2>stop_log()</h2><p>Stops logging to file.</p><p>Closes the log file. The output from the RB tool is
directed to <strong>standard_io</strong>.</p></body></html>