<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>alarm_handler</h1><h1>alarm_handler</h1><p>An Alarm Handling Process</p><p>The alarm handler process is a 
<a href="./gen_event">stdlib/gen_event</a> 
event manager process that receives alarms in the system. 
This process is not intended to be a complete alarm handler. 
It defines a place to which alarms can be sent. One simple event 
handler is installed in the alarm handler at startup, but users 
are encouraged to write and install their own handlers.The simple event handler sends all alarms as info reports to
the error logger, and saves all in a list. This list can be
passed to a user-defined event handler, which can be installed
later. The list can grow large if many alarms are generated.
This is a good reason to install a better user-defined
handler.Functions are provided to set and clear alarms. The alarm
format is defined by the user. For example, an event handler
for SNMP can be defined, together with an alarm Management
Information Base (MIB).The alarm handler is part of the SASL application.When writing new event handlers for the alarm handler, the
following events must be handled:<dl><dt><strong>{set_alarm, {AlarmId, AlarmDescr}}</strong></dt><dd> <p>This event is generated by
<strong>alarm_handler:set_alarm({AlarmId, AlarmDecsr})</strong>.</p> </dd><dt><strong>{clear_alarm, AlarmId}</strong></dt><dd> <p>This event is
generated by <strong>alarm_handler:clear_alarm(AlarmId)</strong>.</p> </dd></dl>The default simple handler is called <strong>alarm_handler</strong> and
it can be exchanged by calling 
<a href="../stdlib/gen_event#swap_handler/3">stdlib/gen_event#swap_handler/3</a>
as <strong>gen_event:swap_handler(alarm_handler, {alarm_handler, swap}, {NewHandler, Args})</strong>. <strong>NewHandler:init({Args, {alarm_handler, Alarms}})</strong> is called. For more details, see
<a href="./gen_event">stdlib/gen_event</a>
in STDLIB.</p><h1>Functions</h1><h2>clear_alarm(AlarmId) -&gt; void()</h2><p>Clears the specified alarms.</p><ul><li><span class="v">AlarmId = term()</span></li></ul><p>Sends event <strong>clear_alarm</strong> to all event handlers.</p><p>When receiving this event, the default simple handler
clears the latest received alarm with id <strong>AlarmId</strong>.</p><h2>get_alarms() -&gt; [alarm()]</h2><p>Gets all active alarms.</p><p>Returns a list of all active alarms. This function can only
be used when the simple handler is installed.</p><h2>set_alarm(alarm())</h2><p>Sets an alarm with an id.</p><ul><li><span class="v">alarm() = {AlarmId, AlarmDescription}</span></li><li><span class="v">AlarmId = term()</span></li><li><span class="v">AlarmDescription = term()</span></li></ul><p>Sends event <strong>set_alarm</strong> to all event handlers.</p><p>When receiving this event, the default simple handler
stores the alarm. <strong>AlarmId</strong> identifies the alarm
and is used when the alarm is cleared.</p><h2>See Also</h2><p><a href="./error_logger">kernel/error_logger</a>,
<a href="./gen_event">stdlib/gen_event</a></p></body></html>