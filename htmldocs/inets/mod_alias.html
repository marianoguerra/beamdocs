<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>mod_alias</h1><h1>mod_alias</h1><p>URL aliasing.</p><p>Erlang web server internal API for handling of, for example,
interaction data exported by module <strong>mod_alias</strong>.<a name="default_index"></a></p><h1>Functions</h1><h2>default_index(ConfigDB, Path) -&gt; NewPath</h2><p>Returns a new path with the default resource or file appended.</p><ul><li><span class="v">ConfigDB = config_db()</span></li><li><span class="v">Path = NewPath = string()</span></li></ul><a name="default_index"></a><p>If <strong>Path</strong> is a directory, <strong>default_index/2</strong>, it starts
searching for resources or files that are specified in the config
directive <strong>DirectoryIndex</strong>.
If an appropriate resource or file is found, it is appended to
the end of <strong>Path</strong> and then returned. <strong>Path</strong> is
returned unaltered if no appropriate
file is found or if <strong>Path</strong> is not a directory.
<strong>config_db()</strong> is the server config file in ETS table format
as described in
<a href="http_server">Inets User's Guide</a>.</p><a name="path"></a><h2>path(PathData, ConfigDB, RequestURI) -&gt; Path</h2><p>Returns the file path to a URL.</p><ul><li><span class="v">PathData = interaction_data()</span></li><li><span class="v">ConfigDB = config_db()</span></li><li><span class="v">RequestURI = Path = string()</span></li></ul><a name="path"></a><p><strong>path/3</strong> returns the file <strong>Path</strong> in the
<strong>RequestURI</strong> (see 
<a href="http://www.rfc-base.org/rfc-1945.html">RFC 1945</a>). 
If the interaction data <strong>{real_name,{Path,AfterPath}}</strong> 
has been exported by <strong>mod_alias</strong>,
<strong>Path</strong> is returned. If no interaction data has been
exported, <strong>ServerRoot</strong> is used to
generate a file <strong>Path</strong>. <strong>config_db()</strong> and
<strong>interaction_data()</strong> are as defined in 
<a href="http_server">Inets User's Guide</a>.</p><a name="real_name"></a><h2>real_name(ConfigDB, RequestURI, Aliases) -&gt; Ret</h2><p>Expands a request URI using <strong>Aliases</strong> config directives.</p><ul><li><span class="v">ConfigDB = config_db()</span></li><li><span class="v">RequestURI = string()</span></li><li><span class="v">Aliases = [{FakeName,RealName}]</span></li><li><span class="v">Ret = {ShortPath,Path,AfterPath}</span></li><li><span class="v">ShortPath = Path = AfterPath = string()</span></li></ul><a name="real_name"></a><p><strong>real_name/3</strong> traverses <strong>Aliases</strong>, typically
extracted from <strong>ConfigDB</strong>, and matches each
<strong>FakeName</strong> with <strong>RequestURI</strong>. If a match is found, 
<strong>FakeName</strong> is replaced with <strong>RealName</strong> in the
match. The resulting path is split into two parts,
<strong>ShortPath</strong> and <strong>AfterPath</strong>, as defined in 
<a href="./httpd_util#split_path-1">httpd_util:split_path/1</a>. 
<strong>Path</strong> is generated from <strong>ShortPath</strong>, that is,
the result from 
<a href="#default_index">default_index/2</a> with
<strong>ShortPath</strong> as an argument.
<strong>config_db()</strong> is the server config file in ETS table
format as described in 
<a href="http_server">Inets User's Guide</a>.</p><a name="real_script_name"></a><h2>real_script_name(ConfigDB, RequestURI, ScriptAliases) -&gt; Ret</h2><p>Expands a request URI using <strong>ScriptAliases</strong>  config directives.</p><ul><li><span class="v">ConfigDB = config_db()</span></li><li><span class="v">RequestURI = string()</span></li><li><span class="v">ScriptAliases = [{FakeName,RealName}]</span></li><li><span class="v">Ret = {ShortPath,AfterPath} | not_a_script</span></li><li><span class="v">ShortPath = AfterPath = string()</span></li></ul><a name="real_script_name"></a><p><strong>real_script_name/3</strong> traverses <strong>ScriptAliases</strong>,
typically extracted from <strong>ConfigDB</strong>, and matches each
<strong>FakeName</strong> with <strong>RequestURI</strong>. If a match is found,
<strong>FakeName</strong> is replaced with <strong>RealName</strong> in the
match. If the resulting match is not an executable script,
<strong>not_a_script</strong> is returned. If it is a script, the
resulting script path is in two parts,
<strong>ShortPath</strong> and <strong>AfterPath</strong>, as defined in 
<a href="./httpd_util#split_script_path-1">httpd_util:split_script_path/1</a>.
<strong>config_db()</strong> is the server config file in ETS table
format as described in 
<a href="http_server">Inets User's Guide</a>.</p></body></html>