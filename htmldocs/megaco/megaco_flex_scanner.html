<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>megaco_flex_scanner</h1><h1>megaco_flex_scanner</h1><p>Interface module to the flex scanner linked in driver.</p><p>This module contains the public interface to the flex scanner 
linked in driver. The flex scanner performs the scanning phase
of text message decoding.The flex scanner is written using a tool called <em>flex</em>. 
In order to be able to compile the flex scanner driver, this
tool has to be available. By default the flex scanner reports line-number of an error.
But it can be built without line-number reporting. Instead
token number is used. This will speed up the scanning some
5-10%. Use <strong>--disable-megaco-flex-scanner-lineno</strong> when
configuring the application.The scanner will, by default, be built as a reentrant scanner <em>if</em> the 
flex utility supports this (it depends on the version of flex). 
It is possible to explicitly disable this even when flex support this.
Use <strong>--disable-megaco-reentrant-flex-scanner</strong> when
configuring the application.</p><h2>DATA TYPES</h2><pre><code class="">

megaco_ports() = term()
megaco_version() = integer() &gt;= 1
 
    </code></pre><a name="start"></a><h1>Functions</h1><h2>start() -&gt; {ok, PortOrPorts} | {error, Reason}</h2><ul><li><span class="v">PortOrPorts = megaco_ports()</span></li><li><span class="v">Reason = term()</span></li></ul><p>This function is used to start the flex scanner. 
It locates the library and loads the linked in driver.</p><p>On a single core system or if it's a non-reentrant scanner,
a single port is created. On a multi-core system with a reentrant 
scanner, several ports will be created (one for each scheduler). </p><p>Note that the process that calls this function <em>must</em> 
be permanent. If it dies, the port(s) will exit and the driver unload.</p><a name="stop"></a><h2>stop(PortOrPorts) -&gt; stopped</h2><ul><li><span class="v">PortOrPorts = megaco_ports()</span></li></ul><p>This function is used to stop the flex scanner. It also
unloads the driver.</p><a name="is_reentrant_enabled"></a><h2>is_reentrant_enabled() -&gt; Boolean</h2><ul><li><span class="v">Boolean = boolean()</span></li></ul><p>Is the flex scanner reentrant or not.</p><a name="is_scanner_port"></a><h2>is_scanner_port(Port, PortOrPorts) -&gt; Boolean</h2><ul><li><span class="v">Port = port()</span></li><li><span class="v">PortOrPorts = megaco_ports()</span></li><li><span class="v">Boolean = boolean()</span></li></ul><p>Checks if a port is a flex scanner port or not (useful when
if a port exits). </p><a name="scan"></a><h2>scan(Binary, PortOrPorts) -&gt; {ok, Tokens, Version, LatestLine} | {error, Reason, LatestLine}</h2><ul><li><span class="v">Binary = binary()</span></li><li><span class="v">PortOrPorts = megaco_ports()</span></li><li><span class="v">Tokens = list()</span></li><li><span class="v">Version = megaco_version()</span></li><li><span class="v">LatestLine = integer()</span></li><li><span class="v">Reason = term()</span></li></ul><p>Scans a megaco message and generates a token list to be passed on the parser. </p></body></html>