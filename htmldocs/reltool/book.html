<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>Reltool</h1><h1>Reltool</h1><p>Reltool is a release management tool. It analyses a given
Erlang/OTP installation and determines various dependencies
between applications. The <strong>graphical</strong> frontend depicts the
dependencies and enables interactive customization of a
target system. The backend provides a <strong>batch</strong> interface
for generation of customized target systems.</p><p>Reltool is a release management tool. It analyses a given
Erlang/OTP installation and determines various dependencies between
applications. The <strong>graphical</strong> frontend depicts the dependencies and
enables interactive customization of a target system. The backend provides a
<strong>batch</strong> interface for generation of customized target systems.</p><h4>Scope and Purpose</h4><p>This manual describes the Reltool application, as a component of the
Erlang/Open Telecom Platform development environment. It is assumed that
the reader is familiar with the Erlang Development Environment, which is
described in a separate User's Guide.</p><h4>Prerequisites</h4><p>The following prerequisites is required for understanding the material
in the Reltool User's Guide:</p><ul><li> <p>familiarity with Erlang/OTP system principles and Erlang/OTP design
principles</p> </li></ul><p>The application requires Erlang/OTP release R13B02 or later.</p><h4>About This Manual</h4><p>In addition to this introductory chapter, the Reltool User's Guide
contains the following chapters:</p><ul><li> <p>Chapter 2: "Usage" describes the architecture
and typical usage of the application.</p> </li><li> <p>Chapter 3: "Examples" gives some usage examples</p> </li></ul><h4>Where to Find More Information</h4><p>Refer to the following documentation for more information about Reltool
and about the Erlang/OTP development system:</p><ul><li> <p>the Reference Manual of Reltool</p> </li><li> <p>the Erlang/OTP <strong>System Principles</strong></p> </li><li> <p>the Erlang/OTP <strong>Design Principles</strong></p> </li><li> <p>Programming Erlang: Software for a Concurrent World (2007),
Pragmatic Bookshelf, ISBN13: 9781934356005.</p> </li></ul><h4>Overview</h4><p>This document focuses on the graphical parts of the tool. The
concepts are explained in the reference manual for the module
<strong>reltool</strong>.</p><h4>System window</h4><p>The system window is started with the function
<strong>reltool:start/1</strong>. At startup the tool will process all
<strong>beam</strong> files and <strong>app</strong> files in order to find out dependencies
between applications and their modules. Once all this information has been
derived, it will be possible to explore the tool.</p><p>The system window consists of four main pages (tabs):</p><ul><li>Libraries </li><li>System settings </li><li>Applications </li><li>Releases </li></ul><p>Click on a name tag to display its page.</p><h4>Libraries</h4><p>On the library page it is possible to control which sources
the tool will use. The page is organized as a tree which
can be expanded and collapsed by clicking on the little symbol
in the beginning of the expandable/collapsible lines.</p><p>The <strong>Root directory</strong> can be edited by selecting the
line where the path of the root directory is displayed and
clicking the right mouse button. Choose edit in the menu
that pops up.</p><p>Library directories can be added, edited or deleted. This
is done by selecting the line where the path to a library
directory is displayed and clicking the right mouse
button. Choose add, edit or delete in the menu that pops
up. New library directories can also be added by selecting the
line <strong>Library directories</strong> and clicking the right
mouse button. Choose add in the menu that pops up.</p><p>Escript files can be added, edited or deleted. This is done
by selecting the line where the path to an escript file is
displayed and clicking the right mouse button. Choose
add, edit or delete in the menu that pops up. New escripts can
also be added by selecting the line <strong>Escript files</strong> and
clicking the right mouse button. Choose add in the menu
that pops up.</p><p>When libraries and escripts are expanded, the names of
their contained applications will be displayed. Double click
on an application name to launch an application window.</p><h4>System settings</h4><p>On the system settings page it is possible to control some
global settings that are used as defaults for all
applications. Set the <strong>Application inclusion policy</strong> to
<strong>include</strong> to include all applications that are not
explicitly excluded. See <strong>incl_cond</strong> (application
inclusion) and <strong>mod_cond</strong> (module inclusion) in the
reference manual for the module <strong>reltool</strong> for more
info.</p><p>The system settings page is rather incomplete.</p><h4>Applications</h4><p>There are four categories of applications on the
applications page. <strong>Included</strong> contains applications that
are explicitly included. <strong>Excluded</strong> contains applications
that are explicitly excluded. <strong>Derived</strong> contains
applications that either are used directly by explicitly
included applications or by other derived
applications. <strong>Available</strong> contains the remaining
applications.</p><p>Select one or more applications and click on a button
directly below the application column to change application
category. For example, select an available application and
click on its tick button to move the application to the
included category.  Clicking on the tick symbol for included
applications will move the application back to the available
category. The tick is undone.</p><p>The symbols in front of the application names are intended
to describe the status of the application. There are error
and warning symbols to signalize that there is
something which needs attention. The tick symbol means that the
application is included or derived and no problem has been
detected. The cross symbol means that the application is
excluded or available and no problem has been
detected. Applications with error symbols are listed first in
each category and are followed by the warnings and the
normal ones (ticks and crosses) at the end.</p><p>Double click on an application to launch its application
window.</p><h4>Releases</h4><p>The releases page is incomplete and very experimental.</p><h4>File menu</h4><ul><li> <p><strong>Display application dependency graph</strong> - Launches an
application force graph window. All included and derived
applications and their dependencies will be shown in a
graph.</p> </li><li> <p><strong>Display module dependency graph</strong> - Launch a module
force graph window. All included and derived modules and
their dependencies will be shown in a graph.</p> </li><li> <p><strong>Reset configuration to default</strong></p> </li><li> <p><strong>Undo configuration (toggle)</strong></p> </li><li> <p><strong>Load configuration</strong> - Loads a new configuration from file.</p> </li><li> <p><strong>Save configuration</strong> - Saves the current
configuration to file. Normally, only the explicit
configuration parameters with values that differ from their
defaults are saved. But the configuration with or without
default values and with or without derived values may also
be saved.</p> </li><li> <p><strong>Generate rel, script and boot files</strong></p> </li><li> <p><strong>Generate target system</strong></p> </li><li> <p><strong>Close</strong> - Close the system window and all its subwindows.</p> </li></ul><h4>Dependencies between applications or modules displayed as a graph</h4><p>The dependency graph windows are launched from the file menu
in the system window. The graph depicts all included and derived
applications/modules and their dependencies.</p><p>It is possible to perform some limited manipulations of the
graph. Nodes can be moved, selected, locked or deleted. Move a
single node or the entire graph by moving the mouse while the
left mouse button is pressed. A node can be locked into a fix
position by holding down the shift button when the left mouse
button is released. Select several nodes by moving the mouse
while the control key and the left mouse button are
pressed. Selected nodes can be locked, unlocked or deleted by
clicking on a suitable button.</p><p>The algorithm that is used to draw a graph with as few
crossed links as possible is called force graph. A force graph
consists of nodes and directed links between nodes. Each node is
associated with a repulsive force that pushes nodes away from
each other. This force can be adjusted with the left slider or
with the mouse wheel. Each link is associated with an attractive
force that pulls the nodes nearer to each other. This force can be
adjusted with the right slider. If this force becomes too strong,
the graph will be unstable. The third parameter that can be
adjusted is the length of the links. It is adjusted with the
middle slider.</p><p>The <strong>Freeze</strong> button starts/stops the redrawing of the
graph. <strong>Reset</strong> moves the graph to the middle of the window
and resets all graph settings to default, with the exception of
deleted nodes.</p><h4>Application window</h4><p>The application window is started by double clicking on an
application name. The application window consists of four
pages (tabs):</p><ul><li>Application settings </li><li>Modules </li><li>Application dependencies </li><li>Module dependencies </li></ul><p>Click on a name tag to display its page.</p><h4>Application settings</h4><p>Select version of the application in the <strong>Source selection policy</strong> part of the page. By default the latest version of the
application is selected, but it is possible to override this by
explicitly selecting another version.</p><p>Note that in order for reltool to sort application versions and
thereby be able to select the latest, it is required that the
version id for the application consits of integers and dots only,
for example <strong>1</strong>, <strong>2.0</strong> or <strong>3.17.1</strong>.</p><p>By default the <strong>Application inclusion policy</strong> on system
level is used for all applications. Set the value to
<strong>include</strong> if you want to explicitly include one particular
application. Set it to <strong>exclude</strong> if you want to exclude the
application despite that it is used by another (explicitly or
implicitly) included application. <strong>derived</strong> means that the
application automatically will be included if some other
(explicitly or implicitly) included application uses it.</p><p>By default the <strong>Module inclusion policy</strong> on system level
is used for all applications. Set it to <strong>derived</strong> if you only
want actually used modules to be included. Set it to <strong>app</strong> if
you, besides derived modules, also want the modules listed in the
app file to be included. Set it to <strong>ebin</strong> if you, besides
derived modules, also want the modules that exist as beam files
in the ebin directory to be included. Set it to <strong>all</strong> if you
want all modules to be included, that is the union of modules
found in the ebin directory and listed in the app file.</p><p>The application settings page is rather incomplete.</p><h4>Modules</h4><p>There are four categories of modules on the modules
page. <strong>Included</strong> contains modules that are explicitly
included. <strong>Excluded</strong> contains modules that are explicitly
excluded. <strong>Derived</strong> contains modules that either are used
directly by explicitly included modules or by other derived
modules. <strong>Available</strong> contains the remaining modules.</p><p>Select one or more modules and click on a button directly
below the module column to change module category. For
example, select an available module and click on its tick
button to move the module to the included category.  Clicking
on the tick symbol for included modules will move the
module back to the available category. The tick is
undone.</p><p>The symbols in front of the module names are intended to
describe the status of the module. There are error and
and warning symbols to signalize that there is something that needs
attention. The tick symbol means that the module is included
or derived and no problem has been detected. The cross symbol
means that the module is excluded or available and no problem
has been detected. Modules with error symbols are listed
first in each category and are followed by warnings and the
normal ones (ticks and crosses) at the end.</p><p>Double click on a module to launch its module window.</p><h4>Application dependencies</h4><p>There are four categories of applications on the <strong>Application dependencies</strong> page. If the application is used by other
applications, these are listed under <strong>Used by</strong>. If the
application requires other applications be started before it can
be started, these are listed under <strong>Required</strong>. These
applications are listed in the <strong>applications</strong> part of the
<strong>app</strong> file. If the application includes other applications,
these are listed under <strong>Included</strong>. These applications are
listed in the <strong>included_applications</strong> part of the <strong>app</strong>
file.  If the application uses other applications, these
are listed under <strong>Uses</strong>.</p><p>Double click on an application name to launch an application window.</p><h4>Module dependencies</h4><p>There are two categories of modules on the <strong>Module dependencies</strong> page. If the module is used by other modules,
these are listed under <strong>Modules using this</strong>. If the
module uses other modules, these are listed under <strong>Used modules</strong>.</p><p>Double click on an module name to launch a module window.</p><h4>Module window</h4><p>The module window is started by double clicking on an module
name. The module window consists initially of two pages (tabs):</p><ul><li>Dependencies </li><li>Code </li></ul><p>Click on a name tag to display its page.</p><h4>Dependencies</h4><p>There are two categories of modules on the <strong>Dependencies</strong>
page. If the module is used by other modules, these are listed
under <strong>Modules using this</strong>. If the module uses other
modules, these are listed under <strong>Used modules</strong>.</p><p>Double click on an module name to launch a module window.</p><h4>Code</h4><p>On the <strong>Code</strong> page the Erlang source code is displayed. It
is possible to search forwards and backwards for text in the
module. Enter a regular expression in the <strong>Find</strong> field and
press enter. It is also possible to go to a certain line in the
module. The <strong>Back</strong> button can be used to go back to the
previous position.</p><p>Put the marker on a function name and double click to go to the
definition of the function. If the function is defined in another
module, that module will be loaded and added to the page list.
</p><h4>Start and stop windows and servers</h4><p>The main process in Reltool is the server. It can be used as it
is or be used via the GUI frontend process. When the GUI is
started, a server process will automatically be started. The GUI
process is started with
<a href="./reltool#start-0">reltool#start-0</a>,
<a href="./reltool#start-1">reltool#start-1</a> or
<a href="./reltool#start_link-1">reltool#start_link-1</a>.
The pid of its server can be obtained with
<a href="./reltool#start_link-1">reltool#start_link-1</a>
</p><pre>
Erlang/OTP 20 [erts-9.0] [source-c13b302] [64-bit] [smp:4:4] [ds:4:4:10] [async-threads:10]
[hipe] [kernel-poll:false]
Eshell V9.0  (abort with ^G)
1&gt;
1&gt; {ok, Win} = reltool:start([]).
{ok,&lt;0.36.01&gt;}
2&gt; {ok, Server} = reltool:get_server(Win).
{ok,&lt;0.37.01&gt;}
3&gt; reltool:get_config(Server).
{ok,{sys,[]}}
4&gt;
4&gt; {ok, Server2} = reltool:start_server([]).
{ok,&lt;0.6535.01&gt;}
5&gt; reltool:get_config(Server2).
{ok,{sys,[]}}
6&gt; reltool:stop(Server2).
ok
    </pre><h4>Inspecting the configuration</h4><pre>
Erlang/OTP 20 [erts-9.0] [source-c13b302] [64-bit] [smp:4:4] [ds:4:4:10] [async-threads:10]
[hipe] [kernel-poll:false]
Eshell V9.0  (abort with ^G)
1&gt;
1&gt; Config = {sys, [{escript, "examples/display_args", [{incl_cond, include}]},
		   {app, inets, [{incl_cond, include}]},
		   {app, mnesia, [{incl_cond, exclude}]},
		   {app, ssl, [{incl_cond, exclude}]},
		   {app, runtime_tools, [{incl_cond, exclude}]},
		   {app, syntax_tools, [{incl_cond, exclude}]}]}.
{sys,[{escript,"examples/display_args",[{incl_cond,include}]},
      {app,inets,[{incl_cond,include}]},
      {app,mnesia,[{incl_cond,exclude}]},
      {app,ssl,[{incl_cond,exclude}]},
      {app,runtime_tools,[{incl_cond,exclude}]},
      {app,syntax_tools,[{incl_cond,exclude}]}]}
2&gt;
2&gt; {ok, Server} = reltool:start_server([Config]).
{ok,&lt;0.66.0&gt;}
3&gt;
3&gt; reltool:get_config(Server).
{ok,{sys,[{escript,"/usr/local/lib/erlang/lib/reltool-0.7.3/examples/display_args",
                   [{incl_cond,include}]},
          {app,inets,[{incl_cond,include}]},
          {app,mnesia,[{incl_cond,exclude}]},
          {app,runtime_tools,[{incl_cond,exclude}]},
          {app,ssl,[{incl_cond,exclude}]},
          {app,syntax_tools,[{incl_cond,exclude}]}]}}
4&gt;
4&gt; reltool:get_config(Server, false, false).
{ok,{sys,[{escript,"/usr/local/lib/erlang/lib/reltool-0.7.3/examples/display_args",
                   [{incl_cond,include}]},
          {app,inets,[{incl_cond,include}]},
          {app,mnesia,[{incl_cond,exclude}]},
          {app,runtime_tools,[{incl_cond,exclude}]},
          {app,ssl,[{incl_cond,exclude}]},
          {app,syntax_tools,[{incl_cond,exclude}]}]}}
5&gt;
5&gt; reltool:get_config(Server, true, false).
{ok,{sys,[{root_dir,"/usr/local/lib/erlang"},
          {lib_dirs,[]},
          {escript,"/usr/local/lib/erlang/lib/reltool-0.7.3/examples/display_args",
                   [{incl_cond,include}]},
          {mod_cond,all},
          {incl_cond,derived},
          {app,inets,
               [{incl_cond,include},{vsn,undefined},{lib_dir,undefined}]},
          {app,mnesia,[{incl_cond,exclude}]},
          {app,runtime_tools,[{incl_cond,exclude}]},
          {app,ssl,[{incl_cond,exclude}]},
          {app,syntax_tools,[{incl_cond,exclude}]},
          {boot_rel,"start_clean"},
          {rel,"start_clean","1.0",[]},
          {rel,"start_sasl","1.0",[sasl]},
          {emu_name,"beam"},
          {relocatable,true},
          {profile,development},
          {incl_sys_filters,[".*"]},
          {excl_sys_filters,[]},
          {incl_app_filters,[".*"]},
          {excl_app_filters,[]},
          {incl_archive_filters,[".*"]},
          {excl_archive_filters,[[...]|...]},
          {archive_opts,[]},
          {rel_app_type,...},
          {...}|...]}}
6&gt;
6&gt; reltool:get_config(Server, true, true).
{ok,{sys,[{root_dir,"/usr/local/lib/erlang"},
          {lib_dirs,[]},
          {escript,"/usr/local/lib/erlang/lib/reltool-0.7.3/examples/display_args",
                   [{incl_cond,include}]},
          {mod_cond,all},
          {incl_cond,derived},
          {erts,[{app,erts,
                      [{vsn,"10.0"},
                       {lib_dir,"/usr/local/lib/erlang/lib/erts-10.0"},
                       {mod,erl_prim_loader,[]},
                       {mod,erl_tracer,[]},
                       {mod,erlang,[]},
                       {mod,erts_code_purger,[]},
                       {mod,erts_dirty_process_signal_handler,[]},
                       {mod,erts_internal,[]},
                       {mod,erts_literal_area_collector,[]},
                       {mod,init,[]},
                       {mod,erl_init,...},
                       {mod,...},
                       {...}|...]}]},
          {app,compiler,
               [{vsn,"7.0.4"},
                {lib_dir,"/usr/local/lib/erlang/lib/compiler-7.0.4"},
                {mod,beam_a,[]},
                {mod,beam_asm,[]},
                {mod,beam_block,[]},
                {mod,beam_bs,[]},
                {mod,beam_bsm,[]},
                {mod,beam_clean,[]},
                {mod,beam_dead,[]},
                {mod,beam_dict,[]},
                {mod,beam_disasm,[]},
                {mod,beam_except,[]},
                {mod,beam_flatten,...},
                {mod,...},
                {...}|...]},
          {app,crypto,
               [{vsn,"3.7.4"},
                {lib_dir,"/usr/local/lib/erlang/lib/crypto-3.7.4"},
                {mod,crypto,[]},
                {mod,crypto_ec_curves,[]}]},
          {app,hipe,
               [{vsn,"3.15.4"},
                {lib_dir,"/usr/local/lib/erlang/lib/hipe-3.15.4"},
                {mod,cerl_cconv,[]},
                {mod,cerl_closurean,[]},
                {mod,cerl_hipeify,[]},
                {mod,cerl_lib,[]},
                {mod,cerl_messagean,[]},
                {mod,cerl_pmatch,[]},
                {mod,cerl_prettypr,[]},
                {mod,cerl_to_icode,[]},
                {mod,cerl_typean,...},
                {mod,...},
                {...}|...]},
          {app,inets,
               [{incl_cond,include},
                {vsn,"6.3.9"},
                {lib_dir,"/usr/local/lib/erlang/lib/inets-6.3.9"},
                {mod,ftp,[]},
                {mod,ftp_progress,[]},
                {mod,ftp_response,[]},
                {mod,ftp_sup,[]},
                {mod,http_chunk,[]},
                {mod,http_request,[]},
                {mod,http_response,...},
                {mod,...},
                {...}|...]},
          {app,kernel,
               [{vsn,"5.2"},
                {lib_dir,"/usr/local/lib/erlang/lib/kernel-5.2"},
                {mod,application,[]},
                {mod,application_controller,[]},
                {mod,application_master,[]},
                {mod,application_starter,[]},
                {mod,auth,[]},
                {mod,code,[]},
                {mod,code_server,...},
                {mod,...},
                {...}|...]},
          {app,mnesia,[{incl_cond,exclude}]},
          {app,runtime_tools,[{incl_cond,exclude}]},
          {app,sasl,
               [{vsn,"3.0.3"},
                {lib_dir,"/usr/local/lib/erlang/lib/sasl-3.0.3"},
                {mod,alarm_handler,[]},
                {mod,erlsrv,[]},
                {mod,format_lib_supp,[]},
                {mod,misc_supp,...},
                {mod,...},
                {...}|...]},
          {app,ssl,[{incl_cond,exclude}]},
          {app,stdlib,
               [{vsn,"3.3"},
                {lib_dir,"/usr/local/lib/erlang/lib/stdlib-3.3"},
                {mod,array,[]},
                {mod,base64,...},
                {mod,...},
                {...}|...]},
          {app,syntax_tools,[{incl_cond,exclude}]},
          {app,tools,
               [{vsn,"2.9.1"},{lib_dir,[...]},{mod,...},{...}|...]},
          {boot_rel,"start_clean"},
          {rel,"start_clean","1.0",[]},
          {rel,"start_sasl","1.0",[...]},
          {emu_name,"beam"},
          {relocatable,true},
          {profile,...},
          {...}|...]}}
7&gt;
7&gt; reltool:get_config([{sys, [{profile, embedded}]}], true, false).
{ok,{sys,[{root_dir,"/usr/local/lib/erlang"},
          {lib_dirs,[]},
          {mod_cond,all},
          {incl_cond,derived},
          {boot_rel,"start_clean"},
          {rel,"start_clean","1.0",[]},
          {rel,"start_sasl","1.0",[sasl]},
          {emu_name,"beam"},
          {relocatable,true},
          {profile,embedded},
          {incl_sys_filters,["^bin","^erts","^lib","^releases"]},
          {excl_sys_filters,["^bin/(erlc|dialyzer|typer)(|\\.exe)$",
                             "^erts.*/bin/(erlc|dialyzer|typer)(|\\.exe)$",
                             "^erts.*/bin/.*(debug|pdb)"]},
          {incl_app_filters,["^ebin","^include","^priv"]},
          {excl_app_filters,[]},
          {incl_archive_filters,[".*"]},
          {excl_archive_filters,["^include$","^priv$"]},
          {archive_opts,[]},
          {rel_app_type,permanent},
          {embedded_app_type,load},
          {app_file,keep},
          {debug_info,keep}]}}
8&gt;
8&gt; reltool:get_config([{sys, [{profile, standalone}]}], true, false).
{ok,{sys,[{root_dir,"/usr/local/lib/erlang"},
          {lib_dirs,[]},
          {mod_cond,all},
          {incl_cond,derived},
          {boot_rel,"start_clean"},
          {rel,"start_clean","1.0",[]},
          {rel,"start_sasl","1.0",[sasl]},
          {emu_name,"beam"},
          {relocatable,true},
          {profile,standalone},
          {incl_sys_filters,["^bin/(erl|epmd)(|\\.exe|\\.ini)$",
                             "^bin/start(|_clean).boot$","^erts.*/bin","^lib$"]},
          {excl_sys_filters,["^erts.*/bin/(erlc|dialyzer|typer)(|\\.exe)$",
                             "^erts.*/bin/(start|escript|to_erl|run_erl)(|\\.exe)$",
                             "^erts.*/bin/.*(debug|pdb)"]},
          {incl_app_filters,["^ebin","^priv"]},
          {excl_app_filters,["^ebin/.*\\.appup$"]},
          {incl_archive_filters,[".*"]},
          {excl_archive_filters,["^include$","^priv$"]},
          {archive_opts,[]},
          {rel_app_type,permanent},
          {app_file,keep},
          {debug_info,keep}]}}
    </pre><h4>Generate release and script files</h4><pre>
Erlang/OTP 20 [erts-10.0] [source-c13b302] [64-bit] [smp:4:4] [ds:4:4:10] [async-threads:10]
[hipe] [kernel-poll:false]
Eshell V10.0  (abort with ^G)
1&gt;
1&gt; {ok, Server} = reltool:start_server([{config,
                                         {sys,
                                          [{boot_rel, "NAME"},
                                           {rel, "NAME", "VSN",
                                            [sasl],
                                            [{load_dot_erlang, false}]}]}}]).
{ok,&lt;0.1288.0&gt;}
2&gt;
2&gt; reltool:get_config(Server).
{ok,{sys,[{boot_rel,"NAME"},
          {rel,"NAME","VSN",[sasl]}]}}
3&gt;
3&gt; reltool:get_rel(Server, "NAME").
{ok,{release,{"NAME","VSN"},
             {erts,"10.0"},
             [{kernel,"5.2"},{stdlib,"3.3"},{sasl,"3.0.3"}]}}
4&gt;
4&gt; reltool:get_script(Server, "NAME").
{ok,{script,{"NAME","VSN"},
            [{preLoaded,[erl_prim_loader,erl_tracer,erlang,
                         erts_code_purger,erts_dirty_process_signal_handler,
                         erts_internal,erts_literal_area_collector,init,erl_init,
                         prim_eval,prim_file,prim_inet,prim_zip,zlib]},
             {progress,preloaded},
             {path,["$ROOT/lib/kernel-5.2/ebin",
                    "$ROOT/lib/stdlib-3.3/ebin"]},
             {primLoad,[error_handler]},
             {kernel_load_completed},
             {progress,kernel_load_completed},
             {path,["$ROOT/lib/kernel-5.2/ebin"]},
             {primLoad,[application,application_controller,
                        application_master,application_starter,auth,code,
                        code_server,disk_log,disk_log_1,disk_log_server,
                        disk_log_sup,dist_ac,dist_util,erl_boot_server|...]},
             {path,["$ROOT/lib/stdlib-3.3/ebin"]},
             {primLoad,[array,base64,beam_lib,binary,c,calendar,dets,
                        dets_server,dets_sup,dets_utils,dets_v9,dict|...]},
             {path,["$ROOT/lib/sasl-3.0.3/ebin"]},
             {primLoad,[alarm_handler,erlsrv,format_lib_supp,misc_supp,
                        rb,rb_format_supp,release_handler,release_handler_1,sasl,
                        sasl_report|...]},
             {progress,modules_loaded},
             {path,["$ROOT/lib/kernel-5.2/ebin",
                    "$ROOT/lib/stdlib-3.3/ebin","$ROOT/lib/sasl-3.0.3/ebin"]},
             {kernelProcess,heart,{heart,start,[]}},
             {kernelProcess,error_logger,{error_logger,start_link,[]}},
             {kernelProcess,application_controller,
                            {application_controller,start,[{...}]}},
             {progress,init_kernel_started},
             {apply,{application,load,[...]}},
             {apply,{application,load,...}},
             {progress,applications_loaded},
             {apply,{...}},
             {apply,...},
             {...}|...]}}
5&gt;
5&gt; reltool:stop(Server).
ok
    </pre><h4>Create a target system</h4><pre>
Erlang/OTP 20 [erts-10.0] [source-c13b302] [64-bit] [smp:4:4] [ds:4:4:10] [async-threads:10]
[hipe] [kernel-poll:false]
Eshell V10.0  (abort with ^G)
1&gt;
1&gt; Config = {sys, [{escript, "examples/display_args", [{incl_cond, include}]},
		   {app, inets, [{incl_cond, include}]},
		   {app, mnesia, [{incl_cond, exclude}]},
		   {app, ssl, [{incl_cond, exclude}]},
		   {app, runtime_tools, [{incl_cond, exclude}]},
		   {app, syntax_tools, [{incl_cond, exclude}]}]}.
{sys,[{escript,"examples/display_args",[{incl_cond,include}]},
      {app,inets,[{incl_cond,include}]},
      {app,mnesia,[{incl_cond,exclude}]},
      {app,ssl,[{incl_cond,exclude}]},
      {app,runtime_tools,[{incl_cond,exclude}]},
      {app,syntax_tools,[{incl_cond,exclude}]}]}
2&gt;
2&gt; {ok, Spec} = reltool:get_target_spec([Config]).
{ok,[{create_dir,"releases",
         [{write_file,"start_erl.data","10.0 1.0\n"},
          {create_dir,"1.0",
              [{write_file,"start_clean.rel",
                   [37,37,32,114,101,108,32,103,101,110,101,114,97,116|...]},
               {write_file,"start_clean.script",
                   [37,37,32,115,99,114,105,112,116,32,103,101,110|...]},
               {write_file,"start_clean.boot",
                   &lt;&lt;131,104,3,119,6,115,99,114,105,112,116,104,...&gt;&gt;},
               {write_file,"start_sasl.rel",
                   [37,37,32,114,101,108,32,103,101,110,101|...]},
               {write_file,"start_sasl.script",
                   [37,37,32,115,99,114,105,112,116,32|...]},
               {write_file,"start_sasl.boot",
                   &lt;&lt;131,104,3,119,6,115,99,114,105,...&gt;&gt;}]}]},
     {create_dir,"bin",
         [{copy_file,"display_args.escript",
              "/usr/local/lib/erlang/lib/reltool-0.7.3/examples/display_args"},
          {copy_file,"display_args","erts-10.0/bin/escript"},
          {copy_file,"start","erts-10.0/bin/start"},
          {copy_file,"ct_run","erts-10.0/bin/ct_run"},
          {copy_file,"dialyzer","erts-10.0/bin/dialyzer"},
          {copy_file,"run_erl","erts-10.0/bin/run_erl"},
          {copy_file,"erl","erts-10.0/bin/dyn_erl"},
          {copy_file,"to_erl","erts-10.0/bin/to_erl"},
          {copy_file,"epmd","erts-10.0/bin/epmd"},
          {copy_file,"erlc","erts-10.0/bin/erlc"},
          {copy_file,"typer","erts-10.0/bin/typer"},
          {copy_file,"escript","erts-10.0/bin/escript"},
          {write_file,"start_clean.boot",&lt;&lt;131,104,3,119,6,115,...&gt;&gt;},
          {write_file,"start_sasl.boot",&lt;&lt;131,104,3,119,6,...&gt;&gt;},
          {write_file,"start.boot",&lt;&lt;131,104,3,119,...&gt;&gt;}]},
     {copy_file,"Install"},
     {create_dir,"misc",
         [{copy_file,"makewhatis"},{copy_file,"format_man_pages"}]},
     {create_dir,"usr",
         [{create_dir,"lib",
              [{copy_file,"liberts.a"},
               {copy_file,"liberl_interface_st.a"},
               {copy_file,"liberts_r.a"},
               {copy_file,"libic.a"},
               {copy_file,"liberl_interface.a"},
               {copy_file,"libei_st.a"},
               {copy_file,"libei.a"}]},
          {create_dir,"include",
              [{copy_file,"erl_memory_trace_parser.h"},
               {copy_file,"driver_int.h"},
               {copy_file,"ei_connect.h"},
               {copy_file,"ei.h"},
               {copy_file,"erl_nif_api_funcs.h"},
               {copy_file,"erl_fixed_size_int_types.h"},
               {copy_file,"erl_int_sizes_config.h"},
               {copy_file,"erl_interface.h"},
               {copy_file,"eicode.h"},
               {copy_file,"erl_driver.h"},
               {copy_file,"erlang.idl"},
               {copy_file,[...]},
               {copy_file,...},
               {...}]}]},
     {create_dir,"erts-10.0",
         [{create_dir,"bin",
              [{copy_file,"start"},
               {copy_file,"ct_run"},
               {copy_file,"erlexec"},
               {copy_file,"dialyzer"},
               {copy_file,"beam.smp"},
               {copy_file,"run_erl"},
               {copy_file,"erl","erts-10.0/bin/dyn_erl"},
               {copy_file,"to_erl"},
               {copy_file,"epmd"},
               {copy_file,"erl_child_setup"},
               {copy_file,"heart"},
               {copy_file,[...]},
               {copy_file,...},
               {...}|...]},
          {create_dir,"lib",
              [{create_dir,"internal",
                   [{copy_file,"liberts_internal.a"},
                    {copy_file,"liberts_internal_r.a"},
                    {copy_file,"libethread.a"},
                    {copy_file,"README"}]},
               {copy_file,"liberts.a"},
               {copy_file,"liberts_r.a"}]},
          {create_dir,"src",[{copy_file,"setuid_socket_wrap.c"}]},
          {create_dir,"doc",[]},
          {create_dir,"man",[]},
          {create_dir,"include",
              [{create_dir,"internal",
                   [{create_dir,"i386",[{...}|...]},
                    {copy_file,"erl_errno.h"},
                    {copy_file,[...]},
                    {copy_file,...},
                    {...}|...]},
               {copy_file,"erl_memory_trace_parser.h"},
               {copy_file,"driver_int.h"},
               {copy_file,"erl_nif_api_funcs.h"},
               {copy_file,"erl_fixed_size_int_types.h"},
               {copy_file,"erl_int_sizes_config.h"},
               {copy_file,[...]},
               {copy_file,...},
               {...}]}]},
     {create_dir,"lib",
         [{archive,"compiler-7.0.4.ez",[],
              [{create_dir,"compiler-7.0.4",
                   [{create_dir,"src",
                        [{copy_file,"beam_flatten.erl"},
                         {copy_file,[...]},
                         {copy_file,...},
                         {...}|...]},
                    {create_dir,"ebin",
                        [{copy_file,[...]},{copy_file,...},{...}|...]}]}]},
          {archive,"crypto-3.7.4.ez",[],
              [{create_dir,"crypto-3.7.4",
                   [{create_dir,"src",[{copy_file,[...]},{copy_file,...}]},
                    {create_dir,"ebin",[{copy_file,...},{...}|...]}]}]},
          {create_dir,"crypto-3.7.4",
              [{create_dir,"priv",
                   [{create_dir,"lib",[{copy_file,[...]},{copy_file,...}]},
                    {create_dir,"obj",[{copy_file,...},{...}|...]}]}]},
          {archive,"erts-10.0.ez",[],
              [{create_dir,"erts-10.0",
                   [{create_dir,"src",[{...}|...]},
                    {create_dir,"ebin",[...]}]}]},
          {archive,"hipe-3.15.4.ez",[],
              [{create_dir,"hipe-3.15.4",
                   [{create_dir,"flow",[...]},
                    {copy_file,[...]},
                    {create_dir,...},
                    {...}|...]}]},
          {archive,"inets-6.3.9.ez",[],
              [{create_dir,"inets-6.3.9",
                   [{create_dir,[...],...},{create_dir,...},{...}]}]},
          {create_dir,"inets-6.3.9",
              [{create_dir,"priv",[{create_dir,[...],...}]},
               {create_dir,"include",[{copy_file,...},{...}]}]},
          {archive,"kernel-5.2.ez",[],
              [{create_dir,"kernel-5.2",[{...}|...]}]},
          {create_dir,"kernel-5.2",
              [{create_dir,"include",[{...}|...]}]},
          {archive,"sasl-3.0.3.ez",[],[{create_dir,[...],...}]},
          {archive,"stdlib-3.3.ez",[],[{create_dir,...}]},
          {create_dir,"stdlib-3.3",[{create_dir,...}]},
          {archive,"tools-2.9.1.ez",[],[...]}]}]}
3&gt;
3&gt; TargetDir = "/tmp/my_target_dir".
"/tmp/my_target_dir"
4&gt;
4&gt; reltool:eval_target_spec(Spec, code:root_dir(), TargetDir).
{error,"/tmp/my_target_dir: no such file or directory"}
5&gt;
5&gt; file:make_dir(TargetDir).
ok
6&gt;
6&gt; reltool:eval_target_spec(Spec, code:root_dir(), TargetDir).
ok
7&gt;
7&gt; file:list_dir(TargetDir).
{ok,["bin","Install","lib","misc","usr","erts-10.0",
     "releases"]}
8&gt;
8&gt; file:list_dir(filename:join([TargetDir,"lib"])).
{ok,["tools-2.9.1.ez","kernel-5.2.ez","inets-6.3.9.ez",
     "kernel-5.2","sasl-3.0.3.ez","hipe-3.15.4.ez","inets-6.3.9",
     "crypto-3.7.4","crypto-3.7.4.ez","stdlib-3.3.ez",
     "erts-10.0.ez","stdlib-3.3","compiler-7.0.4.ez"]}
9&gt;
9&gt; file:make_dir("/tmp/yet_another_target_dir").
ok
10&gt;
10&gt; reltool:create_target([Config], "/tmp/yet_another_target_dir").
ok
11&gt;
11&gt; file:list_dir("/tmp/yet_another_target_dir").
{ok,["bin","Install","lib","misc","usr","erts-10.0",
     "releases"]}
    </pre><p>Reltool is a release management tool. It analyses a given
Erlang/OTP installation and determines various dependencies
between applications. The <strong>graphical</strong> frontend depicts the
dependencies and enables interactive customization of a
target system. The backend provides a <strong>batch</strong> interface
for generation of customized target systems.</p><h3>reltool</h3><p>Main API of the Reltool application</p><p>This is an interface module for the Reltool application.<em>Reltool</em> is a release management tool. It analyses a
given Erlang/OTP installation and determines various dependencies
between applications. The <strong>graphical</strong> frontend depicts the
dependencies and enables interactive customization of a target
system. The backend provides a <strong>batch</strong> interface for
generation of customized target systems.The tool uses an installed Erlang/OTP system as input.
<strong>root_dir</strong> is the root directory of the analysed system and
it defaults to the system executing Reltool. Applications
may also be located outside <strong>root_dir</strong>. <strong>lib_dirs</strong>
defines library directories where additional applications
may reside and it defaults to the directories
listed by the operating system environment variable
<strong>ERL_LIBS</strong>. See the module <strong>code</strong> for more info.An application directory <strong>AppDir</strong> under a library
directory is recognized by the existence of an <strong>AppDir/ebin</strong>
directory. If this does not exist, Reltool will not
consider <strong>AppDir</strong> at all when looking for applications.It is recommended that application directories are named as the
application, possibly followed by a dash and the version
number. For example <strong>myapp</strong> or <strong>myapp-1.1</strong>.Finally single modules and entire applications may be read from
Escripts.Some configuration parameters control the behavior of Reltool
on system (<strong>sys</strong>) level. Others provide control on
application (<strong>app</strong>) level and yet others are on module
(<strong>mod</strong>) level. Module level parameters override application
level parameters and application level parameters override system
level parameters. Escript <strong>escript</strong> level parameters
override system level parameters.The following top level <strong>options</strong> are supported:<dl><dt><strong>config</strong></dt><dd> <p>This is the main option and it controls the configuration
of Reltool.  It can either be a <strong>sys</strong> tuple or
a name of a <strong>file</strong> containing a sys tuple.</p> </dd><dt><strong>trap_exit</strong></dt><dd> <p>This option controls the error handling behavior of
Reltool.  By default the window processes traps
exit, but this behavior can altered by setting
<strong>trap_exit</strong> to <strong>false</strong>.</p> </dd><dt><strong>wx_debug</strong></dt><dd> <p>This option controls the debug level of <strong>wx</strong>. As its
name indicates it is only useful for debugging. See
<strong>wx:debug/1</strong> for more info.</p> </dd></dl>Besides the already mentioned source parameters <strong>root_dir</strong>
and <strong>lib_dirs</strong>, the following system (<strong>sys</strong>) level
options are supported:<dl><dt><strong>erts</strong></dt><dd> <p>Erts specific configuration. See application level options
below.</p> </dd><dt><strong>escript</strong></dt><dd> <p>Escript specific configuration. An escript has a mandatory
file name and escript level options that are described
below.</p> </dd><dt><strong>app</strong></dt><dd> <p>Application specific configuration. An application has a
mandatory name and application level options that are
described below.</p> </dd><dt><strong>mod_cond</strong></dt><dd> <p>This parameter controls the module inclusion policy. It
defaults to <strong>all</strong> which means that if an application is
included (either explicitly or implicitly) all modules in that
application will be included. This implies that both modules
that exist in the <strong>ebin</strong> directory of the application,
as well as modules that are named in the <strong>app</strong> file will
be included. If the parameter is set to <strong>ebin</strong>, both
modules in the <strong>ebin</strong> directory and derived modules are
included. If the parameter is set to <strong>app</strong>, both modules
in the <strong>app</strong> file and derived modules are included.
<strong>derived</strong> means that only modules that are used by other
included modules are included. The <strong>mod_cond</strong> setting on
system level is used as default for all applications.</p> </dd><dt><strong>incl_cond</strong></dt><dd> <p>This parameter controls the application and escript
inclusion policy. It defaults to <strong>derived</strong> which means
that the applications that do not have any explicit
<strong>incl_cond</strong> setting, will only be included if any other
(explicitly or implicitly included) application uses it. The
value <strong>include</strong> implies that all applications and
escripts that do not have any explicit <strong>incl_cond</strong>
setting will be included. <strong>exclude</strong> implies that all
applications and escripts that do not have any explicit
<strong>incl_cond</strong> setting will be excluded.</p> </dd><dt><strong>boot_rel</strong></dt><dd> <p>A target system may have several releases but the one given
as <strong>boot_rel</strong> will be used as default when the system is
booting up.</p> </dd><dt><strong>rel</strong></dt><dd> <p>Release specific configuration. Each release maps to a
<strong>rel</strong>, <strong>script</strong> and <strong>boot</strong> file. See the
module <strong>systools</strong> for more info about the details. Each
release has a name, a version and a set of applications with a
few release specific parameters such as type and included
applications.</p> </dd><dt><strong>relocatable</strong></dt><dd> <p>This parameter controls whether the <strong>erl</strong> executable
in the target system should automatically determine where it
is installed or if it should use a hardcoded path to the
installation. In the latter case the target system must be
installed with <strong>reltool:install/2</strong> before it can be
used. If the system is relocatable, the file tree containing
the target system can be moved to another location without
re-installation. The default is <strong>true</strong>.</p> </dd><dt><strong>profile</strong></dt><dd> <p>The creation of the specification for a target system is
performed in two steps. In the first step a complete
specification is generated. It will likely contain much more
files than you are interested in in your customized target
system. In the second step the specification will be filtered
according to your filters. There you have the ability to
specify filters per application as well as system wide
filters. You can also select a <strong>profile</strong> for your
system. Depending on the <strong>profile</strong>, different default
filters will be used. There are three different profiles to
choose from: <strong>development</strong>, <strong>embedded</strong> and
<strong>standalone</strong>. <strong>development</strong> is default. The
parameters that are affected by the <strong>profile</strong> are:
<strong>incl_sys_filters</strong>, <strong>excl_sys_filters</strong>,
<strong>incl_app_filters</strong> and <strong>excl_app_filters</strong>.</p> </dd><dt><strong>app_file</strong></dt><dd> <p>This parameter controls the default handling of the
<strong>app</strong> files when a target system is generated. It
defaults to <strong>keep</strong> which means that <strong>app</strong> files are
copied to the target system and their contents are kept as
they are. <strong>strip</strong> means that a new <strong>app</strong> file is
generated from the contents of the original <strong>app</strong> file
where the non included modules are removed from the
file. <strong>all</strong> does also imply that a new <strong>app</strong> file is
generated from the contents of the original <strong>app</strong> file,
with the difference that all included modules are added to the
file. If the application does not have any <strong>app</strong> file a
file will be created for <strong>all</strong> but not for <strong>keep</strong>
and <strong>strip</strong>.</p> </dd><dt><strong>debug_info</strong></dt><dd> <p>The <strong>debug_info</strong> parameter controls whether the debug
information in the beam file should be kept (<strong>keep</strong>) or
stripped <strong>strip</strong> when the file is copied to the target
system.</p> </dd><dt><strong>excl_lib</strong></dt><dd> <div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This option is experimental.</p></div> <p>If the <strong>excl_lib</strong> option is set to <strong>otp_root</strong>
then reltool will not copy anything from the Erlang/OTP
installation ($OTP_ROOT) into the target structure. The goal
is to create a "slim" release which can be used together with
an existing Erlang/OTP installation. The target structure will
therefore only contain a <strong>lib</strong> directory with the
applications that were found outside of $OTP_ROOT (typically
your own applications), and a <strong>releases</strong> directory with
the generated <strong>.rel,</strong> <strong>.script</strong> and <strong>.boot</strong>
files.</p> <p>When starting this release, three things must be specified:</p> <dl><dt><em>Which releases directory to use</em></dt><dd>Tell the release handler to use the <strong>releases</strong> directory in our target structure instead of <strong>$OTP_ROOT/releases</strong>. This is done by setting the SASL environment variable <strong>releases_dir</strong>, either from the command line (<strong>-sasl releases_dir &lt;target-dir&gt;/releases</strong>) or in <strong>sys.config</strong>.</dd><dt><em>Which boot file to use</em></dt><dd>The default boot file is <strong>$OTP_ROOT/bin/start</strong>, but in this case we need to specify a boot file from our target structure, typically <strong>&lt;target-dir&gt;/releases/&lt;vsn&gt;/&lt;RelName&gt;</strong>. This is done with the <strong>-boot</strong> command line option to <strong>erl</strong></dd><dt><em>The location of our applications</em></dt><dd>The generated .script (and .boot) file uses the environment variable <strong>$RELTOOL_EXT_LIB</strong> as prefix for the paths to all applications. The <strong>-boot_var</strong> option to <strong>erl</strong> can be used for specifying the value of this variable, typically <strong>-boot_var RELTOOL_EXT_LIB &lt;target-dir&gt;/lib</strong>.</dd></dl> <p>Example:</p> <pre><code class="">erl -sasl releases_dir \"mytarget/releases\" -boot mytarget/releases/1.0/myrel\
 -boot_var RELTOOL_EXT_LIB mytarget/lib</code></pre> </dd><dt><strong>incl_sys_filters</strong></dt><dd> <p>This parameter normally contains a list of regular
expressions that controls which files in the system
should be included. Each file in the target system must match
at least one of the listed regular expressions in order to be
included. Further the files may not match any filter in
<strong>excl_sys_filters</strong> in order to be included. Which
application files should be included is controlled with
the parameters <strong>incl_app_filters</strong> and
<strong>excl_app_filters</strong>. This parameter defaults to
<strong>[".*"]</strong>.</p> </dd><dt><strong>excl_sys_filters</strong></dt><dd> <p>This parameter normally contains a list of regular
expressions that controls which files in the system should
not be included in the target system. In order to be
included, a file must match some filter in
<strong>incl_sys_filters</strong> but not any filter in
<strong>excl_sys_filters</strong>. This parameter defaults to
<strong>[]</strong>.</p> </dd><dt><strong>incl_app_filters</strong></dt><dd> <p>This parameter normally contains a list of regular
expressions that controls which application specific files
that should be included. Each file in the application must
match at least one of the listed regular expressions in order
to be included.  Further the files may not match any filter in
<strong>excl_app_filters</strong> in order to be included. This
parameter defaults to <strong>[".*"]</strong>.</p> </dd><dt><strong>excl_app_filters</strong></dt><dd> <p>This parameter normally contains a list of regular
expressions that controls which application specific files
should not be included in the target system. In order to
be included, a file must match some filter in
<strong>incl_app_filters</strong> but not any filter in
<strong>excl_app_filters</strong>. This parameter defaults to
<strong>[]</strong>.</p> </dd><dt><strong>incl_archive_filters</strong></dt><dd> <p>This parameter normally contains a list of regular
expressions that controls which top level directories in an
application should be included in an archive file (as
opposed to being included as a regular directory outside the
archive). Each top directory in the application must match at
least one of the listed regular expressions in order to be
included. Further the files may not match any filter in
<strong>excl_app_filters</strong> in order to be included. This
parameter defaults to <strong>[".*"]</strong>.</p> </dd><dt><strong>excl_archive_filters</strong></dt><dd> <p>This parameter normally contains a list of regular
expressions that controls which top level directories in an
application should not be included in an archive file. In
order to be included in the application archive, a top
directory must match some filter in <strong>incl_archive_filters</strong>
but not any filter in <strong>excl_archive_filters</strong>. This
parameter defaults to <strong>["^include$","^priv$"]</strong>.</p> </dd><dt><strong>archive_opts</strong></dt><dd> <p>This parameter contains a list of options that are given to
<strong>zip:create/3</strong> when application specific files are
packaged into an archive. Only a subset of the options are
supported. The most useful options in this context are the ones
that control which types of files should be compressed. This
parameter defaults to <strong>[]</strong>.</p> </dd></dl>On application (<strong>escript</strong>) level, the following options are
supported:<dl><dt><strong>incl_cond</strong></dt><dd> <p>The value of this parameter overrides the parameter with the
same name on system level.</p> </dd></dl>On application (<strong>app</strong>) level, the following options are
supported:<dl><dt><strong>vsn</strong></dt><dd> <p>The version of the application. In an installed system there may
exist several versions of an application. The <strong>vsn</strong> parameter
controls which version of the application will be chosen.</p> <p>This parameter is mutual exclusive with <strong>lib_dir</strong>. If
<strong>vsn</strong> and <strong>lib_dir</strong> are both omitted, the latest version
will be chosen.</p> <p>Note that in order for reltool to sort application versions
and thereby be able to select the latest, it is required that
the version id for the application consits of integers and
dots only, for example <strong>1</strong>, <strong>2.0</strong> or
<strong>3.17.1</strong>.</p> </dd><dt><strong>lib_dir</strong></dt><dd> <p>The directory to read the application from. This parameter
can be used to point out a specific location to fetch the
application from. This is useful for instance if the parent
directory for some reason is no good as a library directory on
system level.</p> <p>This parameter is mutual exclusive with <strong>vsn</strong>. If
<strong>vsn</strong> and <strong>lib_dir</strong> are both omitted, the latest version
will be chosen.</p> <p>Note that in order for reltool to sort application versions
and thereby be able to select the latest, it is required that
the version id for the application consits of integers and
dots only, for example <strong>1</strong>, <strong>2.0</strong> or
<strong>3.17.1</strong>.</p> </dd><dt><strong>mod</strong></dt><dd> <p>Module specific configuration. A module has a mandatory
name and module level options that are described below.</p> </dd><dt><strong>mod_cond</strong></dt><dd> <p>The value of this parameter overrides the parameter with the
same name on system level.</p> </dd><dt><strong>incl_cond</strong></dt><dd> <p>The value of this parameter overrides the parameter with the
same name on system level.</p> </dd><dt><strong>app_file</strong></dt><dd> <p>The value of this parameter overrides the parameter with the
same name on system level.</p> </dd><dt><strong>debug_info</strong></dt><dd> <p>The value of this parameter overrides the parameter with the
same name on system level.</p> </dd><dt><strong>incl_app_filters</strong></dt><dd> <p>The value of this parameter overrides the parameter with the
same name on system level.</p> </dd><dt><strong>excl_app_filters</strong></dt><dd> <p>The value of this parameter overrides the parameter with the
same name on system level.</p> </dd><dt><strong>incl_archive_filters</strong></dt><dd> <p>The value of this parameter overrides the parameter with the
same name on system level.</p> </dd><dt><strong>excl_archive_filters</strong></dt><dd> <p>The value of this parameter overrides the parameter with the
same name on system level.</p> </dd><dt><strong>archive_opts</strong></dt><dd> <p>The value of this parameter overrides the parameter with the
same name on system level.</p> </dd></dl>On module (<strong>mod</strong>) level, the following options are
supported:<dl><dt><strong>incl_cond</strong></dt><dd> <p>This parameter controls whether the module is included or not. By
default the <strong>mod_cond</strong> parameter on application and system level
will be used to control whether the module is included or not. The
value of <strong>incl_cond</strong> overrides the module inclusion policy.
<strong>include</strong> implies that the module is included, while
<strong>exclude</strong> implies that the module is not included.
<strong>derived</strong> implies that the module is included if it is used
by any other included module.</p> </dd><dt><strong>debug_info</strong></dt><dd> <p>The value of this parameter overrides the parameter with
the same name on application level.</p> </dd></dl></p><h4>DATA TYPES</h4><pre><code class="">
options()           = [option()]
option()            = {config, config() | file()}
                    | {trap_exit, bool()}
                    | {wx_debug, term()} 
config()            = {sys, [sys()]}
sys()               = {root_dir, root_dir()}
                    | {lib_dirs, [lib_dir()]}
                    | {profile, profile()}
                    | {erts, app()}
                    | {escript, escript_file(), [escript()]}
                    | {app, app_name(), [app()]}
                    | {mod_cond, mod_cond()} 
                    | {incl_cond, incl_cond()}
                    | {boot_rel, boot_rel()}
                    | {rel, rel_name(), rel_vsn(), [rel_app()]}
                    | {rel, rel_name(), rel_vsn(), [rel_app()], [rel_opt()]}
                    | {relocatable, relocatable()}
                    | {app_file, app_file()}
                    | {debug_info, debug_info()}
                    | {incl_sys_filters, incl_sys_filters()}
                    | {excl_sys_filters, excl_sys_filters()}
                    | {incl_app_filters, incl_app_filters()}
                    | {excl_app_filters, excl_app_filters()}
                    | {incl_archive_filters, incl_archive_filters()}
                    | {excl_archive_filters, excl_archive_filters()}
                    | {archive_opts, [archive_opt()]}
app()               = {vsn, app_vsn()}
                    | {lib_dir, lib_dir()}
                    | {mod, mod_name(), [mod()]}
                    | {mod_cond, mod_cond()}
                    | {incl_cond, incl_cond()}
                    | {debug_info, debug_info()}
                    | {app_file, app_file()}
		    | {excl_lib, excl_lib()}
                    | {incl_sys_filters, incl_sys_filters()}
                    | {excl_sys_filters, excl_sys_filters()}
                    | {incl_app_filters, incl_app_filters()}
                    | {excl_app_filters, excl_app_filters()}
                    | {incl_archive_filters, incl_archive_filters()}
                    | {excl_archive_filters, excl_archive_filters()}
                    | {archive_opts, [archive_opt()]}
mod()               = {incl_cond, incl_cond()}
                    | {debug_info, debug_info()}
rel_app()           = app_name()
                    | {app_name(), app_type()} 
                    | {app_name(), [incl_app()]}
                    | {app_name(), app_type(), [incl_app()]}
rel_opt()           = {load_dot_erlang, boolean()}
app_name()          = atom()
app_type()          = permanent | transient | temporary | load | none
app_vsn()           = string()
archive_opt         = zip_create_opt()
boot_rel()          = rel_name()
app_file()          = keep | strip | all
debug_info()        = keep | strip
dir()               = string()
escript()           = {incl_cond, incl_cond()}
escript_file()      = file()
excl_app_filters()  = regexps()
excl_archive_filters() = regexps()
excl_lib()          = otp_root
excl_sys_filters()  = regexps()
file()              = string()
incl_app()          = app_name()
incl_app_filters()  = regexps()
incl_archive_filters() = regexps()
incl_cond()         = include | exclude | derived
incl_sys_filters()  = regexps()
lib_dir()           = dir()
mod_cond()          = all | app | ebin | derived | none
mod_name()          = atom()
profile()           = development | embedded | standalone
re_regexp()         = string()
reason()            = string()
regexps()           = [re_regexp()]
                    | {add, [re_regexp()]}
                    | {del, [re_regexp()]}
rel_file()          = term()
rel_name()          = string()
rel_vsn()           = string()
relocatable         = boolean()
root_dir()          = dir()
script_file()       = term()
server()            = server_pid() | options()
server_pid()        = pid()
target_dir()        = file()
window_pid()        = pid()
base_dir()          = dir()
base_file()         = file()
top_dir()           = file()
top_file()          = file()
target_spec()       = [target_spec()]
                    | {create_dir, base_dir(), [target_spec()]}
                    | {create_dir, base_dir(), top_dir(), [target_spec()]}
                    | {archive, base_file(), [archive_opt()], [target_spec()]}
                    | {copy_file, base_file()}
                    | {copy_file, base_file(), top_file()}
                    | {write_file, base_file(), iolist()}
                    | {strip_beam_file, base_file()}</code></pre><a name="start"></a><h3>Functions</h3><h4>create_target(Server, TargetDir) -&gt; ok | {error, Reason}</h4><p>Create a target system</p><ul><li><span class="v">Server     = server()</span></li><li><span class="v">TargetDir  = target_dir()</span></li><li><span class="v">Reason     = reason()</span></li></ul><p>Create a target system. Gives the same result as
<strong>{ok,TargetSpec}=reltool:get_target_spec(Server)</strong> and
<strong>reltool:eval_target_spec(TargetSpec,RootDir,TargetDir)</strong>.</p><h4>eval_target_spec(TargetSpec, RootDir, TargetDir) -&gt; ok | {error, Reason}</h4><p>Create a target system</p><ul><li><span class="v">TargetSpec = target_spec()</span></li><li><span class="v">RootDir    = root_dir()</span></li><li><span class="v">TargetDir  = target_dir()</span></li><li><span class="v">Reason     = reason()</span></li></ul><p>Create the actual target system from a specification
generated by <strong>reltool:get_target_spec/1</strong>. The creation of
the specification for a target system is performed in two
steps. In the first step a complete specification will be
generated. It will likely contain much more files than you are
interested in in your target system. In the second step the
specification will be filtered according to your filters. There
you have the ability to specify filters per application as well
as system wide filters. You can also select a <strong>profile</strong> for
your system. Depending on the <strong>profile</strong>, different default
filters will be used.</p><p>The top directories <strong>bin</strong>, <strong>releases</strong> and
<strong>lib</strong> are treated differently from other files. All other
files are by default copied to the target system. The
<strong>releases</strong> directory contains generated <strong>rel</strong>,
<strong>script</strong>, and <strong>boot</strong> files. The <strong>lib</strong> directory
contains the applications. Which applications are included
and if they should be customized (archived, stripped from debug
info etc.) is specified with various configuration
parameters. The files in the <strong>bin</strong> directory are copied
from the <strong>erts-vsn/bin</strong> directory, but only those files
that were originally included in the <strong>bin</strong> directory of the
source system.</p><p>If the configuration parameter <strong>relocatable</strong> was set to
<strong>true</strong> there is no need to install the target system with
<strong>reltool:install/2</strong> before it can be started. In that case
the file tree containing the target system can be moved without
re-installation.</p><p>In most cases, the <strong>RootDir</strong> parameter should be set to
the same as the <strong>root_dir</strong> configuration parameter used in
the call to <strong>reltool:get_target_spec/1</strong>
(or <strong>code:root_dir()</strong> if the configuration parameter is not
set). In some cases it might be useful to evaluate the same
target specification towards different root directories. This
should, however, be used with great care as it requires
equivalent file structures under all roots.</p><h4>get_config(Server) -&gt; {ok, Config} | {error, Reason}</h4><p>Get reltool configuration</p><ul><li><span class="v">Server  = server()</span></li><li><span class="v">Config  = config()</span></li><li><span class="v">Reason  = reason()</span></li></ul><p>Get reltool configuration. Shorthand for
<strong>reltool:get_config(Server,false,false)</strong>.</p><h4>get_config(Server, InclDefaults, InclDerived) -&gt; {ok, Config} | {error, Reason}</h4><p>Get reltool configuration</p><ul><li><span class="v">Server        = server()</span></li><li><span class="v">InclDefaults  = incl_defaults()</span></li><li><span class="v">InclDerived   = incl_derived()</span></li><li><span class="v">Config        = config()</span></li><li><span class="v">Reason        = reason()</span></li></ul><p>Get reltool configuration. Normally, only the explicit
configuration parameters with values that differ from their
defaults are interesting. But the builtin default values can be
returned by setting <strong>InclDefaults</strong> to <strong>true</strong>. The
derived configuration can be returned by setting
<strong>InclDerived</strong> to <strong>true</strong>.</p><h4>get_rel(Server, Relname) -&gt; {ok, RelFile} | {error, Reason}</h4><p>Get contents of a release file</p><ul><li><span class="v">Server  = server()</span></li><li><span class="v">RelName = rel_name()</span></li><li><span class="v">RelFile = rel_file()</span></li><li><span class="v">Reason  = reason()</span></li></ul><p>Get contents of a release file. See <strong>rel(4)</strong> for more
details.</p><h4>get_script(Server, Relname) -&gt; {ok, ScriptFile | {error, Reason}</h4><p>Get contents of a boot script file</p><ul><li><span class="v">Server     = server()</span></li><li><span class="v">RelName    = rel_name()</span></li><li><span class="v">ScriptFile = script_file()</span></li><li><span class="v">Reason     = reason()</span></li></ul><p>Get contents of a boot script file. See <strong>script(4)</strong> for
more details.</p><h4>get_status(Server) -&gt; {ok, [Warning]} | {error, Reason}</h4><p>Get contents of a release file</p><ul><li><span class="v">Server  = server()</span></li><li><span class="v">Warning = string()</span></li><li><span class="v">Reason  = reason()</span></li></ul><p>Get status about the configuration</p><h4>get_server(WindowPid) -&gt; {ok, ServerPid} | {error, Reason}</h4><p>Start server process with options</p><ul><li><span class="v">WindowPid   = window_pid()</span></li><li><span class="v">ServerPid   = server_pid()</span></li><li><span class="v">Reason      = reason()</span></li></ul><p>Return the process identifier of the server process.</p><h4>get_target_spec(Server) -&gt; {ok, TargetSpec} | {error, Reason}</h4><p>Return a specification of the target system</p><ul><li><span class="v">Server     = server()</span></li><li><span class="v">TargetSpec = target_spec()</span></li><li><span class="v">Reason     = reason()</span></li></ul><p>Return a specification of the target system. The actual
target system can be created with
<strong>reltool:eval_target_spec/3</strong>.</p><h4>install(RelName, TargetDir) -&gt; ok | {error, Reason}</h4><p>Install a target system</p><ul><li><span class="v">RelName    = rel_name()</span></li><li><span class="v">TargetDir  = target_dir()</span></li><li><span class="v">Reason     = reason()</span></li></ul><p>Install a created target system</p><h4>start() -&gt; {ok, WindowPid} | {error, Reason}</h4><p>Start main window process</p><ul><li><span class="v">WindowPid   = window_pid()</span></li><li><span class="v">Reason      = reason()</span></li></ul><p>Start a main window process with default options</p><h4>start(Options) -&gt; {ok, WindowPid} | {error, Reason}</h4><p>Start main window process with options</p><ul><li><span class="v">Options     = options()</span></li><li><span class="v">WindowPid   = window_pid()</span></li><li><span class="v">Reason      = reason()</span></li></ul><p>Start a main window process with options</p><h4>start_link(Options) -&gt; {ok, WindowPid} | {error, Reason}</h4><p>Start main window process with options</p><ul><li><span class="v">Options     = options()</span></li><li><span class="v">WindowPid   = window_pid()</span></li><li><span class="v">Reason      = reason()</span></li></ul><p>Start a main window process with options. The process is linked.</p><h4>start_server(Options) -&gt; {ok, ServerPid} | {error, Reason}</h4><p>Start server process with options</p><ul><li><span class="v">Options     = options()</span></li><li><span class="v">ServerPid   = server_pid()</span></li><li><span class="v">Reason      = reason()</span></li></ul><p>Start a server process with options. The server process
identity can be given as an argument to several other functions in the
API.</p><h4>stop(Pid) -&gt; ok | {error, Reason}</h4><p>Stop a server or window process</p><ul><li><span class="v">Pid     = server_pid() | window_pid()</span></li><li><span class="v">Reason  = reason()</span></li></ul><p>Stop a server or window process</p></body></html>