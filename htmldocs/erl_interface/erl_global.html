<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>erl_global</h1><h1>erl_global</h1><p>Access globally registered names.</p><p>This module provides support for registering, looking
up, and unregistering names in the <strong>global</strong> module.
For more information, see
<a href="./global">kernel/global</a>.Notice that the functions below perform an RPC using an open file
descriptor provided by the caller. This file descriptor must
not be used for other traffic during the global operation, as the
function can then receive unexpected data and fail.</p><h1>Functions</h1><h2>erl_global_names(fd,count):char **</h2><p>Obtain list of global names.</p><ul><li><span class="v">int fd;</span></li><li><span class="v">int *count;</span></li></ul><p>Retrieves a list of all known global names.</p><ul><li><strong>fd</strong> is an open descriptor to an Erlang connection.</li><li><strong>count</strong> is the address of an integer, or <strong>NULL</strong>. If <strong>count</strong> is not <strong>NULL</strong>, it is set by the function to the number of names found.</li></ul><p>On success, the function returns an array of strings, each
containing a single registered name, and sets
<strong>count</strong> to
the number of names found. The array is terminated
by a single <strong>NULL</strong> pointer. On failure, the function returns
<strong>NULL</strong> and <strong>count</strong> is not modified.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>It is the caller's responsibility to free the array
afterwards. It has been allocated by the function with a
single call to <strong>malloc()</strong>, so a single
<strong>free()</strong> is all that is necessary.</p></div><h2>erl_global_register(fd,name,pid):int</h2><p>Register a name in global.</p><ul><li><span class="v">int fd;</span></li><li><span class="v">const char *name;</span></li><li><span class="v">ETERM *pid;</span></li></ul><p>Registers a name in <strong>global</strong>.</p><ul><li><strong>fd</strong> is an open descriptor to an Erlang connection.</li><li><strong>name</strong> is the name to register in <strong>global</strong>.</li><li><strong>pid</strong> is the pid that is to be associated with <strong>name</strong>. This value is returned by <strong>global</strong> when processes request the location of <strong>name</strong>. </li></ul><p>Returns <strong>0</strong> on success, otherwise <strong>-1</strong>.</p><h2>erl_global_unregister(fd,name):int</h2><p>Unregister a name from global.</p><ul><li><span class="v">int fd;</span></li><li><span class="v">const char *name;</span></li></ul><p>Unregisters a name from <strong>global</strong>.</p><ul><li><strong>fd</strong> is an open descriptor to an Erlang connection.</li><li><strong>name</strong> is the name to unregister from <strong>global</strong>.</li></ul><p>Returns <strong>0</strong> on success, otherwise <strong>-1</strong>.</p><h2>erl_global_whereis(fd,name,node):ETERM *</h2><p>Look up a name in global.</p><ul><li><span class="v">int fd;</span></li><li><span class="v">const char *name;</span></li><li><span class="v">char *node;</span></li></ul><p>Looks up a name in <strong>global</strong>.</p><ul><li><strong>fd</strong> is an open descriptor to an Erlang connection.</li><li><strong>name</strong> is the name that is to be looked up in <strong>global</strong>.</li></ul><p>If <strong>node</strong> is not <strong>NULL</strong>, it is a pointer to a
buffer where the function can fill in the name of the node where
<strong>name</strong> is found. <strong>node</strong> can be
passed directly to <strong>erl_connect()</strong> if necessary.</p><p>On success, the function returns an Erlang pid containing the address
of the specified name, and the node is initialized to
the node name where <strong>name</strong> is found. On failure,
<strong>NULL</strong> is returned and <strong>node</strong> is not
modified.</p></body></html>