<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>Erl_interface Release Notes</h1><p>This document describes the changes made to the Erl_interface application.</p><h2>Erl_Interface 3.11.3</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
<strong>erl_interface</strong>/<strong>ei</strong> refused to use node names
with an alive name (the part of the node name preceding
the @ sign) longer than 63 characters and a host name
longer than 64 characters. The total amount of characters
allowed in a node name (alivename@hostname) was thus
limited to 128 characters. These limits applied both to
the own node name as well as node names of other nodes.
Ordinary Erlang nodes limit the node name length to 256
characters, which meant that you could not communicate
with certain Erlang nodes due to their node name used.</p> <p>
<strong>erl_interface</strong>/<strong>ei</strong> now allow the total amount
of characters in a node name to be up to 256 characters.
These characters may be distributed between alive name
and host name in whatever way needed. That is, the
maximum amount of characters in the alive name may be 254
and the maximum amount of characters in the host name may
be 254, but in total the node name must not exceed 256
characters.</p> <p>
Own Id: OTP-15781 Aux Id: ERIERL-356 </p> </li></ul><h2>Erl_Interface 3.11.2.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
<strong>erl_interface</strong>/<strong>ei</strong> refused to use node names
with an alive name (the part of the node name preceding
the @ sign) longer than 63 characters and a host name
longer than 64 characters. The total amount of characters
allowed in a node name (alivename@hostname) was thus
limited to 128 characters. These limits applied both to
the own node name as well as node names of other nodes.
Ordinary Erlang nodes limit the node name length to 256
characters, which meant that you could not communicate
with certain Erlang nodes due to their node name used.</p> <p>
<strong>erl_interface</strong>/<strong>ei</strong> now allow the total amount
of characters in a node name to be up to 256 characters.
These characters may be distributed between alive name
and host name in whatever way needed. That is, the
maximum amount of characters in the alive name may be 254
and the maximum amount of characters in the host name may
be 254, but in total the node name must not exceed 256
characters.</p> <p>
Own Id: OTP-15781 Aux Id: ERIERL-356 </p> </li></ul><h2>Erl_Interface 3.11.2</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fix handling of Makefile dependencies so that parallel
make works properly.</p> <p>
Own Id: OTP-15757</p> </li></ul><h2>Erl_Interface 3.11.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fixed two bugs in the <strong>erl_call</strong> program. A missing
initialization (introduced in <strong>erl_interface-3.11</strong>)
which either caused a crash or failure to connect to or
start a node, and an incorrectly calculated timeout which
could cause failure to start an erlang node. These bugs
only caused failures on some platforms.</p> <p>
Own Id: OTP-15676 Aux Id: OTP-15442, ERL-881 </p> </li></ul><h2>Erl_Interface 3.11</h2><h2>Improvements and New Features</h2><ul><li> <p>
Support for plugin of a <a href="./ei_connect#ussi">user supplied socket implementation</a> has been added.</p> <p>
Own Id: OTP-15442 Aux Id: ERIERL-258 </p> </li></ul><h2>Erl_Interface 3.10.4</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Make <strong>ei_connect</strong> and friends also accept state
<strong>ok_simultaneous</strong> during handshake, which means the
other node has initiated a connection setup that will be
cancelled in favor of this connection.</p> <p>
Own Id: OTP-15161 Aux Id: ERIERL-191 </p> </li><li> <p>
Fixed bug in <strong>ei_receive_msg</strong>,
<strong>ei_xreceive_msg</strong>, <strong>ei_receive_msg_tmo</strong> and
<strong>ei_xreceive_msg_tmo</strong>. The <strong>x-&gt;index</strong> was
set to entire buffer size instead of the number of bytes
actually received.</p> <p>
Own Id: OTP-15171</p> </li><li> <p>
Fixed bug in <strong>ei_connect_init</strong> which could be
provoked if called by concurrent threads.
<strong>ei_connect_init</strong> called posix interface
<strong>gethostbyname</strong> which is documented as not thread
safe.</p> <p>
Own Id: OTP-15191</p> </li><li> <p>
Fixed bug in erl_compare_ext() ignoring the tail of lists
of otherwise equal content. Example: <strong>[a | b]</strong> and
<strong>[a | c]</strong> compared equal and <strong>{[a], b}</strong> and
<strong>{[a], c}</strong> compared equal.</p> <p>
Own Id: OTP-15277 Aux Id: PR-1929 </p> </li></ul><h2>Erl_Interface 3.10.3</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fix bug where calling erl_init on certain platforms could
result in a buffer overflow bug.</p> <p>
Own Id: OTP-15033</p> </li><li> <p>
Fixed <strong>erl_call -m</strong> to not deallocate module source
binary before it has been read.</p> <p>
Own Id: OTP-15105 Aux Id: ERL-629 </p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p> The program <strong>erl_call</strong> calls
<strong>erl_eval:eval_str/1</strong> when it used to call
<strong>lib:eval_str/1</strong>. This means that <strong>erl_call</strong>
will fail when trying interact with an Erlang node
running Erlang/OTP 20 or earlier. </p> <p>
Own Id: OTP-15114 Aux Id: OTP-15072, ERL-634 </p> </li></ul><h2>Erl_Interface 3.10.2.2</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fix handling of Makefile dependencies so that parallel
make works properly.</p> <p>
Own Id: OTP-15757</p> </li></ul><h2>Erl_Interface 3.10.2.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Make <strong>ei_connect</strong> and friends also accept state
<strong>ok_simultaneous</strong> during handshake, which means the
other node has initiated a connection setup that will be
cancelled in favor of this connection.</p> <p>
Own Id: OTP-15161 Aux Id: ERIERL-191 </p> </li></ul><h2>Erl_Interface 3.10.2</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fix bug in <strong>ei_connect</strong> functions that may cause
failure due to insufficient buffer space for
gethostbyname_r.</p> <p>
Own Id: OTP-15022 Aux Id: ERIERL-163 </p> </li><li> <p>
Optimize encoding/decoding for pure 7-bit ascii atoms.</p> <p>
Own Id: OTP-15023 Aux Id: ERIERL-150 </p> </li></ul><h2>Erl_Interface 3.10.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p> Removed all old unused files in the documentation.
</p> <p>
Own Id: OTP-14475 Aux Id: ERL-409, PR-1493 </p> </li></ul><h2>Erl_Interface 3.10</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fix bug where gethostname would incorrectly fail with
enametoolong on Linux.</p> <p>
Own Id: OTP-14310</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>
Remove generation of atoms in old latin1 external format
in the distribution between erlang nodes,
<strong>erl_interface</strong>, and <strong>jinterface</strong>. The new utf8
format for atoms was introduced in OTP R16. An OTP 20
node can therefore not connect to nodes older than R16.</p> <p>
Atoms that can be encoded using latin1 are still encoded
by <strong>term_to_binary()</strong> using latin1 encoding. Note
that all atoms will by default be encoded using utf8 in a
future Erlang/OTP release. For more information see the
documentation of <a href="../erts/erlang#term_to_binary/2">erts/erlang#term_to_binary/2</a>.</p> <p>
Own Id: OTP-14337</p> </li></ul><h2>Erl_Interface 3.9.3</h2><h2>Improvements and New Features</h2><ul><li> <p>
Minor documentation update</p> <p>
Own Id: OTP-14233 Aux Id: PR-1343 </p> </li></ul><h2>Erl_Interface 3.9.2</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fix <strong>ei_connect_init</strong> and <strong>ei_connect_xinit</strong> to
adjust the <strong>creation</strong> argument to be compatible with
nodes older than OTP-19.</p> <p>
Own Id: OTP-13981</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>
Editorial documentation changes</p> <p>
Own Id: OTP-13980</p> </li></ul><h2>Erl_Interface 3.9.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Look for .erlang.cookie in windows system directory if
HOMEDRIVE and HOMEPATH is not set. The same behaviour as
the VM.</p> <p>
Own Id: OTP-13849</p> </li></ul><h2>Erl_Interface 3.9</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fix decoding of LLONG_MIN in erl_decode</p> <p>
Own Id: OTP-13666 Aux Id: ERL-158 </p> </li><li> <p>
On windows <strong>ei_decode_ulong</strong> and
<strong>ei_decode_long</strong> now correctly returns an error when
trying to decode a number that does not fit in a long.
Fixed a bug on windows where enabling ei tracing would
cause a segmentation fault.</p> <p>
Own Id: OTP-13673</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>
Handle terms (pids,ports and refs) from nodes with a
'creation' value larger than 3. This is a preparation of
the distribution protocol to allow OTP 19 nodes to
correctly communicate with future nodes (20 or higher).
The 'creation' value differentiates different
incarnations of the same node (name).</p> <p>
Own Id: OTP-13488</p> </li></ul><h2>Erl_Interface 3.8.2</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fix Erl_Interface build error on Debian/Hurd and
Debian/kFreeBSD. (Thanks to Sergei Golovan)</p> <p>
Own Id: OTP-13328</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>
EPMD supports both IPv4 and IPv6</p> <p>
Also affects oldest supported windows version.</p> <p>
Own Id: OTP-13364</p> </li></ul><h2>Erl_Interface 3.8.1</h2><h2>Improvements and New Features</h2><ul><li> <p>
Fix the conditional selection of gethostbyname_r and
gethostbyaddr_r.</p> <p>
Own Id: OTP-13188</p> </li></ul><h2>Erl_Interface 3.8</h2><h2>Improvements and New Features</h2><ul><li> <p>
Do not accept Nan and Infinity values</p> <p>
Erlang does not accept these values, so we return an
error in the C interface rather than letting them through
to the Erlang VM, which rejects the message with a
somewhat cryptic "bad external term".</p> <p>
Own Id: OTP-12801</p> </li></ul><h2>Erl_Interface 3.7.20</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Use C99 function isfinite() instead of finite() when
available on non GCC compilers.</p> <p>
Own Id: OTP-12268</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>
Distribute <strong>autoconf</strong> helpers to applications at
build time instead of having multiple identical copies
committed in the repository.</p> <p>
Own Id: OTP-12348</p> </li><li> <p>
Added an .appup file for the application.</p> <p>
Own Id: OTP-12358 Aux Id: OTP-12178 </p> </li></ul><h2>Erl_Interface 3.7.19</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Added a <strong>.app</strong> file for the application.</p> <p>
Own Id: OTP-12178</p> </li></ul><h2>Erl_Interface 3.7.18</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Implement --enable-sanitizers[=sanitizers]. Similar to
debugging with Valgrind, it's very useful to enable
-fsanitize= switches to catch bugs at runtime.</p> <p>
Own Id: OTP-12153</p> </li></ul><h2>Erl_Interface 3.7.17</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Now works with Visual Studio.</p> <p>
Own Id: OTP-11984</p> </li></ul><h2>Erl_Interface 3.7.16</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fix memcheck warning in gen_challange (Thanks to Olivier
Girondel)</p> <p>
Own Id: OTP-11608</p> </li></ul><h2>Erl_Interface 3.7.15</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Silence warnings (Thanks to Anthony Ramine)</p> <p>
Own Id: OTP-11517</p> </li></ul><h2>Erl_Interface 3.7.14</h2><h2>Improvements and New Features</h2><ul><li> <p>
Introduced functionality for inspection of system and
build configuration.</p> <p>
Own Id: OTP-11196</p> </li><li> <p>
Header and library files from ic and erl_interface are
now installed into usr/{include,lib}. Note that these
directories are unversioned, so the latest installed
version will be the one in the directory.</p> <p>
Own Id: OTP-11284</p> </li><li> <p>
Fix location of true binary under Mac OSX. Thanks to
Simon Cornish.</p> <p>
Own Id: OTP-11289</p> </li></ul><h2>Erl_Interface 3.7.13</h2><h2>Improvements and New Features</h2><ul><li> <p>
A guard was added to check if file descriptor is valid
before closing it.</p> <p>
Own Id: OTP-11167</p> </li></ul><h2>Erl_Interface 3.7.12</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Superfluous trailing comma in enum erlang_char_encoding
causing compile error for g++ with --pedantic option.</p> <p>
Own Id: OTP-10913 Aux Id: seq12264 </p> </li></ul><h2>Erl_Interface 3.7.11</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Revert the structs <strong>erlang_pid</strong>, <strong>erlang_port</strong>
and <strong>erlang_ref</strong> as they were before R16A (without
<strong>node_org_enc</strong>) in order to be backward compatible
with user code that accesses the fields of these structs.</p> <p>
Own Id: OTP-10885 Aux Id: seq12256 </p> </li></ul><h2>Erl_Interface 3.7.10</h2><h2>Improvements and New Features</h2><ul><li> <p>Where necessary a comment stating encoding has been
added to Erlang files. The comment is meant to be removed
in Erlang/OTP R17B when UTF-8 becomes the default
encoding. </p> <p>
Own Id: OTP-10630</p> </li><li> <p>
Limited support for unicode atoms in the external format
and in the internal representation of the vm. This is a
preparative feature in order to support communication
with future releases of Erlang/OTP that may create
unicode atoms.</p> <p>
Own Id: OTP-10753</p> </li></ul><h2>Erl_Interface 3.7.9</h2><h2>Improvements and New Features</h2><ul><li> <p>Teach lib/erl_interface/configure.in to look for
pthreads support in libc (where it can be found on
QNX)</p> <p>A minor tweak such that this configure
*fails* if you pass --enable-threads and no pthreads
support can be found.</p> (Thanks to Per Hedeland) <p>
Own Id: OTP-10581</p> </li></ul><h2>Erl_Interface 3.7.8</h2><h2>Improvements and New Features</h2><ul><li> <p>
Detect when middle endian doubles are used by a platform
and account for it when decoding floats. (Thanks to Mike
Sperber)</p> <p>
Own Id: OTP-10209</p> </li></ul><h2>Erl_Interface 3.7.7</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>Minor suppressions and fixes of compilation
warnings</p> <p>
Own Id: OTP-10016</p> </li></ul><h2>Erl_Interface 3.7.6</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
An error when getting global names on OS X Lion has been
fixed. The error caused truncated strings to be returned
from the function.</p> <p>
Own Id: OTP-9799</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>Erlang/OTP can now be built using parallel make if you
limit the number of jobs, for instance using '<strong>make -j6</strong>' or '<strong>make -j10</strong>'. '<strong>make -j</strong>' does not
work at the moment because of some missing
dependencies.</p> <p>
Own Id: OTP-9451</p> </li><li> <p>
Eliminate use of deprecated regexp module</p> <p>
Own Id: OTP-9810</p> </li></ul><h2>Erl_Interface 3.7.5</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>Align ei buffer according to size of pointers</p> <p>
Own Id: OTP-9390</p> </li><li> <p> XML files have been corrected. </p> <p>
Own Id: OTP-9550 Aux Id: OTP-9541 </p> </li><li> <p>
Make comment and documentation reflect code in
erl_interface/src/misc/ei_decode_term.c (Thanks to Anneli
Cuss)</p> <p>
Own Id: OTP-9559</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>
ei: integer overflow in string/atom encoding</p> <p>
ei_encode_atom() and ei_encode_string() use strlen() to
get the length of the buffer. As strlen() returns an
unsigned long long and both ei functions take a signed
integer, the length fields may overflow.</p> <p>
Check so that the results of strlen can be held in a
signed integer. (Thanks to Michael Santos)</p> <p>
Own Id: OTP-9530</p> </li></ul><h2>Erl_Interface 3.7.4</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fix using sizeof() for array given as function argument</p> <p>
When using the sizeof() operator for an array given as
function argument it returns the size of the pointer. In
this case, the affected function hex(char digest[16],
char buff[33]) will just print 4 or 8 byte instead of the
full length of 16 bytes, on 32bit and 64bit systems
respectively. (Thanks to Cristian greco)</p> <p>
Own Id: OTP-9151</p> </li><li> <p>
Initialize <strong>to</strong> and <strong>to_name</strong> in
<strong>erl_receive_msg</strong>. (Thanks to GÃ¶ran Larsson)</p> <p>
Own Id: OTP-9241</p> </li><li> <p>
erl_interface: fix compile error(Thanks to Michael
Santos)</p> <p>
Own Id: OTP-9252</p> </li></ul><h2>Erl_Interface 3.7.3</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Some malformed distribution messages could cause VM to
crash, this is now corrected.</p> <p>
Own Id: OTP-8993</p> </li><li> <p>
Strengthen string copy check (Thanks to Michael Santos).</p> <p>
Own Id: OTP-9071</p> </li><li> <p>
Strengthen atom length check when decoding atoms (Thanks
to Michael Santos).</p> <p>
Own Id: OTP-9072</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>Fix global registration. C node needed
DFLAG_DIST_MONITOR_FLAT set when connecting. Fix list
compare in erl_compare_ext to return correct result.
(Thanks to Vitaliy Batichko and Evgeny Khirin)</p> <p>
Own Id: OTP-9015</p> </li></ul><h2>Erl_Interface 3.7.2</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
erl_call: remove get_hostent</p> <p>
get_hostent does not properly handle IPv4 addresses on
little endian platforms and fails with hostnames
beginning with a number. Remove get_hostent and use
ei_gethostbyname directly since gethostbyname supports
IPv4 addresses.</p> <p>
(Thanks to Michael Santos)</p> <p>
Own Id: OTP-8890</p> </li><li> <p> teach ei_x_format to handle unary - and + (Thanks to
Steve Vinoski)</p> <p>
Own Id: OTP-8891</p> </li><li> <p>Fix zero byte allocation in registry. (Thanks to
Michael Santos)</p> <p>
Own Id: OTP-8893</p> </li><li> <p> Check the length of the node name to prevent an
overflow. Memory error control of ei_alloc_big. (Thanks
to Michael Santos) </p> <p>
Own Id: OTP-8943</p> </li><li> <p>
erl_term_len() in erl_interface could returned too large
values for integers (since R14B) and too small values for
refs (since R9B).</p> <p>
Own Id: OTP-8945</p> </li></ul><h2>Erl_Interface 3.7.1.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
The <strong>erl_interface</strong> tracelevel for erlang messages was incorrect. This has now been fixed.
</p> <p>
Own Id: OTP-8874</p> </li></ul><h2>Erl_Interface 3.7.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Removed unused variable in <strong>ei_decode_term.c</strong>.</p> <p>
Fixed faulty deallocation in <strong>erl_call</strong>.</p> <p>
Own Id: OTP-8748</p> </li><li> <p>ei_connect: correct man page examples (Thanks to
Michael Santos)</p> <p>
Own Id: OTP-8813</p> </li><li> <p>ei: prevent overflow in <strong>ei_connect_init</strong> and
<strong>ei_xconnect</strong></p> <p>Add length check of the buffer
before copying. (Thanks to Michael Santos)</p> <p>
Own Id: OTP-8814</p> </li><li> <p>Remove DECLSPEC feature which fails on Windows Vista
and use the fallback implementation instead.</p> <p>
Own Id: OTP-8826</p> </li><li> <p>erl_call: fix multiple buffer overflows (Thanks to
Michael Santos)</p> <p>
Own Id: OTP-8827</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>Fix incorrect writev iovec buffer handling in
<strong>erl_interface</strong> (Thanks to Steve Vinoski)</p> <p>
Own Id: OTP-8837</p> </li></ul><h2>Erl_Interface 3.7</h2><h2>Improvements and New Features</h2><ul><li> <p>compact IEEE 754 double encoding in external binary
format for ei</p> <ul><li><p>Implement the compact
IEEE 754 double encoding in external binary format for
ei. Encoding for ei now always produces the NEW_FLOAT_EXT
format. Decoding and term printing handle both the old
ERL_FLOAT_EXT encoding and the new NEW_FLOAT_EXT
encoding. </p></li><li><p>Legacy erl_interface code
also handles the new encoding, but still produces the
ERL_FLOAT_EXT encoding by default.</p></li><li><p>Also enable the DFLAG_NEW_FLOATS distribution
flag.</p></li><li><p>ei_get_type() will return
ERL_FLOAT_EXT regardless if the external format is
encoded with ERL_FLOAT_EXT or NEW_FLOAT_EXT for
doubles.</p></li><li><p>Reduce the number of copies
of the code for encoding and decoding doubles throughout
ei and erl_interface by instead calling the ei encoding
and decoding functions wherever possible.</p></li><li><p>Restore commented-out float tests in
ei_decode_SUITE and ei_encode_SUITE in
lib/erl_interface/test. Modify them to make them match
the style of other tests in the same suites.</p></li></ul> <p>These changes are based on an ei float patch
from Serge Aleynikov originally submitted against R12B-2
in July 2008 and reworked by Steve Vinoski May 2010.</p> <p>
*** POTENTIAL INCOMPATIBILITY ***</p> <p>
Own Id: OTP-8684</p> </li></ul><h2>Erl_Interface 3.6.5</h2><h2>Improvements and New Features</h2><ul><li> <p>
Document debug support.</p> <p>
Debug trace output for connection activity could be
enabled setting the trace level as an integer to the
EI_TRACELEVEL environment variable. This option could
also be read and set from a running program using
ei_get_tracelevel(void) and ei_set_tracelevel(int).</p> <p>
Own Id: OTP-5037</p> </li><li> <p>Cross compilation improvements and other build system
improvements.</p> <p>Most notable:</p> <ul><li> Lots of cross compilation improvements. The old cross compilation support was more or less non-existing as well as broken. Please, note that the cross compilation support should still be considered as experimental. Also note that old cross compilation configurations cannot be used without modifications. For more information on cross compiling Erlang/OTP see the <strong>$ERL_TOP/INSTALL-CROSS.md</strong> file. </li><li> Support for staged install using <a href="http://www.gnu.org/prep/standards/html_node/DESTDIR.html">DESTDIR</a>. The old broken <strong>INSTALL_PREFIX</strong> has also been fixed. For more information see the <strong>$ERL_TOP/INSTALL.md</strong> file. </li><li> Documentation of the <strong>release</strong> target of the top <strong>Makefile</strong>. For more information see the <strong>$ERL_TOP/INSTALL.md</strong> file. </li><li> <strong>make install</strong> now by default creates relative symbolic links instead of absolute ones. For more information see the <strong>$ERL_TOP/INSTALL.md</strong> file. </li><li> <strong>$ERL_TOP/configure --help=recursive</strong> now works and prints help for all applications with <strong>configure</strong> scripts. </li><li> Doing <strong>make install</strong>, or <strong>make release</strong> directly after <strong>make all</strong> no longer triggers miscellaneous rebuilds. </li><li> Existing bootstrap system is now used when doing <strong>make install</strong>, or <strong>make release</strong> without a preceding <strong>make all</strong>. </li><li> The <strong>crypto</strong> and <strong>ssl</strong> applications use the same runtime library path when dynamically linking against <strong>libssl.so</strong> and <strong>libcrypto.so</strong>. The runtime library search path has also been extended. </li><li> The <strong>configure</strong> scripts of <strong>erl_interface</strong> and <strong>odbc</strong> now search for thread libraries and thread library quirks the same way as <strong>erts</strong> do. </li><li> The <strong>configure</strong> script of the <strong>odbc</strong> application now also looks for odbc libraries in <strong>lib64</strong> and <strong>lib/64</strong> directories when building on a 64-bit system. </li><li> The <strong>config.h.in</strong> file in the <strong>erl_interface</strong> application is now automatically generated in instead of statically updated which reduces the risk of <strong>configure</strong> tests without any effect. </li></ul> <p>(Thanks to Henrik Riomar for suggestions and
testing)</p> <p>(Thanks to Winston Smith for the AVR32-Linux cross
configuration and testing)</p> <p>
*** POTENTIAL INCOMPATIBILITY ***</p> <p>
Own Id: OTP-8323</p> </li><li> <p>
Change erroneous "\\0" in documentation files
<strong>erl_notes.xml</strong> and <strong> erl_eterm.xml</strong>.</p> <p>
Own Id: OTP-8326</p> </li><li> <p>
Allow <strong>erl_match()</strong> to match <strong>ERL_LONGLONG</strong> and
<strong>ERL_U_LONGLONG</strong> terms (Thanks to Scott Lystig
Fritchie).</p> <p>
Own Id: OTP-8400</p> </li></ul><h2>Erl_Interface 3.6.4</h2><h2>Improvements and New Features</h2><ul><li> <p>
The documentation is now built with open source tools
(xsltproc and fop) that exists on most platforms. One
visible change is that the frames are removed.</p> <p>
Own Id: OTP-8201</p> </li></ul><h2>Erl_Interface 3.6.3</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
The manual states that erl_receive() return the reason in
the <strong>ErlMessage</strong> struct. This was not the case and
the function is now corrected.</p> <p>
*** POTENTIAL INCOMPATIBILITY ***</p> <p>
Own Id: OTP-4969</p> </li><li> <p>
In <strong>send_exit.c</strong> an errorneous size of memory
allocation could occur when reallocating a buffer.</p> <p>
In <strong>ei_decode_trace.c</strong> the index could be updated
when the decoding failed.</p> <p>
In <strong>ei_printterm.c</strong> the index could be updated when
the decoding failed in lists and tuples.</p> <p>
In <strong>ei_decode_term.c</strong> when decoding a double
(ERL_FLOAT_EXT) no check was done to ensure that the last
of the 31 bytes was null terminated.</p> <p>
In <strong>ei_decode_term.c</strong> when decoding references, only
the first 3 bytes are read, but the index did not
increment by the total size.</p> <p>
In <strong>ei_decode_fun.c</strong> no check of correct buffer
allocation or data length was done.</p> <p>
In <strong>ei_decode_string.c</strong> the integer list string case
did not decode the NIL tail correctly.</p> <p>
These errors has now been fixed. (Thanks to Romain
Lenglet, Paul Mineiro and Paul Guyot).</p> <p>
Own Id: OTP-6117</p> </li><li> <p>
<strong>ei_decode_big</strong> could be decoded with a garbage
byte.</p> <p>
<strong>ei_encode_big</strong> and <strong>ei_x_encode_big</strong> is now
available.</p> <p>
Own Id: OTP-7554</p> </li><li> <p>
The function <strong>erl_init_resolve()</strong> did not conform to
C99 standard which caused a build error on some
platforms. This has now been fixed.</p> <p>
Own Id: OTP-8093</p> </li><li> <p>
<strong>Makefile.in</strong> has been updated to use the LDFLAGS
environment variable (if set). (Thanks to Davide
Pesavento.)</p> <p>
Own Id: OTP-8157</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>
Added support for 64-bit integers in encoding/decoding.</p> <p>
Added support for better printouts of binaries.</p> <p>
Own Id: OTP-6091</p> </li></ul><h2>Erl_Interface 3.6.2</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
A problem with <strong>gethostbyname</strong> in <strong>erl_start.c</strong>
could cause a buffer overflow. This has now been fixed.</p> <p>
Clean up of code and removed compiler warnings.</p> <p>
Own Id: OTP-7978</p> </li></ul><h2>Erl_Interface 3.6.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>A faulty validation in <strong>ei_reg_getpval</strong> caused it
to never return the key-value. This has now been fixed.
(Thanks to Matt Stancliff)</p> <p>
Own Id: OTP-7960</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>Minor update to the <strong>configure</strong> script.</p> <p>
Own Id: OTP-7959</p> </li></ul><h2>Erl_Interface 3.6.1</h2><h2>Improvements and New Features</h2><ul><li> <p>Minor update to the <strong>configure</strong> script.</p> <p>
Own Id: OTP-7959</p> </li></ul><h2>Erl_Interface 3.6</h2><h2>Improvements and New Features</h2><ul><li> <p>
Nodes belonging to different independent clusters can now
co-exist on the same host with the help of a new
environment variable setting ERL_EPMD_PORT.</p> <p>
Own Id: OTP-7826</p> </li></ul><h2>Erl_Interface 3.5.9</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
A type-casting bug in ei_skip_term and ei_printterm on
64bit platforms rendering undefined results is now
corrected.</p> <p>
Own Id: OTP-7577</p> </li><li> <p>
A bug in the hostent copying code of erl_interface on
MacOS X/Darwin is now corrected.</p> <p>
Own Id: OTP-7593</p> </li><li> <p>A problem with building <strong>erl_interface</strong> on
FreeBSD has been fixed (Thanks to Akira Kitada).</p> <p>
Own Id: OTP-7611</p> </li></ul><h2>Erl_Interface 3.5.8</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fixed bug in erl_interface when decoding broken data</p> <p>
Own Id: OTP-7448</p> </li></ul><h2>Erl_Interface 3.5.7</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
An erroneous freeing of memory could occur when using
<strong>ei_x_format_wo_ver</strong> in erl_interface, resulting in
a segmentation fault.</p> <p>
Own Id: OTP-6795</p> </li><li> <p>
A faulty compare in <strong>erl_marshal</strong> has now been
fixed. (Thanks to Simon Cornish and Paul Mineiro)</p> <p>
Own Id: OTP-7368</p> </li></ul><h2>Erl_Interface 3.5.6</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Minor documentation fixes.</p> <p>
Own Id: OTP-7183 Aux Id: OTP-7118 </p> </li></ul><h2>Erl_Interface 3.5.5.4</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
The symbol __erl_errno was undefined in the single thread
version of the ei library, but is now defined.</p> <p>
Own Id: OTP-6887</p> </li><li> <p>
Corrected FreeBSD build error.</p> <p>
Own Id: OTP-7093</p> </li></ul><h2>Erl_Interface 3.5.5.3</h2><h2>Improvements and New Features</h2><ul><li> <p>Calls to alloca in erl_marshal.c have been removed. A
static buffer is now used instead to store node names
temporarily.</p> <p>Own Id: OTP-6331 Aux Id: seq10468 </p> </li><li> <p>ei_print_term interprets a list of integers with values
from 0 to 255 as a string. If the original list contains
the integer 0, this is considered terminator of the
string. This is incorrect. The function has now been
modified to not look for '\0' in a string, but always
print all characters.</p> <p>Own Id: OTP-6339 Aux Id: seq10492 </p> </li></ul><h2>Erl_Interface 3.5.5.2</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>The combination of xeon processors with 64bit x86
extensions and a 32bit linux could cause ei_decode_long
and ei_decode_longlong to fail for the value LONG_MIN and
LONGLONG_MIN. The conversion is now made more portable.</p> <p>Own Id: OTP-6216</p> </li></ul><h2>Erl_Interface 3.5.5.1</h2><h2>Improvements and New Features</h2><ul><li> <p>Portability enhancements.</p> <p>Own Id: OTP-6132</p> </li></ul><h2>Erl_Interface 3.5.5</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>Different (and old) <strong>config.guess</strong> files in the
<strong>erts</strong> and <strong>erl_interface</strong> applications would
cause build problems on the new Intel-based iMacs.
(Thanks to Sebastion Strollo.)</p> <p>Own Id: OTP-5967</p> </li><li> <p>pthread header and library mismatch on linux systems (at
least some SuSE and Debian) with both NPTL and
Linuxthreads libraries installed.</p> <p>Own Id: OTP-5981</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>Support for a C node to connect to an Erlang node on a
standalone host has been added.</p> <p>Own Id: OTP-5883 Aux Id: seq10170 </p> </li></ul><h2>Erl_interface 3.5.2</h2><h2>Improvements and New Features</h2><ul><li> <p>A configuration test error caused erl_interface to be
built without support for threads. This has been
corrected.</p> <p>Own Id: OTP-5456</p> </li></ul><h2>Erl_interface 3.5.1</h2><h2>Improvements and New Features</h2><ul><li> <p>Changes and improvements have been made to the build and
test environment to solve problems with failing
erl_interface test cases.</p> <p>Own Id: OTP-5295 Aux Id: OTP-5387 </p> </li></ul><h2>Erl_interface 3.5</h2><h2>Improvements and New Features</h2><ul><li> <p>Process identifiers and port identifiers have been
made more unique. Previously 18 bits were used as id in
the internal representation of process and port
identifiers. Now 28 bits are used. </p> <p>The maximum
limit on the number of concurrently existing processes
due to the representation of pids has been increased to
268435456 processes. The same is true for ports. This
limit will at least on a 32-bit architecture be
impossible to reach due to memory shortage. </p> <p><em>NOTE:</em> By default, the <strong>ERTS</strong>, and the
<strong>erl_interface</strong>, <strong>ei</strong>, and <strong>jinterface</strong>
libraries are now only guaranteed to be compatible with
other Erlang/OTP components from the same release. It is
possible to set each component in compatibility mode of
an earlier release, though. See the documentation for
respective component on how to set it in compatibility
mode. </p> <p>*** POTENTIAL INCOMPATIBILITY ***</p> <p>Own Id: OTP-4968 Aux Id: OTP-4196 </p> </li></ul><h2>Erl_interface 3.4.5</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>Corrections for mistakes done for patch erl_605/OTP-4874.</p> <p>Own Id: OTP-4995 Aux Id: OTP-4874 </p> </li></ul><h2>Erl_interface 3.4.4</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>A small optimization in ei_rpc*() was added and a bug in
ei_decode_longlong() was corrected.</p> <p>Own Id: OTP-4784</p> </li></ul><h2>Erl_interface 3.4.2</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>Strings longer than 65535 bytes were encoded wrong in
ei/erl_interface.</p> <p>Own Id: OTP-4865 Aux Id: EABln07451 </p> </li></ul><h2>Erl_interface 3.4.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>erl_call -a parsed erlang terms incorrectly due to a bug
in ei_format, which is now corrected.</p> <p>Own Id: OTP-4777 Aux Id: seq8099 </p> </li></ul></body></html>