<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>Socket Usage</h1><h2>Introduction</h2><p>The socket interface (module) is basically an "thin" layer on top of
the OS socket interface. It is assumed that, unless you have special needs,
gen_[tcp|udp|sctp] should be sufficent. </p><p>Note that just because we have a documented and described option,
it does <em>not</em> mean that the OS supports it. So its recommended
that the user reads the platform specific documentation for the
option used. </p><a name="socket_options"></a><h2>Socket Options</h2><p>Options for level <strong>otp</strong>: </p><table class="table table-bordered table-hover table-striped"><caption>option levels</caption><tbody><tr><td><em>Option Name</em></td><td><em>Value Type</em></td><td><em>Set</em></td><td><em>Get</em></td><td><em>Other Requirements and comments</em></td></tr><tr><td>assoc_id</td><td>integer()</td><td>no</td><td>yes</td><td>type = seqpacket, protocol = sctp, is an association</td></tr><tr><td>debug</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>iow</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>controlling_process</td><td>pid()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>rcvbuf</td><td>default | pos_integer() | {pos_integer(), pos_ineteger()}</td><td>yes</td><td>yes</td><td>'default' only valid for set. The tuple form is only valid for type 'stream' and protocol 'tcp'.</td></tr><tr><td>rcvctrlbuf</td><td>default | pos_integer()</td><td>yes</td><td>yes</td><td>default only valid for set</td></tr><tr><td>sndctrlbuf</td><td>default | pos_integer()</td><td>yes</td><td>yes</td><td>default only valid for set</td></tr><tr><td>fd</td><td>integer()</td><td>no</td><td>yes</td><td>none</td></tr></tbody></table><p>Options for level <strong>socket</strong>: </p><table class="table table-bordered table-hover table-striped"><caption>socket options</caption><tbody><tr><td><em>Option Name</em></td><td><em>Value Type</em></td><td><em>Set</em></td><td><em>Get</em></td><td><em>Other Requirements and comments</em></td></tr><tr><td>acceptcon</td><td>boolean()</td><td>no</td><td>yes</td><td>none</td></tr><tr><td>bindtodevice</td><td>string()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>broadcast</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = dgram</td></tr><tr><td>debug</td><td>integer()</td><td>yes</td><td>yes</td><td>requires admin capability</td></tr><tr><td>domain</td><td>domain()</td><td>no</td><td>yes</td><td><em>Not</em> on FreeBSD (for instance)</td></tr><tr><td>dontroute</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>keepalive</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>linger</td><td>abort | linger()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>oobinline</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>peek_off</td><td>integer()</td><td>yes</td><td>yes</td><td>domain = local (unix)</td></tr><tr><td>priority</td><td>integer()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>protocol</td><td>protocol()</td><td>no</td><td>yes</td><td>none</td></tr><tr><td>rcvbuf</td><td>non_neg_integer()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>rcvlowat</td><td>non_neg_integer()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>rcvtimeo</td><td>timeval()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>reuseaddr</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>reuseport</td><td>boolean()</td><td>yes</td><td>yes</td><td>domain = inet | inet6</td></tr><tr><td>sndbuf</td><td>non_neg_integer()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>sndlowat</td><td>non_neg_integer()</td><td>yes</td><td>yes</td><td>not changeable on Linux</td></tr><tr><td>sndtimeo</td><td>timeval()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>timestamp</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>type</td><td>type()</td><td>no</td><td>yes</td><td>none</td></tr></tbody></table><p>Options for level <strong>ip</strong>: </p><table class="table table-bordered table-hover table-striped"><caption>ip options</caption><tbody><tr><td><em>Option Name</em></td><td><em>Value Type</em></td><td><em>Set</em></td><td><em>Get</em></td><td><em>Other Requirements and comments</em></td></tr><tr><td>add_membership</td><td>ip_mreq()</td><td>yes</td><td>no</td><td>none</td></tr><tr><td>add_source_membership</td><td>ip_mreq_source()</td><td>yes</td><td>no</td><td>none</td></tr><tr><td>block_source</td><td>ip_mreq_source()</td><td>yes</td><td>no</td><td>none</td></tr><tr><td>drop_membership</td><td>ip_mreq()</td><td>yes</td><td>no</td><td>none</td></tr><tr><td>drop_source_membership</td><td>ip_mreq_source()</td><td>yes</td><td>no</td><td>none</td></tr><tr><td>freebind</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>hdrincl</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = raw</td></tr><tr><td>minttl</td><td>integer()</td><td>yes</td><td>yes</td><td>type = raw</td></tr><tr><td>msfilter</td><td>null | ip_msfilter()</td><td>yes</td><td>no</td><td>none</td></tr><tr><td>mtu</td><td>integer()</td><td>no</td><td>yes</td><td>type = raw</td></tr><tr><td>mtu_discover</td><td>ip_pmtudisc()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>multicast_all</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>multicast_if</td><td>any | ip4_address()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>multicast_loop</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>multicast_ttl</td><td>uint8()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>nodefrag</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = raw</td></tr><tr><td>pktinfo</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = dgram</td></tr><tr><td>recvdstaddr</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = dgram</td></tr><tr><td>recverr</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>recvif</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = dgram | raw</td></tr><tr><td>recvopts</td><td>boolean()</td><td>yes</td><td>yes</td><td>type =/= stream</td></tr><tr><td>recvorigdstaddr</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>recvttl</td><td>boolean()</td><td>yes</td><td>yes</td><td>type =/= stream</td></tr><tr><td>retopts</td><td>boolean()</td><td>yes</td><td>yes</td><td>type =/= stream</td></tr><tr><td>router_alert</td><td>integer()</td><td>yes</td><td>yes</td><td>type = raw</td></tr><tr><td>sendsrcaddr</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>tos</td><td>ip_tos()</td><td>yes</td><td>yes</td><td>some high-priority levels may require superuser capability</td></tr><tr><td>transparent</td><td>boolean()</td><td>yes</td><td>yes</td><td>requires admin capability</td></tr><tr><td>ttl</td><td>integer()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>unblock_source</td><td>ip_mreq_source()</td><td>yes</td><td>no</td><td>none</td></tr></tbody></table><p>Options for level <strong>ipv6</strong>: </p><table class="table table-bordered table-hover table-striped"><caption>ipv6 options</caption><tbody><tr><td><em>Option Name</em></td><td><em>Value Type</em></td><td><em>Set</em></td><td><em>Get</em></td><td><em>Other Requirements and comments</em></td></tr><tr><td>addrform</td><td>inet</td><td>yes</td><td>no</td><td>allowed only for IPv6 sockets that are connected and bound to a v4-mapped-on-v6 address</td></tr><tr><td>add_membership</td><td>ipv6_mreq()</td><td>yes</td><td>no</td><td>none</td></tr><tr><td>authhdr</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = dgram | raw, obsolete?</td></tr><tr><td>drop_membership</td><td>ipv6_mreq()</td><td>yes</td><td>no</td><td>none</td></tr><tr><td>dstopts</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = dgram | raw, requires superuser privileges to update</td></tr><tr><td>flowinfo</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = dgram | raw, requires superuser privileges to update</td></tr><tr><td>hoplimit</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = dgram | raw, requires superuser privileges to update</td></tr><tr><td>hopopts</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = dgram | raw, requires superuser privileges to update</td></tr><tr><td>mtu</td><td>boolean()</td><td>yes</td><td>yes</td><td>Get: Only after the socket has been connected</td></tr><tr><td>mtu_discover</td><td>ipv6_pmtudisc()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>multicast_hops</td><td>default | uint8()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>multicast_if</td><td>integer()</td><td>yes</td><td>yes</td><td>type = dgram | raw</td></tr><tr><td>multicast_loop</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>recverr</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>recvpktinfo | pktinfo</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = dgram | raw</td></tr><tr><td>router_alert</td><td>integer()</td><td>yes</td><td>yes</td><td>type = raw</td></tr><tr><td>rthdr</td><td>boolean()</td><td>yes</td><td>yes</td><td>type = dgram | raw, requires superuser privileges to update</td></tr><tr><td>unicast_hops</td><td>default | uint8()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>v6only</td><td>boolean()</td><td>yes</td><td>no</td><td>none</td></tr></tbody></table><p>Options for level <strong>tcp</strong>: </p><table class="table table-bordered table-hover table-striped"><caption>tcp options</caption><tbody><tr><td><em>Option Name</em></td><td><em>Value Type</em></td><td><em>Set</em></td><td><em>Get</em></td><td><em>Other Requirements and comments</em></td></tr><tr><td>congestion</td><td>string()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>maxseg</td><td>integer()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>nodelay</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr></tbody></table><p>Options for level <strong>udp</strong>: </p><table class="table table-bordered table-hover table-striped"><caption>udp options</caption><tbody><tr><td><em>Option Name</em></td><td><em>Value Type</em></td><td><em>Set</em></td><td><em>Get</em></td><td><em>Other Requirements and comments</em></td></tr><tr><td>cork</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr></tbody></table><p>Options for level <strong>sctp</strong>: </p><table class="table table-bordered table-hover table-striped"><caption>sctp options</caption><tbody><tr><td><em>Option Name</em></td><td><em>Value Type</em></td><td><em>Set</em></td><td><em>Get</em></td><td><em>Other Requirements and comments</em></td></tr><tr><td>associnfo</td><td>sctp_assocparams()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>autoclose</td><td>non_neg_integer()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>disable_fragments</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>events</td><td>sctp_event_subscribe()</td><td>yes</td><td>no</td><td>none</td></tr><tr><td>initmsg</td><td>sctp_initmsg()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>maxseg</td><td>non_neg_integer()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>nodelay</td><td>boolean()</td><td>yes</td><td>yes</td><td>none</td></tr><tr><td>rtoinfo</td><td>sctp_rtoinfo()</td><td>yes</td><td>yes</td><td>none</td></tr></tbody></table></body></html>