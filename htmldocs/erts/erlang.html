<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>erlang</h1><h1>erlang</h1><p>The Erlang BIFs.</p><p>By convention, most Built-In Functions (BIFs) are included
in this module. Some of the BIFs are viewed more
or less as part of the Erlang programming language and are
<em>auto-imported</em>. Thus, it is not necessary to specify the
module name. For example, the calls <strong>atom_to_list(erlang)</strong>
and <strong>erlang:atom_to_list(erlang)</strong> are identical.Auto-imported BIFs are listed without module prefix.
BIFs listed with module prefix are not auto-imported.BIFs can fail for various reasons. All BIFs fail with
reason <strong>badarg</strong> if they are called with arguments of an
incorrect type. The other reasons are described in the
description of each individual BIF.Some BIFs can be used in guard tests and are marked with
"Allowed in guard tests".</p><h1>Data Types</h1><span class="name">ext_binary</span><p>A binary data object, structured according to
the Erlang external term format.</p><span class="name">iovec</span><p>A list of binaries. This datatype is useful to use
together with <a href="./erl_nif#enif_inspect_iovec">erl_nif#enif_inspect_iovec</a>.</p><span class="name">message_queue_data</span><p>See <a href="#process_flag_message_queue_data">process_flag_message_queue_data</a>.</p><span class="name">timestamp</span><p>See <a href="#timestamp/0">timestamp/0</a>.</p><span class="name">time_unit</span><a name="type_time_unit"></a><p>Supported time unit representations:</p><dl><dt><strong>PartsPerSecond :: integer() &gt;= 1</strong></dt><dd> <p>Time unit expressed in parts per second. That is,
the time unit equals <strong>1/PartsPerSecond</strong> second.</p> </dd><dt><strong>second</strong></dt><dd> <p>Symbolic representation of the time unit
represented by the integer <strong>1</strong>.</p> </dd><dt><strong>millisecond</strong></dt><dd> <p>Symbolic representation of the time unit
represented by the integer <strong>1000</strong>.</p> </dd><dt><strong>microsecond</strong></dt><dd> <p>Symbolic representation of the time unit
represented by the integer <strong>1000000</strong>.</p> </dd><dt><strong>nanosecond</strong></dt><dd> <p>Symbolic representation of the time unit
represented by the integer <strong>1000000000</strong>.</p> </dd><dt><strong>native</strong></dt><dd> <p>Symbolic representation of the native time unit
used by the Erlang runtime system.</p> <p>The <strong>native</strong> time unit is determined at
runtime system start, and remains the same until
the runtime system terminates. If a runtime system
is stopped and then started again (even on the same
machine), the <strong>native</strong> time unit of the new
runtime system instance can differ from the
<strong>native</strong> time unit of the old runtime system
instance.</p> <p>One can get an approximation of the <strong>native</strong>
time unit by calling
<a href="#convert_time_unit/3">convert_time_unit/3</a>.
The result equals the number
of whole <strong>native</strong> time units per second. If
the number of <strong>native</strong> time units per second does not
add up to a whole number, the result is rounded downwards.</p> <div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>The value of the <strong>native</strong> time unit gives
you more or less no information about the
quality of time values. It sets a limit for the
<a href="./time_correction#Time_Resolution"> resolution</a> and for the
<a href="./time_correction#Time_Precision"> precision</a> of time values,
but it gives no information about the
<a href="./time_correction#Time_Accuracy"> accuracy</a> of time values. The resolution of
the <strong>native</strong> time unit and the resolution of time
values can differ significantly.</p></div> </dd><dt><strong>perf_counter</strong></dt><dd> <p>Symbolic representation of the performance counter
time unit used by the Erlang runtime system.</p> <p>The <strong>perf_counter</strong> time unit behaves much in the same way
as the <strong>native</strong> time unit. That is, it can differ between
runtime restarts. To get values of this type, call
<a href="../kernel/os#perf_counter/0">kernel/os#perf_counter/0</a>.</p> </dd><dt><a href="#type_deprecated_time_unit">type_deprecated_time_unit</a></dt><dd><p>
Deprecated symbolic representations kept for backwards-compatibility.
</p></dd></dl><p>The <strong>time_unit/0</strong> type can be extended.
To convert time values between time units, use
<a href="#convert_time_unit/3">convert_time_unit/3</a>.</p><span class="name">deprecated_time_unit</span><a name="type_deprecated_time_unit"></a><p>The <a href="#type_time_unit">type_time_unit</a>
type also consist of the following <em>deprecated</em> symbolic
time units:</p><dl><dt><strong>seconds</strong></dt><dd><p>Same as <a href="#type_time_unit">type_time_unit</a>.</p></dd><dt><strong>milli_seconds</strong></dt><dd><p>Same as <a href="#type_time_unit">type_time_unit</a>.</p></dd><dt><strong>micro_seconds</strong></dt><dd><p>Same as <a href="#type_time_unit">type_time_unit</a>.</p></dd><dt><strong>nano_seconds</strong></dt><dd><p>Same as <a href="#type_time_unit">type_time_unit</a>.</p></dd></dl><span class="name">dist_handle</span><p>An opaque handle identifing a distribution channel.</p><span class="name">nif_resource</span><p>An opaque handle identifing a
<a href="./erl_nif#resource_objects">NIF resource object </a>.</p><h1>Functions</h1><h2>abs/1</h2><h2>abs/1</h2><p>Arithmetical absolute value.</p><p>Returns an integer or float that is the arithmetical
absolute value of <strong><span class="anno">Float</span></strong> or
<strong><span class="anno">Int</span></strong>, for example:</p><pre>
&gt; <span class="input">abs(-3.33).</span>
3.33
&gt; <span class="input">abs(-3).</span>
3</pre><p>Allowed in guard tests.</p><h2>adler32/1</h2><p>Compute adler32 checksum.</p><p>Computes and returns the adler32 checksum for
<strong><span class="anno">Data</span></strong>.</p><h2>adler32/2</h2><p>Compute adler32 checksum.</p><p>Continues computing the adler32 checksum by combining 
the previous checksum, <strong><span class="anno">OldAdler</span></strong>, with
the checksum of <strong><span class="anno">Data</span></strong>.</p><p>The following code:</p><pre><code class="">
X = erlang:adler32(Data1),
Y = erlang:adler32(X,Data2).</code></pre><p>assigns the same value to <strong>Y</strong> as this:</p><pre><code class="">
Y = erlang:adler32([Data1,Data2]).</code></pre><h2>adler32_combine/3</h2><p>Combine two adler32 checksums.</p><p>Combines two previously computed adler32 checksums.
This computation requires the size of the data object for
the second checksum to be known.</p><p>The following code:</p><pre><code class="">
Y = erlang:adler32(Data1),
Z = erlang:adler32(Y,Data2).</code></pre><p>assigns the same value to <strong>Z</strong> as this:</p><pre><code class="">
X = erlang:adler32(Data1),
Y = erlang:adler32(Data2),
Z = erlang:adler32_combine(X,Y,iolist_size(Data2)).</code></pre><h2>append_element/2</h2><p>Append an extra element to a tuple.</p><p>Returns a new tuple that has one element more than
<strong><span class="anno">Tuple1</span></strong>, and contains the elements in
<strong><span class="anno">Tuple1</span></strong>
followed by <strong><span class="anno">Term</span></strong> as the last element.
Semantically equivalent to
<strong>list_to_tuple(tuple_to_list(<span class="anno">Tuple1</span>) ++ [<span class="anno">Term</span>])</strong>, but much faster. Example:</p><pre>
&gt; <span class="input">erlang:append_element({one, two}, three).</span>
{one,two,three}</pre><h2>apply/2</h2><p>Apply a function to an argument list.</p><p>Calls a fun, passing the elements in <strong><span class="anno">Args</span></strong>
as arguments.</p><p>If the number of elements in the arguments are known at
compile time, the call is better written as
<strong><span class="anno">Fun</span>(Arg1, Arg2, ... ArgN)</strong>.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>Earlier, <strong><span class="anno">Fun</span></strong> could also be specified as
<strong>{Module, Function}</strong>, equivalent to
<strong>apply(Module, Function, Args)</strong>. <em>This use is deprecated and will stop working in a future release.</em></p></div><h2>apply/3</h2><p>Apply a function to an argument list.</p><p>Returns the result of applying <strong>Function</strong> in
<strong><span class="anno">Module</span></strong> to <strong><span class="anno">Args</span></strong>.
The applied function must
be exported from <strong>Module</strong>. The arity of the function is
the length of <strong>Args</strong>. Example:</p><pre>
&gt; <span class="input">apply(lists, reverse, [[a, b, c]]).</span>
[c,b,a]
&gt; <span class="input">apply(erlang, atom_to_list, ['Erlang']).</span>
"Erlang"</pre><p>If the number of arguments are known at compile time,
the call is better written as
<strong><span class="anno">Module</span>:<span class="anno">Function</span>(Arg1, Arg2, ..., ArgN)</strong>.</p><p>Failure: <a href="../kernel/error_handler#undefined_function/3">kernel/error_handler#undefined_function/3</a> is called
if the applied function is not exported. The error handler
can be redefined (see
<a href="#process_flag/2">process_flag/2</a>).
If <strong>error_handler</strong> is undefined, or if the user has
redefined the default <strong>error_handler</strong> so the replacement
module is undefined, an error with reason <strong>undef</strong>
is generated.</p><h2>atom_to_binary/2</h2><p>Return the binary representation of an atom.</p><p>Returns a binary corresponding to the text
representation of <strong><span class="anno">Atom</span></strong>.
If <strong><span class="anno">Encoding</span></strong>
is <strong>latin1</strong>, one byte exists for each character
in the text representation. If <strong><span class="anno">Encoding</span></strong> is
<strong>utf8</strong> or
<strong>unicode</strong>, the characters are encoded using UTF-8 where
characters may require multiple bytes.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>As from Erlang/OTP 20, atoms can contain any Unicode character
and <strong>atom_to_binary(<span class="anno">Atom</span>, latin1)</strong> may fail if the
text representation for <strong><span class="anno">Atom</span></strong> contains a Unicode
character &gt; 255.</p></div><p>Example:</p><pre>
&gt; <span class="input">atom_to_binary('Erlang', latin1).</span>
&lt;&lt;"Erlang"&gt;&gt;</pre><h2>atom_to_list/1</h2><p>Text representation of an atom.</p><p>Returns a string corresponding to the text
representation of <strong><span class="anno">Atom</span></strong>, for example:</p><pre>
&gt; <span class="input">atom_to_list('Erlang').</span>
"Erlang"</pre><h2>binary_part/2</h2><p>Extract a part of a binary.</p><p>Extracts the part of the binary described by
<strong><span class="anno">PosLen</span></strong>.</p><p>Negative length can be used to extract bytes at the end
of a binary, for example:</p><pre><code class="">
1&gt; Bin = &lt;&lt;1,2,3,4,5,6,7,8,9,10&gt;&gt;.
2&gt; binary_part(Bin,{byte_size(Bin), -5}).
&lt;&lt;6,7,8,9,10&gt;&gt;</code></pre><p>Failure: <strong>badarg</strong> if <strong><span class="anno">PosLen</span></strong> in any way
references outside the binary.</p><p><strong><span class="anno">Start</span></strong> is zero-based, that is:</p><pre><code class="">
1&gt; Bin = &lt;&lt;1,2,3&gt;&gt;
2&gt; binary_part(Bin,{0,2}).
&lt;&lt;1,2&gt;&gt;</code></pre><p>For details about the <strong><span class="anno">PosLen</span></strong> semantics, see
<a href="./binary">stdlib/binary</a>.</p><p>Allowed in guard tests.</p><h2>binary_part/3</h2><p>Extract a part of a binary.</p><p>The same as <strong>binary_part(<span class="anno">Subject</span>, {<span class="anno">Start</span>, <span class="anno">Length</span>})</strong>.</p><p>Allowed in guard tests.</p><h2>binary_to_atom/2</h2><p>Convert from text representation to an atom.</p><p>Returns the atom whose text representation is
<strong><span class="anno">Binary</span></strong>.
If <strong><span class="anno">Encoding</span></strong> is <strong>latin1</strong>, no
translation of bytes in the binary is done.
If <strong><span class="anno">Encoding</span></strong>
is <strong>utf8</strong> or <strong>unicode</strong>, the binary must contain
valid UTF-8 sequences.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>As from Erlang/OTP 20, <strong>binary_to_atom(<span class="anno">Binary</span>, utf8)</strong>
is capable of encoding any Unicode character. Earlier versions would
fail if the binary contained Unicode characters &gt; 255.
For more information about Unicode support in atoms, see the
<a href="./erl_ext_dist#utf8_atoms">note on UTF-8 encoded atoms</a>
in section "External Term Format" in the User's Guide.</p></div><p>Examples:</p><pre>
&gt; <span class="input">binary_to_atom(&lt;&lt;"Erlang"&gt;&gt;, latin1).</span>
'Erlang'
&gt; <span class="input">binary_to_atom(&lt;&lt;1024/utf8&gt;&gt;, utf8).</span>
'Ð'</pre><h2>binary_to_existing_atom/2</h2><p>Convert from text representation to an atom.</p><p>As
<a href="#binary_to_atom/2">binary_to_atom/2</a>,
but the atom must exist.</p><p>Failure: <strong>badarg</strong> if the atom does not exist.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Note that the compiler may optimize away atoms. For
example, the compiler will rewrite
<strong>atom_to_list(some_atom)</strong> to <strong>"some_atom"</strong>. If
that expression is the only mention of the atom
<strong>some_atom</strong> in the containing module, the atom will not
be created when the module is loaded, and a subsequent call
to <strong>binary_to_existing_atom(&lt;&lt;"some_atom"&gt;&gt;, utf8)</strong>
will fail.</p></div><h2>binary_to_float/1</h2><p>Convert from text representation to a float.</p><p>Returns the float whose text representation is
<strong><span class="anno">Binary</span></strong>, for example:</p><pre>
&gt; <span class="input">binary_to_float(&lt;&lt;"2.2017764e+0"&gt;&gt;).</span>
2.2017764</pre><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Binary</span></strong> contains a bad
representation of a float.</p><h2>binary_to_integer/1</h2><p>Convert from text representation to an integer.</p><p>Returns an integer whose text representation is
<strong><span class="anno">Binary</span></strong>, for example:</p><pre>
&gt; <span class="input">binary_to_integer(&lt;&lt;"123"&gt;&gt;).</span>
123</pre><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Binary</span></strong> contains a bad
representation of an integer.</p><h2>binary_to_integer/2</h2><p>Convert from text representation to an integer.</p><p>Returns an integer whose text representation in base
<strong><span class="anno">Base</span></strong> is <strong><span class="anno">Binary</span></strong>, for
example:</p><pre>
&gt; <span class="input">binary_to_integer(&lt;&lt;"3FF"&gt;&gt;, 16).</span>
1023</pre><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Binary</span></strong> contains a bad
representation of an integer.</p><h2>binary_to_list/1</h2><p>Convert a binary to a list.</p><p>Returns a list of integers corresponding to the bytes of
<strong><span class="anno">Binary</span></strong>.</p><h2>binary_to_list/3</h2><p>Convert part of a binary to a list.</p><dl><dt>Start</dt><dd>1..byte_size(<strong><span class="anno">Binary</span></strong>) </dd></dl><p>As <strong>binary_to_list/1</strong>, but returns a list of integers
corresponding to the bytes from position <strong><span class="anno">Start</span></strong> to
position <strong><span class="anno">Stop</span></strong> in <strong><span class="anno">Binary</span></strong>.
The positions in the
binary are numbered starting from 1.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p><em>The one-based indexing for binaries used by this function is deprecated.</em> New code is to use
<a href="../stdlib/binary#bin_to_list/3">stdlib/binary#bin_to_list/3</a>
in STDLIB instead. All functions in module
<strong>binary</strong> consistently use zero-based indexing.</p></div><h2>binary_to_term/1</h2><p>Decode an Erlang external term format binary.</p><p>Returns an Erlang term that is the result of decoding
binary object <strong><span class="anno">Binary</span></strong>, which must be encoded
according to the <a href="./erl_ext_dist"> Erlang external term format</a>.</p><pre>
&gt; <span class="input">Bin = term_to_binary(hello).</span>
&lt;&lt;131,100,0,5,104,101,108,108,111&gt;&gt;
&gt; <span class="input">hello = binary_to_term(Bin).</span>
hello
</pre><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>When decoding binaries from untrusted sources,
consider using <strong>binary_to_term/2</strong> to prevent Denial
of Service attacks.</p></div><p>See also
<a href="#term_to_binary/1">term_to_binary/1</a>
and <a href="#binary_to_term/2">binary_to_term/2</a>.</p><h2>binary_to_term/2</h2><p>Decode an Erlang external term format binary.</p><p>As <strong>binary_to_term/1</strong>, but takes these options:</p><dl><dt><strong>safe</strong></dt><dd> <p>Use this option when receiving binaries from an untrusted
source.</p> <p>When enabled, it prevents decoding data that can be used to
attack the Erlang system. In the event of receiving unsafe
data, decoding fails with a <strong>badarg</strong> error.</p> <p>This prevents creation of new atoms directly,
creation of new atoms indirectly (as they are embedded in
certain structures, such as process identifiers,
refs, and funs), and
creation of new external function references.
None of those resources are garbage collected, so unchecked
creation of them can exhaust available memory.</p> <pre>
&gt; <span class="input">binary_to_term(&lt;&lt;131,100,0,5,"hello"&gt;&gt;, [safe]).</span>
** exception error: bad argument
&gt; <span class="input">hello.</span>
hello
&gt; <span class="input">binary_to_term(&lt;&lt;131,100,0,5,"hello"&gt;&gt;, [safe]).</span>
hello
</pre> </dd><dt><strong>used</strong></dt><dd> <p>Changes the return value to <strong>{Term, Used}</strong> where <strong>Used</strong>
is the number of bytes actually read from <strong>Binary</strong>.</p> <pre>
&gt; <span class="input">Input = &lt;&lt;131,100,0,5,"hello","world"&gt;&gt;.</span>
&lt;&lt;131,100,0,5,104,101,108,108,111,119,111,114,108,100&gt;&gt;
&gt; <span class="input">{Term, Used} = binary_to_term(Input, [used]).</span>
{hello, 9}
&gt; <span class="input">split_binary(Input, Used).</span>
{&lt;&lt;131,100,0,5,104,101,108,108,111&gt;&gt;, &lt;&lt;"world"&gt;&gt;}
</pre> </dd></dl><p>Failure: <strong>badarg</strong> if <strong>safe</strong> is specified and unsafe
data is decoded.</p><p>See also
<a href="#term_to_binary/1">term_to_binary/1</a>,
<a href="#binary_to_term/1">binary_to_term/1</a>, and
<a href="#list_to_existing_atom/1">list_to_existing_atom/1</a>.</p><h2>bit_size/1</h2><p>Return the size of a bitstring.</p><p>Returns an integer that is the size in bits of
<strong><span class="anno">Bitstring</span></strong>, for example:</p><pre>
&gt; <span class="input">bit_size(&lt;&lt;433:16,3:3&gt;&gt;).</span>
19
&gt; <span class="input">bit_size(&lt;&lt;1,2,3&gt;&gt;).</span>
24</pre><p>Allowed in guard tests.</p><h2>bitstring_to_list/1</h2><p>Convert a bitstring to a list.</p><p>Returns a list of integers corresponding to the bytes of
<strong><span class="anno">Bitstring</span></strong>. If the number of bits in the binary
is not divisible by 8, the last element of the list is a bitstring
containing the remaining 1-7 bits.</p><h2>bump_reductions/1</h2><p>Increment the reduction counter.</p><p>This implementation-dependent function increments
the reduction counter for the calling process. In the Beam
emulator, the reduction counter is normally incremented by
one for each function and BIF call. A context switch is
forced when the counter reaches the maximum number of
reductions for a process (2000 reductions in Erlang/OTP R12B).</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF can be removed in a future version of the Beam
machine without prior warning. It is unlikely to be
implemented in other Erlang implementations.</p></div><h2>byte_size/1</h2><p>Return the size of a bitstring (or binary).</p><p>Returns an integer that is the number of bytes needed to
contain <strong><span class="anno">Bitstring</span></strong>. That is, if the number of bits
in <strong><span class="anno">Bitstring</span></strong> is not divisible by 8, the resulting
number of bytes is rounded <em>up</em>. Examples:</p><pre>
&gt; <span class="input">byte_size(&lt;&lt;433:16,3:3&gt;&gt;).</span>
3
&gt; <span class="input">byte_size(&lt;&lt;1,2,3&gt;&gt;).</span>
3</pre><p>Allowed in guard tests.</p><h2>cancel_timer/1</h2><p>Cancel a timer.</p><p>Cancels a timer. The same as calling
<a href="#cancel_timer/2">cancel_timer/2</a>.</p><h2>cancel_timer/2</h2><p>Cancel a timer.</p><p>Cancels a timer that has been created by
<a href="#start_timer/4">start_timer/4</a> or
<a href="#send_after/4">send_after/4</a>.
<strong><span class="anno">TimerRef</span></strong> identifies the timer, and
was returned by the BIF that created the timer.</p><p><strong><span class="anno">Option</span></strong>s:</p><dl><dt><strong>{async, Async}</strong></dt><dd> <p>Asynchronous request for cancellation. <strong>Async</strong>
defaults to <strong>false</strong>, which causes the
cancellation to be performed synchronously. When
<strong>Async</strong> is set to <strong>true</strong>, the cancel
operation is performed asynchronously. That is,
<strong>cancel_timer()</strong> sends an asynchronous
request for cancellation to the timer service that
manages the timer, and then returns <strong>ok</strong>.</p> </dd><dt><strong>{info, Info}</strong></dt><dd> <p>Requests information about the <strong><span class="anno">Result</span></strong>
of the cancellation. <strong>Info</strong> defaults to <strong>true</strong>,
which means the <strong><span class="anno">Result</span></strong> is
given. When <strong>Info</strong> is set to <strong>false</strong>, no
information about the result of the cancellation
is given.</p> <ul><li> <p>When <strong>Async</strong> is <strong>false</strong>:
if <strong>Info</strong> is <strong>true</strong>, the <strong>Result</strong> is
returned by <strong>erlang:cancel_timer()</strong>. otherwise
<strong>ok</strong> is returned.</p> </li><li> <p>When <strong>Async</strong> is <strong>true</strong>:
if <strong>Info</strong> is <strong>true</strong>, a message on the form
<strong>{cancel_timer, <span class="anno">TimerRef</span>, <span class="anno">Result</span>}</strong> is sent to the
caller of <strong>erlang:cancel_timer()</strong> when the
cancellation operation has been performed, otherwise
no message is sent.</p> </li></ul> </dd></dl><p>More <strong><span class="anno">Option</span></strong>s may be added in the future.</p><p>If <strong><span class="anno">Result</span></strong> is an integer, it represents
the time in milliseconds left until the canceled timer would
have expired.</p><p>If <strong><span class="anno">Result</span></strong> is <strong>false</strong>, a
timer corresponding to <strong><span class="anno">TimerRef</span></strong> could not
be found. This can be either because the timer had expired,
already had been canceled, or because <strong><span class="anno">TimerRef</span></strong>
never corresponded to a timer. Even if the timer had expired,
it does not tell you if the time-out message has
arrived at its destination yet.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>The timer service that manages the timer can be co-located
with another scheduler than the scheduler that the calling
process is executing on. If so, communication
with the timer service takes much longer time than if it
is located locally. If the calling process is in critical
path, and can do other things while waiting for the result
of this operation, or is not interested in the result of
the operation, you want to use option <strong>{async, true}</strong>.
If using option <strong>{async, false}</strong>, the calling
process blocks until the operation has been performed.</p></div><p>See also
<a href="#send_after/4">send_after/4</a>,
<a href="#start_timer/4">start_timer/4</a>, and
<a href="#read_timer/2">read_timer/2</a>.</p><h2>ceil/1</h2><p>Returns the smallest integer not less than the argument</p><p>Returns the smallest integer not less than
<strong><span class="anno">Number</span></strong>.
For example:</p><pre>
&gt; <span class="input">ceil(5.5).</span>
6</pre><p>Allowed in guard tests.</p><h2>check_old_code/1</h2><p>Check if a module has old code.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Module</span></strong> has old code,
otherwise <strong>false</strong>.</p><p>See also <a href="./code">kernel/code</a>.</p><h2>check_process_code/2</h2><p>Check if a process executes old code for a module.</p><p>The same as
<a href="#check_process_code/3">check_process_code/3</a>.</p><h2>check_process_code/3</h2><p>Check if a process executes old code for a module.</p><p>Checks if the node local process identified by
<strong><span class="anno">Pid</span></strong>
executes old code for <strong><span class="anno">Module</span></strong>.</p><p><strong><span class="anno">Option</span></strong>s:</p><dl><dt><strong>{allow_gc, boolean()}</strong></dt><dd> <p>Determines if garbage collection is allowed when performing
the operation. If <strong>{allow_gc, false}</strong> is passed, and
a garbage collection is needed to determine the
result of the operation, the operation is aborted (see
information on <strong><span class="anno">CheckResult</span></strong> below).
The default is to allow garbage collection, that is,
<strong>{allow_gc, true}</strong>.</p> </dd><dt><strong>{async, RequestId}</strong></dt><dd> <p>The function <strong>check_process_code/3</strong> returns
the value <strong>async</strong> immediately after the request
has been sent. When the request has been processed, the
process that called this function is passed a
message on the form <strong>{check_process_code, <span class="anno">RequestId</span>, <span class="anno">CheckResult</span>}</strong>.</p> </dd></dl><p>If <strong><span class="anno">Pid</span></strong> equals <strong>self()</strong>, and
no <strong>async</strong> option has been passed, the operation
is performed at once. Otherwise a request for
the operation is sent to the process identified by
<strong><span class="anno">Pid</span></strong>, and is handled when
appropriate. If no <strong>async</strong> option has been passed,
the caller blocks until <strong><span class="anno">CheckResult</span></strong>
is available and can be returned.</p><p><strong><span class="anno">CheckResult</span></strong> informs about the result of
the request as follows:</p><dl><dt><strong>true</strong></dt><dd> <p>The process identified by <strong><span class="anno">Pid</span></strong>
executes old code for <strong><span class="anno">Module</span></strong>.
That is, the current call of the process executes old
code for this module, or the process has references
to old code for this module, or the process contains
funs that references old code for this module.</p> </dd><dt><strong>false</strong></dt><dd> <p>The process identified by <strong><span class="anno">Pid</span></strong> does
not execute old code for <strong><span class="anno">Module</span></strong>.</p> </dd><dt><strong>aborted</strong></dt><dd> <p>The operation was aborted, as the process needed to
be garbage collected to determine the operation result,
and the operation was requested
by passing option <strong>{allow_gc, false}</strong>.</p> </dd></dl><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>
Up until ERTS version 8.*, the check process code operation
checks for all types of references to the old code. That is,
direct references (e.g. return addresses on the process
stack), indirect references (<strong>fun</strong>s in process
context), and references to literals in the code.
</p><p>
As of ERTS version 9.0, the check process code operation
only checks for direct references to the code. Indirect
references via <strong>fun</strong>s will be ignored. If such
<strong>fun</strong>s exist and are used after a purge of the old
code, an exception will be raised upon usage (same as
the case when the <strong>fun</strong> is received by the process
after the purge). Literals will be taken care of (copied)
at a  later stage. This behavior can as of ERTS version
8.1 be enabled when
<a href="../doc/installation_guide/INSTALL#Advanced-configuration-and-build-of-ErlangOTP_Configuring">building OTP</a>,
and will automatically be enabled if dirty scheduler
support is enabled.
</p></div><p>See also <a href="./code">kernel/code</a>.</p><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">Pid</span></strong> is not a node local process identifier. </dd><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">Module</span></strong> is not an atom. </dd><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">OptionList</span></strong> is an invalid list of options. </dd></dl><h2>convert_time_unit/3</h2><p>Convert time unit of a time value.</p><p>Converts the <strong><span class="anno">Time</span></strong> value of time unit
<strong><span class="anno">FromUnit</span></strong> to the corresponding
<strong><span class="anno">ConvertedTime</span></strong> value of time unit
<strong><span class="anno">ToUnit</span></strong>. The result is rounded
using the floor function.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>You can lose accuracy and precision when converting
between time units. To minimize such loss, collect all
data at <strong>native</strong> time unit and do the conversion on the end
result.</p></div><h2>crc32/1</h2><p>Compute crc32 (IEEE 802.3) checksum.</p><p>Computes and returns the crc32 (IEEE 802.3 style) checksum
for <strong><span class="anno">Data</span></strong>.</p><h2>crc32/2</h2><p>Compute crc32 (IEEE 802.3) checksum.</p><p>Continues computing the crc32 checksum by combining
the previous checksum, <strong><span class="anno">OldCrc</span></strong>, with the checksum
of <strong><span class="anno">Data</span></strong>.</p><p>The following code:</p><pre><code class="">
X = erlang:crc32(Data1),
Y = erlang:crc32(X,Data2).</code></pre><p>assigns the same value to <strong>Y</strong> as this:</p><pre><code class="">
Y = erlang:crc32([Data1,Data2]).</code></pre><h2>crc32_combine/3</h2><p>Combine two crc32 (IEEE 802.3) checksums.</p><p>Combines two previously computed crc32 checksums.
This computation requires the size of the data object for
the second checksum to be known.</p><p>The following code:</p><pre><code class="">
Y = erlang:crc32(Data1),
Z = erlang:crc32(Y,Data2).</code></pre><p>assigns the same value to <strong>Z</strong> as this:</p><pre><code class="">
X = erlang:crc32(Data1),
Y = erlang:crc32(Data2),
Z = erlang:crc32_combine(X,Y,iolist_size(Data2)).</code></pre><h2>date/0</h2><p>Current date.</p><p>Returns the current date as <strong>{Year, Month, Day}</strong>.</p><p>The time zone and Daylight Saving Time correction depend on
the underlying OS. Example:</p><pre>
&gt; <span class="input">date().</span>
{1995,2,19}</pre><h2>decode_packet/3</h2><p>Extract a protocol packet from a binary.</p><p>Decodes the binary <strong><span class="anno">Bin</span></strong> according to the packet
protocol specified by <strong><span class="anno">Type</span></strong>. Similar to the packet
handling done by sockets with option
<strong>{packet,<span class="anno">Type</span>}.</strong></p><p>If an entire packet is contained in <strong><span class="anno">Bin</span></strong>, it is
returned together with the remainder of the binary as
<strong>{ok,<span class="anno">Packet</span>,<span class="anno">Rest</span>}</strong>.</p><p>If <strong><span class="anno">Bin</span></strong> does not contain the entire packet,
<strong>{more,<span class="anno">Length</span>}</strong> is returned.
<strong><span class="anno">Length</span></strong> is either the
expected <em>total size</em> of the packet, or <strong>undefined</strong>
if the expected packet size is unknown. <strong>decode_packet</strong>
can then be called again with more data added.</p><p>If the packet does not conform to the protocol format,
<strong>{error,<span class="anno">Reason</span>}</strong> is returned.</p><p><strong>Type</strong>s:</p><dl><dt><strong>raw | 0</strong></dt><dd> <p>No packet handling is done. The entire binary is
returned unless it is empty.</p> </dd><dt><strong>1 | 2 | 4</strong></dt><dd> <p>Packets consist of a header specifying the number of
bytes in the packet, followed by that number of bytes.
The length of the header can be one, two, or four bytes;
the order of the bytes is big-endian. The header
is stripped off when the packet is returned.</p> </dd><dt><strong>line</strong></dt><dd> <p>A packet is a line-terminated by a delimiter byte,
default is the latin-1 newline character. The delimiter
byte is included in the returned packet unless the line
was truncated according to option <strong>line_length</strong>.</p> </dd><dt><strong>asn1 | cdr | sunrm | fcgi | tpkt</strong></dt><dd> <p>The header is <em>not</em> stripped off.</p> <p>The meanings of the packet types are as follows:</p> <dl><dt><strong>asn1</strong> - ASN.1 BER</dt><dd></dd><dt><strong>sunrm</strong> - Sun's RPC encoding</dt><dd></dd><dt><strong>cdr</strong> - CORBA (GIOP 1.1)</dt><dd></dd><dt><strong>fcgi</strong> - Fast CGI</dt><dd></dd><dt><strong>tpkt</strong> - TPKT format [RFC1006]</dt><dd></dd></dl> </dd><dt><strong>http | httph | http_bin | httph_bin</strong></dt><dd> <p>The Hypertext Transfer Protocol. The packets
are returned with the format according to
<strong><span class="anno">HttpPacket</span></strong> described earlier.
A packet is either a
request, a response, a header, or an end of header
mark. Invalid lines are returned as
<strong><span class="anno">HttpError</span></strong>.</p> <p>Recognized request methods and header fields are returned
as atoms. Others are returned as strings. Strings of
unrecognized header fields are formatted with only
capital letters first and after hyphen characters, for
example, <strong>"Sec-Websocket-Key"</strong>.</p> <p>The protocol type <strong>http</strong> is only to be used for
the first line when an <strong><span class="anno">HttpRequest</span></strong> or an
<strong><span class="anno">HttpResponse</span></strong> is expected.
The following calls are to use <strong>httph</strong> to get
<strong><span class="anno">HttpHeader</span></strong>s until
<strong>http_eoh</strong> is returned, which marks the end of the
headers and the beginning of any following message body.</p>  <p>The variants <strong>http_bin</strong> and <strong>httph_bin</strong> return
strings (<strong>HttpString</strong>) as binaries instead of lists.</p> </dd></dl><p>Options:</p><dl><dt><strong>{packet_size, integer() &gt;= 0}</strong></dt><dd><p>Sets the maximum allowed size of the packet body.
If the packet header indicates that the length of the
packet is longer than the maximum allowed length, the
packet is considered invalid. Defaults to 0, which means
no size limit.</p> </dd><dt><strong>{line_length, integer() &gt;= 0}</strong></dt><dd> <p>For packet type <strong>line</strong>, lines longer than
the indicated length are truncated.</p> <p>Option <strong>line_length</strong> also applies to <strong>http*</strong>
packet types as an alias for option <strong>packet_size</strong>
if <strong>packet_size</strong> itself is not set. This use is
only intended for backward compatibility.</p> </dd><dt><strong>{line_delimiter, 0 =&lt; byte() =&lt; 255}</strong></dt><dd><p>For packet type <strong>line</strong>, sets the delimiting byte.
Default is the latin-1 character <strong>$\n</strong>.</p> </dd></dl><p>Examples:</p><pre>
&gt; <span class="input">erlang:decode_packet(1,&lt;&lt;3,"abcd"&gt;&gt;,[]).</span>
{ok,&lt;&lt;"abc"&gt;&gt;,&lt;&lt;"d"&gt;&gt;}
&gt; <span class="input">erlang:decode_packet(1,&lt;&lt;5,"abcd"&gt;&gt;,[]).</span>
{more,6}</pre><h2>delete_element/2</h2><p>Delete element at index in a tuple.</p><dl><dt>Index</dt><dd>1..tuple_size(<span class="anno">Tuple1</span>)</dd></dl><p>Returns a new tuple with element at <strong><span class="anno">Index</span></strong>
removed from tuple <strong><span class="anno">Tuple1</span></strong>, for example:</p><pre>
&gt; <span class="input">erlang:delete_element(2, {one, two, three}).</span>
{one,three}</pre><h2>delete_module/1</h2><p>Make the current code for a module old.</p><p>Makes the current code for <strong><span class="anno">Module</span></strong> become old
code and deletes all references for this module from the export table.
Returns <strong>undefined</strong> if the module does not exist,
otherwise <strong>true</strong>.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for the code server (see
<a href="./code">kernel/code</a>)
and is not to be used elsewhere.</p></div><p>Failure: <strong>badarg</strong> if there already is an old version of
<strong>Module</strong>.</p><h2>demonitor/1</h2><p>Stop monitoring.</p><p>If <strong><span class="anno">MonitorRef</span></strong> is a reference that the
calling process obtained by calling
<a href="#monitor/2">monitor/2</a>,
this monitoring is turned off. If the monitoring is already
turned off, nothing happens.</p><p>Once <strong>demonitor(<span class="anno">MonitorRef</span>)</strong> has returned, it is
guaranteed that no <strong>{'DOWN', <span class="anno">MonitorRef</span>, _, _, _}</strong> message,
because of the monitor, will be placed in the caller message queue
in the future. However, a <strong>{'DOWN', <span class="anno">MonitorRef</span>, _, _, _}</strong> message
can have been placed in the caller message queue before
the call. It is therefore usually advisable
to remove such a <strong>'DOWN'</strong> message from the message queue
after monitoring has been stopped.
<a href="#demonitor/2">demonitor/2</a>
can be used instead of <strong>demonitor(<span class="anno">MonitorRef</span>)</strong>
if this cleanup is wanted.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Before Erlang/OTP R11B (ERTS 5.5) <strong>demonitor/1</strong>
behaved completely asynchronously, that is, the monitor was active
until the "demonitor signal" reached the monitored entity. This
had one undesirable effect. You could never know when
you were guaranteed <em>not</em> to receive a <strong>DOWN</strong> message
because of the monitor.</p><p>The current behavior can be viewed as two combined operations:
asynchronously send a "demonitor signal" to the monitored entity
and ignore any future results of the monitor.</p></div><p>Failure: It is an error if <strong><span class="anno">MonitorRef</span></strong> refers to a
monitoring started by another process. Not all such cases are
cheap to check. If checking is cheap, the call fails with
<strong>badarg</strong>, for example if <strong><span class="anno">MonitorRef</span></strong> is a
remote reference.</p><h2>demonitor/2</h2><p>Stop monitoring.</p><p>The returned value is <strong>true</strong> unless <strong>info</strong> is part
of <strong><span class="anno">OptionList</span></strong>.</p><p><strong>demonitor(<span class="anno">MonitorRef</span>, [])</strong> is equivalent to
<a href="#demonitor/1">demonitor/1</a>.</p><p><strong><span class="anno">Option</span></strong>s:</p><dl><dt><strong>flush</strong></dt><dd> <p>Removes (one) <strong>{_, <span class="anno">MonitorRef</span>, _, _, _}</strong> message,
if there is one, from the caller message queue after
monitoring has been stopped.</p> <p>Calling <strong>demonitor(<span class="anno">MonitorRef</span>, [flush])</strong>
is equivalent to the following, but more efficient:</p> <pre><code class="">
demonitor(MonitorRef),
receive
    {_, MonitorRef, _, _, _} -&gt;
        true
after 0 -&gt;
        true
end</code></pre> </dd><dt><strong>info</strong></dt><dd> <p>The returned value is one of the following:</p> <dl><dt><strong>true</strong></dt><dd><p>The monitor was found and removed. In this case,
no <strong>'DOWN'</strong> message corresponding to this
monitor has been delivered and will not be delivered.</p> </dd><dt><strong>false</strong></dt><dd><p>The monitor was not found and could not be removed.
This probably because someone already has placed a
<strong>'DOWN'</strong> message corresponding to this monitor
in the caller message queue.</p> </dd></dl> <p>If option <strong>info</strong> is combined with option <strong>flush</strong>,
<strong>false</strong> is returned if a flush was needed,
otherwise <strong>true</strong>.</p> </dd></dl><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>More options can be added in a future release.</p></div><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">OptionList</span></strong> is not a list. </dd><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">Option</span></strong> is an invalid option. </dd><dt><strong>badarg</strong></dt><dd>The same failure as for <a href="#demonitor/1">demonitor/1</a>. </dd></dl><h2>disconnect_node/1</h2><p>Force the disconnection of a node.</p><p>Forces the disconnection of a node. This appears to
the node <strong><span class="anno">Node</span></strong> as if the local node has crashed.
This BIF is mainly used in the Erlang network authentication
protocols.</p><p>Returns <strong>true</strong> if disconnection succeeds,
otherwise <strong>false</strong>. If the local node is not alive,
<strong>ignored</strong> is returned.</p><h2>display/1</h2><p>Print a term on standard output.</p><p>Prints a text representation of <strong><span class="anno">Term</span></strong> on the
standard output.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for debugging only.</p></div><h2>dist_ctrl_get_data/1</h2><p>Get distribution channel data to pass to another node.</p><p>
Get distribution channel data from the local node that is
to be passed to the remote node. The distribution channel
is identified by <strong><span class="anno">DHandle</span></strong>. If no data
is available, the atom <strong>none</strong> is returned. One
can request to be informed by a message when more
data is available by calling
<a href="./erlang#dist_ctrl_get_data_notification/1">erlang#dist_ctrl_get_data_notification/1</a>.
</p><p>The returned value when there are data available depends
on the value of the <strong>get_size</strong> option configured on the
distribution channel identified by <strong><span class="anno">DHandle</span></strong>.
For more information see the documentation of the <strong>get_size</strong>
option for the
<a href="#dist_ctrl_set_opt/3">dist_ctrl_set_opt/3</a>
function.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>
Only the process registered as distribution
controller for the distribution channel identified by
<strong><span class="anno">DHandle</span></strong> is allowed to call this
function.
</p></div><p>
This function is used when implementing an alternative
distribution carrier using processes as distribution
controllers. <strong><span class="anno">DHandle</span></strong> is retrived
via the callback
<a href="../erts/alt_dist#hs_data_f_handshake_complete">erts/alt_dist#hs_data_f_handshake_complete</a>.
More information can be found in the documentation of
<a href="../erts/alt_dist#distribution_module">ERTS User's Guide â How to implement an Alternative Carrier for the Erlang Distribution â Distribution Module</a>.
</p><h2>dist_ctrl_get_opt/2</h2><p>Get value of the get_size option on a distribution channel</p><p>Returns the value of the <strong>get_size</strong> option on the distribution channel
identified by <strong><span class="anno">DHandle</span></strong>. For more information see the
documentation of the <strong>get_size</strong> option for the
<a href="#dist_ctrl_set_opt/3">dist_ctrl_set_opt/3</a>
function.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>
Only the process registered as distribution
controller for the distribution channel identified by
<strong><span class="anno">DHandle</span></strong> is allowed to call this
function.
</p></div><p>
This function is used when implementing an alternative
distribution carrier using processes as distribution
controllers. <strong><span class="anno">DHandle</span></strong> is retrived
via the callback
<a href="../erts/alt_dist#hs_data_f_handshake_complete">erts/alt_dist#hs_data_f_handshake_complete</a>.
More information can be found in the documentation of
<a href="../erts/alt_dist#distribution_module">ERTS User's Guide â How to implement an Alternative Carrier for the Erlang Distribution â Distribution Module</a>.
</p><h2>dist_ctrl_get_data_notification/1</h2><p>Request notification about available outgoing distribution channel data.</p><p>
Request notification when more data is available to
fetch using
<a href="./erlang#dist_ctrl_get_data/1">erlang#dist_ctrl_get_data/1</a>
for the distribution channel identified by
<strong><span class="anno">DHandle</span></strong>. When more data is present,
the caller will be sent the message <strong>dist_data</strong>.
Once a <strong>dist_data</strong> messages has been sent, no
more <strong>dist_data</strong> messages will be sent until
the <strong>dist_ctrl_get_data_notification/1</strong> function has been called
again.
</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>
Only the process registered as distribution
controller for the distribution channel identified by
<strong><span class="anno">DHandle</span></strong> is allowed to call this
function.
</p></div><p>
This function is used when implementing an alternative
distribution carrier using processes as distribution
controllers. <strong><span class="anno">DHandle</span></strong> is retrived
via the callback
<a href="../erts/alt_dist#hs_data_f_handshake_complete">erts/alt_dist#hs_data_f_handshake_complete</a>.
More information can be found in the documentation of
<a href="../erts/alt_dist#distribution_module">ERTS User's Guide â How to implement an Alternative Carrier for the Erlang Distribution â Distribution Module</a>.
</p><h2>dist_ctrl_input_handler/2</h2><p>Register distribution channel input handler process.</p><p>
Register an alternate input handler process for the
distribution channel identified by <strong><span class="anno">DHandle</span></strong>.
Once this function has been called, <strong><span class="anno">InputHandler</span></strong>
is the only process allowed to call
<a href="./erlang#dist_ctrl_put_data/2">erlang#dist_ctrl_put_data/2</a>
with the <strong><span class="anno">DHandle</span></strong> identifing this distribution
channel.
</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>
Only the process registered as distribution
controller for the distribution channel identified by
<strong><span class="anno">DHandle</span></strong> is allowed to call this
function.
</p></div><p>
This function is used when implementing an alternative
distribution carrier using processes as distribution
controllers. <strong><span class="anno">DHandle</span></strong> is retrived
via the callback
<a href="../erts/alt_dist#hs_data_f_handshake_complete">erts/alt_dist#hs_data_f_handshake_complete</a>.
More information can be found in the documentation of
<a href="../erts/alt_dist#distribution_module">ERTS User's Guide â How to implement an Alternative Carrier for the Erlang Distribution â Distribution Module</a>.
</p><h2>dist_ctrl_put_data/2</h2><p>Pass data into the VM from a distribution channel.</p><p>
Deliver distribution channel data from a remote node to the
local node.
</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>
Only the process registered as distribution
controller for the distribution channel identified by
<strong><span class="anno">DHandle</span></strong> is allowed to call this
function unless an alternate input handler process
has been registered using
<a href="./erlang#dist_ctrl_input_handler/2">erlang#dist_ctrl_input_handler/2</a>.
If an alternate input handler has been registered, only
the registered input handler process is allowed to call
this function.
</p></div><p>
This function is used when implementing an alternative
distribution carrier using processes as distribution
controllers. <strong><span class="anno">DHandle</span></strong> is retrived
via the callback
<a href="../erts/alt_dist#hs_data_f_handshake_complete">erts/alt_dist#hs_data_f_handshake_complete</a>.
More information can be found in the documentation of
<a href="../erts/alt_dist#distribution_module">ERTS User's Guide â How to implement an Alternative Carrier for the Erlang Distribution â Distribution Module</a>.
</p><h2>dist_ctrl_set_opt/3</h2><p>Set value of the get_size option on a distribution channel</p><p>Sets the value of the <strong>get_size</strong> option on the distribution channel
identified by <strong><span class="anno">DHandle</span></strong>. This option controls the return
value of calls to
<a href="#dist_ctrl_get_data/1">erlang:dist_ctrl_get_data()</a>
where <strong><span class="anno">DHandle</span></strong> equals <strong><span class="anno">DHandle</span></strong> used
when setting this option.
When the <strong>get_size</strong> option is:</p><dl><dt><strong>false</strong></dt><dd> and there are distribution data available, a call to <strong>erlang:dist_ctrl_get_data(<span class="anno">DHandle</span>)</strong> will just return <strong>Data</strong> to pass over the channel. This is the default value of the <strong>get_size</strong> option. </dd><dt><strong>true</strong></dt><dd> and there are distribution data available, a call to <strong>erlang:dist_ctrl_get_data(<span class="anno">DHandle</span>)</strong> will return <strong>Data</strong> to pass over the channel as well as the <strong>Size</strong> of <strong>Data</strong> in bytes. This is returned as a tuple on the form <strong>{Size, Data}</strong>. </dd></dl><p>All options are set to default when a channel is closed.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>
Only the process registered as distribution
controller for the distribution channel identified by
<strong><span class="anno">DHandle</span></strong> is allowed to call this
function.
</p></div><p>
This function is used when implementing an alternative
distribution carrier using processes as distribution
controllers. <strong><span class="anno">DHandle</span></strong> is retrived
via the callback
<a href="../erts/alt_dist#hs_data_f_handshake_complete">erts/alt_dist#hs_data_f_handshake_complete</a>.
More information can be found in the documentation of
<a href="../erts/alt_dist#distribution_module">ERTS User's Guide â How to implement an Alternative Carrier for the Erlang Distribution â Distribution Module</a>.
</p><h2>element/2</h2><p>Return the Nth element of a tuple.</p><dl><dt>N</dt><dd>1..tuple_size(<span class="anno">Tuple</span>)</dd></dl><p>Returns the <strong><span class="anno">N</span></strong>th element (numbering from 1) of
<strong><span class="anno">Tuple</span></strong>, for example:</p><pre>
&gt; <span class="input">element(2, {a, b, c}).</span>
b</pre><p>Allowed in guard tests.</p><h2>erase/0</h2><p>Return and delete the process dictionary.</p><p>Returns the process dictionary and deletes it, for
example:</p><pre>
&gt; <span class="input">put(key1, {1, 2, 3}),</span>
<span class="input">put(key2, [a, b, c]),</span>
<span class="input">erase().</span>
[{key1,{1,2,3}},{key2,[a,b,c]}]</pre><h2>erase/1</h2><p>Return and delete a value from the process dictionary. </p><p>Returns the value <strong><span class="anno">Val</span></strong> associated with
<strong><span class="anno">Key</span></strong> and deletes it from the process dictionary.
Returns <strong>undefined</strong> if no value is associated with
<strong><span class="anno">Key</span></strong>. Example:</p><pre>
&gt; <span class="input">put(key1, {merry, lambs, are, playing}),</span>
<span class="input">X = erase(key1),</span>
<span class="input">{X, erase(key1)}.</span>
{{merry,lambs,are,playing},undefined}</pre><h2>error/1</h2><p>Stop execution with a specified reason.</p><p>Stops the execution of the calling process with the reason
<strong><span class="anno">Reason</span></strong>, where <strong><span class="anno">Reason</span></strong>
is any term. The exit reason is
<strong>{<span class="anno">Reason</span>, Where}</strong>, where <strong>Where</strong>
is a list of the functions most recently called (the current
function first). As evaluating this function causes
the process to terminate, it has no return value. Example:</p><pre>
&gt; <span class="input">catch error(foobar).</span>
{'EXIT',{foobar,[{shell,apply_fun,3,
                        [{file,"shell.erl"},{line,906}]},
                 {erl_eval,do_apply,6,[{file,"erl_eval.erl"},{line,677}]},
                 {erl_eval,expr,5,[{file,"erl_eval.erl"},{line,430}]},
                 {shell,exprs,7,[{file,"shell.erl"},{line,687}]},
                 {shell,eval_exprs,7,[{file,"shell.erl"},{line,642}]},
                 {shell,eval_loop,3,[{file,"shell.erl"},{line,627}]}]}}
</pre><h2>error/2</h2><p>Stop execution with a specified reason.</p><p>Stops the execution of the calling process with the reason
<strong><span class="anno">Reason</span></strong>, where <strong><span class="anno">Reason</span></strong>
is any term. The exit reason is
<strong>{<span class="anno">Reason</span>, Where}</strong>, where <strong>Where</strong>
is a list of the functions most recently called (the current
function first). <strong><span class="anno">Args</span></strong> is expected to be the
list of arguments for the current function; in Beam it is used
to provide the arguments for the current function in
the term <strong>Where</strong>. As evaluating this function causes
the process to terminate, it has no return value.</p><h2>exit/1</h2><p>Stop execution with a specified reason.</p><p>Stops the execution of the calling process with exit reason
<strong><span class="anno">Reason</span></strong>, where <strong><span class="anno">Reason</span></strong>
is any term. As
evaluating this function causes the process to terminate, it
has no return value. Example:</p><pre>
&gt; <span class="input">exit(foobar).</span>
** exception exit: foobar
&gt; <span class="input">catch exit(foobar).</span>
{'EXIT',foobar}</pre><h2>exit/2</h2><p>Send an exit signal to a process or a port.</p><p>Sends an exit signal with exit reason <strong><span class="anno">Reason</span></strong> to
the process or port identified by <strong><span class="anno">Pid</span></strong>.</p><p>The following behavior applies if <strong><span class="anno">Reason</span></strong>
is any term, except <strong>normal</strong> or <strong>kill</strong>:</p><ul><li><p>If <strong><span class="anno">Pid</span></strong> is not trapping exits,
<strong><span class="anno">Pid</span></strong>
itself exits with exit reason <strong><span class="anno">Reason</span></strong>.</p> </li><li><p>If <strong><span class="anno">Pid</span></strong> is trapping exits, the exit
signal is transformed into a message
<strong>{'EXIT', From, <span class="anno">Reason</span>}</strong>
and delivered to the message queue of <strong><span class="anno">Pid</span></strong>.</p> </li><li><p><strong>From</strong> is the process identifier of the process
that sent the exit signal. See also
<a href="#process_flag/2">process_flag/2</a>.</p> </li></ul><p>If <strong><span class="anno">Reason</span></strong> is the atom <strong>normal</strong>,
<strong><span class="anno">Pid</span></strong>
does not exit. If it is trapping exits, the exit signal is
transformed into a message <strong>{'EXIT', From, normal}</strong>
and delivered to its message queue.</p><p>If <strong><span class="anno">Reason</span></strong> is the atom <strong>kill</strong>,
that is, if <strong>exit(<span class="anno">Pid</span>, kill)</strong> is called,
an untrappable exit signal is sent to <strong><span class="anno">Pid</span></strong>,
which unconditionally exits with exit reason <strong>killed</strong>.</p><h2>external_size/1</h2><p>Calculate the maximum size for a term encoded in the Erlang external term format.</p><p>Calculates, without doing the encoding, the maximum byte size for
a term encoded in the Erlang external term format. The following
condition applies always:</p><pre>
&gt; <span class="input">Size1 = byte_size(term_to_binary()),</span>
&gt; <span class="input">Size2 = erlang:external_size(),</span>
&gt; <span class="input">true = Size1 =&lt; Size2.</span>
true</pre><p>This is equivalent to a call to:</p><pre><code class="">
erlang:external_size(<span class="anno">Term</span>, [])</code></pre><h2>external_size/2</h2><p>Calculate the maximum size for a term encoded in the Erlang external term format.</p><p>Calculates, without doing the encoding, the maximum byte size for
a term encoded in the Erlang external term format. The following
condition applies always:</p><pre>
&gt; <span class="input">Size1 = byte_size(term_to_binary(, )),</span>
&gt; <span class="input">Size2 = erlang:external_size(, ),</span>
&gt; <span class="input">true = Size1 =&lt; Size2.</span>
true</pre><p>Option <strong>{minor_version, <span class="anno">Version</span>}</strong> specifies how
floats are encoded. For a detailed description, see
<a href="#term_to_binary/2">term_to_binary/2</a>.</p><h2>float/1</h2><p>Convert a number to a float.</p><p>Returns a float by converting <strong><span class="anno">Number</span></strong> to a float,
for example:</p><pre>
&gt; <span class="input">float(55).</span>
55.0</pre><p>Allowed in guard tests.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>If used on the top level in a guard, it tests whether the
argument is a floating point number; for clarity, use
<a href="#is_float/1">is_float/1</a>
instead.</p><p>When <strong>float/1</strong> is used in an expression in a guard,
such as '<strong>float(A) == 4.0</strong>', it converts a number as
described earlier.</p></div><h2>float_to_binary/1</h2><p>Text representation of a float.</p><p>The same as
<strong>float_to_binary(<span class="anno">Float</span>,[{scientific,20}])</strong>.</p><h2>float_to_binary/2</h2><p>Text representation of a float formatted using specified options.</p><p>Returns a binary corresponding to the text
representation of <strong><span class="anno">Float</span></strong> using fixed decimal 
point formatting. <strong><span class="anno">Options</span></strong> behaves in the same
way as <a href="#float_to_list/2">float_to_list/2</a>. Examples:</p><pre>
&gt; <span class="input">float_to_binary(7.12, [{decimals, 4}]).</span>
&lt;&lt;"7.1200"&gt;&gt;
&gt; <span class="input">float_to_binary(7.12, [{decimals, 4}, compact]).</span>
&lt;&lt;"7.12"&gt;&gt;</pre><h2>float_to_list/1</h2><p>Text representation of a float.</p><p>The same as
<strong>float_to_list(<span class="anno">Float</span>,[{scientific,20}])</strong>.</p><h2>float_to_list/2</h2><p>Text representation of a float formatted using specified options.</p><p>Returns a string corresponding to the text representation
of <strong>Float</strong> using fixed decimal point formatting.</p><p>Available options:</p><ul><li><p>If option <strong>decimals</strong> is specified, the returned value
contains at most <strong>Decimals</strong> number of digits past the
decimal point. If the number does not fit in the internal
static buffer of 256 bytes, the function throws <strong>badarg</strong>.</p> </li><li><p>If option <strong>compact</strong> is specified, the trailing zeros
at the end of the list are truncated. This option is only
meaningful together with option <strong>decimals</strong>.</p> </li><li><p>If option <strong>scientific</strong> is specified, the float is
formatted using scientific notation with <strong>Decimals</strong>
digits of precision.</p> </li><li><p>If <strong>Options</strong> is <strong>[]</strong>, the function behaves as
<a href="#float_to_list/1">float_to_list/1</a>.</p> </li></ul><p>Examples:</p><pre>
&gt; <span class="input">float_to_list(7.12, [{decimals, 4}]).</span>
"7.1200"
&gt; <span class="input">float_to_list(7.12, [{decimals, 4}, compact]).</span>
"7.12"</pre><h2>floor/1</h2><p>Returns the largest integer not greater than the argument</p><p>Returns the largest integer not greater than
<strong><span class="anno">Number</span></strong>.
For example:</p><pre>
&gt; <span class="input">floor(-10.5).</span>
-11</pre><p>Allowed in guard tests.</p><h2>fun_info/1</h2><p>Information about a fun.</p><p>Returns a list with information about the fun
<strong><span class="anno">Fun</span></strong>. Each list element is a tuple. The order
of the tuples is undefined, and more tuples can be added in a
future release.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is mainly intended for debugging, but it can
sometimes be useful in library functions that need
to verify, for example, the arity of a fun.</p></div><p>Two types of funs have slightly different semantics:</p><ul><li><p>A fun created by <strong>fun M:F/A</strong> is called an
<em>external</em> fun. Calling it will always call the
function <strong>F</strong> with arity <strong>A</strong> in the latest code for
module <strong>M</strong>. Notice that module <strong>M</strong> does not even
need to be loaded when the fun <strong>fun M:F/A</strong> is created.</p> </li><li><p>All other funs are called <em>local</em>. When a local fun
is called, the same version of the code that created the fun
is called (even if a newer version of the module has been
loaded).</p> </li></ul><p>The following elements are always present in the list
for both local and external funs:</p><dl><dt><strong>{type, Type}</strong></dt><dd> <p><strong>Type</strong> is <strong>local</strong> or <strong>external</strong>.</p> </dd><dt><strong>{module, Module}</strong></dt><dd> <p><strong>Module</strong> (an atom) is the module name.</p> <p>If <strong>Fun</strong> is a local fun, <strong>Module</strong> is the module
in which the fun is defined.</p> <p>If <strong>Fun</strong> is an external fun, <strong>Module</strong> is the
module that the fun refers to.</p> </dd><dt><strong>{name, Name}</strong></dt><dd> <p><strong>Name</strong> (an atom) is a function name.</p> <p>If <strong>Fun</strong> is a local fun, <strong>Name</strong> is the name
of the local function that implements the fun.
(This name was generated by the compiler, and is
only of informational use. As it is a local function, it
cannot be called directly.)
If no code is currently loaded for the fun, <strong>[]</strong>
is returned instead of an atom.</p> <p>If <strong>Fun</strong> is an external fun, <strong>Name</strong> is the name
of the exported function that the fun refers to.</p> </dd><dt><strong>{arity, Arity}</strong></dt><dd> <p><strong>Arity</strong> is the number of arguments that the fun
is to be called with.</p> </dd><dt><strong>{env, Env}</strong></dt><dd> <p><strong>Env</strong> (a list) is the environment or free variables
for the fun. For external funs, the returned list is
always empty.</p> </dd></dl><p>The following elements are only present in the list if
<strong>Fun</strong> is local:</p><dl><dt><strong>{pid, Pid}</strong></dt><dd> <p><strong>Pid</strong> is the process identifier of the process
that originally created the fun.</p> <p>It might point to the <strong>init</strong> process if the
<strong>Fun</strong> was statically allocated when module was
loaded (this optimisation is performed for local
functions that do not capture the enviornment).</p> </dd><dt><strong>{index, Index}</strong></dt><dd> <p><strong>Index</strong> (an integer) is an index into the module
fun table.</p> </dd><dt><strong>{new_index, Index}</strong></dt><dd> <p><strong>Index</strong> (an integer) is an index into the module
fun table.</p> </dd><dt><strong>{new_uniq, Uniq}</strong></dt><dd> <p><strong>Uniq</strong> (a binary) is a unique value for this fun. It
is calculated from the compiled code for the entire module.</p> </dd><dt><strong>{uniq, Uniq}</strong></dt><dd> <p><strong>Uniq</strong> (an integer) is a unique value for this fun.
As from Erlang/OTP R15, this integer is calculated from the
compiled code for the entire module. Before Erlang/OTP R15, this
integer was based on only the body of the fun.</p> </dd></dl><h2>fun_info/2</h2><p>Information about a fun.</p><ul><li>fun_info_item</li></ul><p>Returns information about <strong><span class="anno">Fun</span></strong> as specified by
<strong><span class="anno">Item</span></strong>, in the form
<strong>{<span class="anno">Item</span>,<span class="anno">Info</span>}</strong>.</p><p>For any fun, <strong><span class="anno">Item</span></strong> can be any of the atoms
<strong>module</strong>, <strong>name</strong>, <strong>arity</strong>, <strong>env</strong>, or
<strong>type</strong>.</p><p>For a local fun, <strong><span class="anno">Item</span></strong> can also be any of the
atoms <strong>index</strong>, <strong>new_index</strong>, <strong>new_uniq</strong>,
<strong>uniq</strong>, and <strong>pid</strong>. For an external fun, the value
of any of these items is always the atom <strong>undefined</strong>.</p><p>See
<a href="#fun_info/1">fun_info/1</a>.</p><h2>fun_to_list/1</h2><p>Text representation of a fun.</p><p>Returns a string corresponding to the text
representation of <strong><span class="anno">Fun</span></strong>.</p><h2>function_exported/3</h2><p>Check if a function is exported and loaded.</p><p>Returns <strong>true</strong> if the module <strong><span class="anno">Module</span></strong> is
loaded and contains an exported function
<strong><span class="anno">Function</span>/<span class="anno">Arity</span></strong>,
or if there is a BIF (a built-in function implemented in C)
with the specified name, otherwise returns <strong>false</strong>.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>This function used to return <strong>false</strong> for BIFs
before Erlang/OTP 18.0.</p></div><h2>garbage_collect/0</h2><p>Force an immediate garbage collection of the calling process. </p><p>Forces an immediate garbage collection of the
executing process. The function is not to be used unless
it has been noticed (or there are good reasons to suspect)
that the spontaneous garbage collection will occur too late
or not at all.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>Improper use can seriously degrade system performance.</p></div><h2>garbage_collect/1</h2><p>Garbage collect a process.</p><p>The same as
<a href="#garbage_collect/2">garbage_collect/2</a>.</p><h2>garbage_collect/2</h2><p>Garbage collect a process.</p><p>Garbage collects the node local process identified by
<strong><span class="anno">Pid</span></strong>.</p><p><strong><span class="anno">Option</span></strong>:</p><dl><dt><strong>{async, RequestId}</strong></dt><dd>The function <strong>garbage_collect/2</strong> returns the value <strong>async</strong> immediately after the request has been sent. When the request has been processed, the process that called this function is passed a message on the form <strong>{garbage_collect, <span class="anno">RequestId</span>, <span class="anno">GCResult</span>}</strong>. </dd><dt><strong>{type, 'major' | 'minor'}</strong></dt><dd>Triggers garbage collection of requested type. Default value is <strong>'major'</strong>, which would trigger a fullsweep GC. The option <strong>'minor'</strong> is considered a hint and may lead to either minor or major GC run.</dd></dl><p>If <strong><span class="anno">Pid</span></strong> equals <strong>self()</strong>, and
no <strong>async</strong> option has been passed, the garbage
collection is performed at once, that is, the same as calling
<a href="#garbage_collect/0">garbage_collect/0</a>.
Otherwise a request for garbage collection
is sent to the process identified by <strong><span class="anno">Pid</span></strong>,
and will be handled when appropriate. If no <strong>async</strong>
option has been passed, the caller blocks until
<strong><span class="anno">GCResult</span></strong> is available and can be returned.</p><p><strong><span class="anno">GCResult</span></strong> informs about the result of
the garbage collection request as follows:</p><dl><dt><strong>true</strong></dt><dd> The process identified by <strong><span class="anno">Pid</span></strong> has been garbage collected. </dd><dt><strong>false</strong></dt><dd> No garbage collection was performed, as the process identified by <strong><span class="anno">Pid</span></strong> terminated before the request could be satisfied. </dd></dl><p>Notice that the same caveats apply as for
<a href="#garbage_collect/0">garbage_collect/0</a>.</p><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">Pid</span></strong> is not a node local process identifier. </dd><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">OptionList</span></strong> is an invalid list of options. </dd></dl><h2>get/0</h2><p>Return the process dictionary.</p><p>Returns the process dictionary as a list of
<strong>{<span class="anno">Key</span>, <span class="anno">Val</span>}</strong> tuples, for example:</p><pre>
&gt; <span class="input">put(key1, merry),</span>
<span class="input">put(key2, lambs),</span>
<span class="input">put(key3, {are, playing}),</span>
<span class="input">get().</span>
[{key1,merry},{key2,lambs},{key3,{are,playing}}]</pre><h2>get/1</h2><p>Return a value from the process dictionary.</p><p>Returns the value <strong><span class="anno">Val</span></strong> associated with
<strong><span class="anno">Key</span></strong> in the process dictionary, or <strong>undefined</strong>
if <strong><span class="anno">Key</span></strong> does not exist. Example:</p><pre>
&gt; <span class="input">put(key1, merry),</span>
<span class="input">put(key2, lambs),</span>
<span class="input">put({any, [valid, term]}, {are, playing}),</span>
<span class="input">get({any, [valid, term]}).</span>
{are,playing}</pre><h2>get_cookie/0</h2><p>Get the magic cookie of the local node.</p><p>Returns the magic cookie of the local node if the node is
alive, otherwise the atom <strong>nocookie</strong>.</p><h2>get_keys/0</h2><p>Return a list of all keys from the process dictionary. </p><p>Returns a list of all keys present in the process dictionary,
for example:</p><pre>
&gt; <span class="input">put(dog, {animal,1}),</span>
<span class="input">put(cow, {animal,2}),</span>
<span class="input">put(lamb, {animal,3}),</span>
<span class="input">get_keys().</span>
[dog,cow,lamb]</pre><h2>get_keys/1</h2><p>Return a list of keys from the process dictionary.</p><p>Returns a list of keys that are associated with the value
<strong><span class="anno">Val</span></strong> in the process dictionary, for example:</p><pre>
&gt; <span class="input">put(mary, {1, 2}),</span>
<span class="input">put(had, {1, 2}),</span>
<span class="input">put(a, {1, 2}),</span>
<span class="input">put(little, {1, 2}),</span>
<span class="input">put(dog, {1, 3}),</span>
<span class="input">put(lamb, {1, 2}),</span>
<span class="input">get_keys({1, 2}).</span>
[mary,had,a,little,lamb]</pre><h2>get_stacktrace/0</h2><p>Get the call stack back-trace of the last exception.</p><ul><li>stack_item</li></ul><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p><strong>erlang:get_stacktrace/0</strong> is deprecated and will stop working
in a future release.</p></div><p>Instead of using <strong>erlang:get_stacktrace/0</strong> to retrieve
the call stack back-trace, use the following syntax:</p><pre>
try Expr
catch
  Class:Reason:Stacktrace -&gt;
   {Class,Reason,Stacktrace}
end</pre><p><strong>erlang:get_stacktrace/0</strong> retrieves the call stack back-trace
(<em>stacktrace</em>) for an exception that has just been
caught in the calling process as a list of
<strong>{<span class="anno">Module</span>,<span class="anno">Function</span>,<span class="anno">Arity</span>,<span class="anno">Location</span>}</strong>
tuples. Field <strong><span class="anno">Arity</span></strong> in the first tuple can
be the argument list of that function call instead of an arity
integer, depending on the exception.</p><p>If there has not been any exceptions in a process, the
stacktrace is <strong>[]</strong>. After a code change for the process,
the stacktrace can also be reset to <strong>[]</strong>.</p><p>The stacktrace is the same data as operator <strong>catch</strong>
returns, for example:</p><pre>
{'EXIT',{badarg,Stacktrace}} = catch abs(x)</pre><p><strong><span class="anno">Location</span></strong> is a (possibly empty) list
of two-tuples that
can indicate the location in the source code of the function.
The first element is an atom describing the type of
information in the second element. The following
items can occur:</p><dl><dt><strong>file</strong></dt><dd>The second element of the tuple is a string (list of characters) representing the filename of the source file of the function. </dd><dt><strong>line</strong></dt><dd>The second element of the tuple is the line number (an integer &gt; 0) in the source file where the exception occurred or the function was called. </dd></dl><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>Developers should rely on stacktrace entries only for
debugging purposes.</p><p>The VM performs tail call optimization, which
does not add new entries to the stacktrace, and also limits stacktraces
to a certain depth. Furthermore, compiler options, optimizations and
future changes may add or remove stacktrace entries, causing any code
that expects the stacktrace to be in a certain order or contain specific
items to fail.</p><p>The only exception to this rule is <strong>error:undef</strong> which
guarantees to include the <span class="anno">Module</span>, <span class="anno">Function</span> and <span class="anno">Arity</span>
of the attempted function as the first stacktrace entry.</p></div><p>See also
<a href="#error/1">error/1</a> and
<a href="#error/2">error/2</a>.</p><h2>group_leader/0</h2><p>Get the group leader for the calling process.</p><p>Returns the process identifier of the group leader for the
process evaluating the function.</p><p>Every process is a member of some process group and all
groups have a <em>group leader</em>. All I/O from the group
is channeled to the group leader. When a new process is
spawned, it gets the same group leader as the spawning
process. Initially, at system startup, <strong>init</strong> is both
its own group leader and the group leader of all processes.</p><h2>group_leader/2</h2><p>Set the group leader for a process.</p><p>Sets the group leader of <strong><span class="anno">Pid</span></strong>
to <strong><span class="anno">GroupLeader</span></strong>.
Typically, this is used when a process started from a
certain shell is to have another group leader than
<strong>init</strong>.</p><p>The group leader should be rarely changed in
applications with a supervision tree, because OTP
assumes the group leader of their processes is
their application master.</p><p>See also
<a href="#group_leader/0">group_leader/0</a>
and <a href="../doc/design_principles/applications#stopping">OTP design principles</a> related to starting and stopping
applications.</p><h2>halt/0</h2><p>Halt the Erlang runtime system and indicate normal exit to the calling environment.</p><p>The same as
<a href="#halt/2">halt/2</a>. Example:</p><pre>
&gt; <span class="input">halt().</span>
os_prompt%</pre><h2>halt/1</h2><p>Halt the Erlang runtime system.</p><p>The same as <a href="#halt/2">halt/2</a>. Example:</p><pre>
&gt; <span class="input">halt(17).</span>
os_prompt% <span class="input">echo $?</span>
17
os_prompt%</pre><h2>halt/2</h2><p>Halt the Erlang runtime system.</p><p><strong><span class="anno">Status</span></strong> must be a non-negative integer, a string,
or the atom <strong>abort</strong>.
Halts the Erlang runtime system. Has no return value.
Depending on <strong><span class="anno">Status</span></strong>, the following occurs:</p><dl><dt>integer()</dt><dd>The runtime system exits with integer value <strong><span class="anno">Status</span></strong> as status code to the calling environment (OS). <div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>On many platforms, the OS supports only status
codes 0-255. A too large status code is truncated by clearing
the high bits.</p></div> </dd><dt>string()</dt><dd>An Erlang crash dump is produced with <strong><span class="anno">Status</span></strong> as slogan. Then the runtime system exits with status code <strong>1</strong>. The string will be truncated if longer than 200 characters. <div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Before ERTS 9.1 (OTP-20.1) only code points in the range 0-255
was accepted in the string. Now any unicode string is valid.</p></div> </dd><dt><strong>abort</strong></dt><dd>The runtime system aborts producing a core dump, if that is enabled in the OS. </dd></dl><p>For integer <strong><span class="anno">Status</span></strong>, the Erlang runtime system
closes all ports and allows async threads to finish their
operations before exiting. To exit without such flushing, use
<strong><span class="anno">Option</span></strong> as <strong>{flush,false}</strong>.</p><p>For statuses <strong>string()</strong> and <strong>abort</strong>, option
<strong>flush</strong> is ignored and flushing is <em>not</em> done.</p><h2>hd/1</h2><p>Head of a list.</p><p>Returns the head of <strong><span class="anno">List</span></strong>, that is,
the first element, for example:</p><pre>
&gt; <span class="input">hd([1,2,3,4,5]).</span>
1</pre><p>Allowed in guard tests.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">List</span></strong> is the empty
list <strong>[]</strong>.</p><h2>hibernate/3</h2><p>Hibernate a process until a message is sent to it.</p><p>Puts the calling process into a wait state where its memory
allocation has been reduced as much as possible. This is
useful if the process does not expect to receive any messages
soon.</p><p>The process is awaken when a message is sent to it, and control
resumes in <strong><span class="anno">Module</span>:<span class="anno">Function</span></strong> with
the arguments specified by <strong><span class="anno">Args</span></strong> with the call
stack emptied, meaning that the process terminates when that
function returns. Thus <strong>erlang:hibernate/3</strong> never
returns to its caller.</p><p>If the process has any message in its message queue,
the process is awakened immediately in the same way as
described earlier.</p><p>In more technical terms, <strong>erlang:hibernate/3</strong>
discards the call stack for the process,
and then garbage collects the process. After this,
all live data is in one continuous heap. The heap
is then shrunken to the exact same size as the live data
that it holds (even if that size is less than the minimum
heap size for the process).</p><p>If the size of the live data in the process is less than
the minimum heap size, the first garbage collection occurring
after the process is awakened ensures that the heap
size is changed to a size not smaller than the minimum heap
size.</p><p>Notice that emptying the call stack means that any surrounding
<strong>catch</strong> is removed and must be re-inserted after
hibernation. One effect of this is that processes started
using <strong>proc_lib</strong> (also indirectly, such as
<strong>gen_server</strong> processes), are to use
<a href="../stdlib/proc_lib#hibernate/3">stdlib/proc_lib#hibernate/3</a>
instead, to ensure that the exception handler continues to work
when the process wakes up.</p><h2>insert_element/3</h2><p>Insert an element at index in a tuple.</p><dl><dt>Index</dt><dd>1..tuple_size(<span class="anno">Tuple1</span>) + 1</dd></dl><p>Returns a new tuple with element <strong><span class="anno">Term</span></strong>
inserted at position
<strong><span class="anno">Index</span></strong> in tuple <strong><span class="anno">Tuple1</span></strong>.
All elements from position <strong><span class="anno">Index</span></strong> and upwards are
pushed one step higher in the new tuple <strong><span class="anno">Tuple2</span></strong>.
Example:</p><pre>
&gt; <span class="input">erlang:insert_element(2, {one, two, three}, new).</span>
{one,new,two,three}</pre><h2>integer_to_binary/1</h2><p>Text representation of an integer.</p><p>Returns a binary corresponding to the text
representation of <strong><span class="anno">Integer</span></strong>, for example:</p><pre>
&gt; <span class="input">integer_to_binary(77).</span>
&lt;&lt;"77"&gt;&gt;</pre><h2>integer_to_binary/2</h2><p>Text representation of an integer.</p><p>Returns a binary corresponding to the text
representation of <strong><span class="anno">Integer</span></strong> in base
<strong><span class="anno">Base</span></strong>, for example:</p><pre>
&gt; <span class="input">integer_to_binary(1023, 16).</span>
&lt;&lt;"3FF"&gt;&gt;</pre><h2>integer_to_list/1</h2><p>Text representation of an integer.</p><p>Returns a string corresponding to the text
representation of <strong><span class="anno">Integer</span></strong>, for example:</p><pre>
&gt; <span class="input">integer_to_list(77).</span>
"77"</pre><h2>integer_to_list/2</h2><p>Text representation of an integer.</p><p>Returns a string corresponding to the text
representation of <strong><span class="anno">Integer</span></strong> in base
<strong><span class="anno">Base</span></strong>, for example:</p><pre>
&gt; <span class="input">integer_to_list(1023, 16).</span>
"3FF"</pre><h2>iolist_size/1</h2><p>Size of an iolist.</p><p>Returns an integer, that is the size in bytes,
of the binary that would be the result of
<strong>iolist_to_binary(<span class="anno">Item</span>)</strong>, for example:</p><pre>
&gt; <span class="input">iolist_size([1,2|&lt;&lt;3,4&gt;&gt;]).</span>
4</pre><h2>iolist_to_binary/1</h2><p>Convert an iolist to a binary.</p><p>Returns a binary that is made from the integers and
binaries in <strong><span class="anno">IoListOrBinary</span></strong>, for example:</p><pre>
&gt; <span class="input">Bin1 = &lt;&lt;1,2,3&gt;&gt;.</span>
&lt;&lt;1,2,3&gt;&gt;
&gt; <span class="input">Bin2 = &lt;&lt;4,5&gt;&gt;.</span>
&lt;&lt;4,5&gt;&gt;
&gt; <span class="input">Bin3 = &lt;&lt;6&gt;&gt;.</span>
&lt;&lt;6&gt;&gt;
&gt; <span class="input">iolist_to_binary([Bin1,1,[2,3,Bin2],4|Bin3]).</span>
&lt;&lt;1,2,3,1,2,3,4,5,4,6&gt;&gt;</pre><h2>iolist_to_iovec/1</h2><p>Converts an iolist to a iovec.</p><p>Returns an iovec that is made from the integers and binaries in
<strong><span class="anno">IoListOrBinary</span></strong>.</p><h2>is_alive/0</h2><p>Check whether the local node is alive.</p><p>Returns <strong>true</strong> if the local node is alive (that is, if
the node can be part of a distributed system), otherwise
<strong>false</strong>.</p><h2>is_atom/1</h2><p>Check whether a term is an atom.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is an atom,
otherwise <strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_binary/1</h2><p>Check whether a term is a binary.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is a binary,
otherwise <strong>false</strong>.</p><p>A binary always contains a complete number of bytes.</p><p>Allowed in guard tests.</p><h2>is_bitstring/1</h2><p>Check whether a term is a bitstring.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is a
bitstring (including a binary), otherwise <strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_boolean/1</h2><p>Check whether a term is a boolean.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is the
atom <strong>true</strong> or the atom <strong>false</strong> (that is, a boolean).
Otherwise returns <strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_builtin/3</h2><p>Check if a function is a BIF implemented in C.</p><p>This BIF is useful for builders of cross-reference tools.</p><p>Returns <strong>true</strong> if
<strong><span class="anno">Module</span>:<span class="anno">Function</span>/<span class="anno">Arity</span></strong>
is a BIF implemented in C, otherwise <strong>false</strong>.</p><h2>is_float/1</h2><p>Check whether a term is a float.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is a floating point
number, otherwise <strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_function/1</h2><p>Check whether a term is a fun.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is a fun, otherwise
<strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_function/2</h2><p>Check whether a term is a fun with a specified given arity. </p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is a fun that can be
applied with <strong><span class="anno">Arity</span></strong> number of arguments, otherwise
<strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_integer/1</h2><p>Check whether a term is an integer.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is an integer,
otherwise <strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_list/1</h2><p>Check whether a term is a list.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is a list with
zero or more elements, otherwise <strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_map/1</h2><p>Check whether a term is a map.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is a map,
otherwise <strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_map_key/2</h2><p>Returns <strong>true</strong> if map <strong><span class="anno">Map</span></strong> contains
<strong><span class="anno">Key</span></strong> and returns <strong>false</strong> if it does not
contain the <strong><span class="anno">Key</span></strong>.</p><p>The call fails with a <strong>{badmap,Map}</strong> exception if
<strong><span class="anno">Map</span></strong> is not a map.</p><p><em>Example:</em></p><pre><code class="">
&gt; Map = #{"42" =&gt; value}.
#{"42" =&gt; value}
&gt; is_map_key("42",Map).
true
&gt; is_map_key(value,Map).
false</code></pre><h2>is_number/1</h2><p>Check whether a term is a number.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is an integer or a
floating point number. Otherwise returns <strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_pid/1</h2><p>Check whether a term is a process identifier.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is a process
identifier, otherwise <strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_port/1</h2><p>Check whether a term is a port.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is a port identifier,
otherwise <strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_process_alive/1</h2><p>Check whether a process is alive.</p><p><strong><span class="anno">Pid</span></strong> must refer to a process at the local
node.</p><p>Returns <strong>true</strong> if the process exists and is alive, that
is, is not exiting and has not exited. Otherwise returns
<strong>false</strong>.</p><h2>is_record/2</h2><p>Check whether a term appears to be a record.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is a tuple and its
first element is <strong><span class="anno">RecordTag</span></strong>.
Otherwise returns <strong>false</strong>.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Normally the compiler treats calls to <strong>is_record/2</strong>
especially. It emits code to verify that <strong><span class="anno">Term</span></strong>
is a tuple, that its first element is
<strong><span class="anno">RecordTag</span></strong>, and that the
size is correct. However, if <strong><span class="anno">RecordTag</span></strong> is
not a literal atom, the BIF <strong>is_record/2</strong> is called
instead and the size of the tuple is not verified.</p></div><p>Allowed in guard tests, if <strong><span class="anno">RecordTag</span></strong> is
a literal atom.</p><h2>is_record/3</h2><p>Check whether a term appears to be a record.</p><p><strong><span class="anno">RecordTag</span></strong> must be an atom.</p><p>Returns <strong>true</strong> if
<strong><span class="anno">Term</span></strong> is a tuple,
its first element is <strong><span class="anno">RecordTag</span></strong>,
and its size is <strong><span class="anno">Size</span></strong>.
Otherwise returns <strong>false</strong>.</p><p>Allowed in guard tests if <strong><span class="anno">RecordTag</span></strong> is
a literal atom and <strong>Size</strong> is a literal integer.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>This BIF is documented for completeness. Usually
<strong>is_record/2</strong> is to be used.</p></div><h2>is_reference/1</h2><p>Check whether a term is a reference.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is a reference,
otherwise <strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>is_tuple/1</h2><p>Check whether a term is a tuple.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Term</span></strong> is a tuple,
otherwise <strong>false</strong>.</p><p>Allowed in guard tests.</p><h2>length/1</h2><p>Length of a list.</p><p>Returns the length of <strong><span class="anno">List</span></strong>, for example:</p><pre>
&gt; <span class="input">length([1,2,3,4,5,6,7,8,9]).</span>
9</pre><p>Allowed in guard tests.</p><h2>link/1</h2><p>Create a link to another process (or port).</p><p>Creates a link between the calling process and another
process (or port) <strong><span class="anno">PidOrPort</span></strong>, if there is
not such a link
already. If a process attempts to create a link to itself,
nothing is done. Returns <strong>true</strong>.</p><p>If <strong><span class="anno">PidOrPort</span></strong> does not exist, the behavior
of the BIF
depends on if the calling process is trapping exits or not (see
<a href="#process_flag/2">process_flag/2</a>):</p><ul><li><p>If the calling process is not trapping exits, and
checking <strong><span class="anno">PidOrPort</span></strong> is cheap
(that is, if <strong><span class="anno">PidOrPort</span></strong>
is local), <strong>link/1</strong> fails with reason <strong>noproc</strong>.</p></li><li><p>Otherwise, if the calling process is trapping exits,
and/or <strong><span class="anno">PidOrPort</span></strong> is remote, <strong>link/1</strong>
returns <strong>true</strong>, but an exit signal with reason <strong>noproc</strong>
is sent to the calling process.</p></li></ul><h2>list_to_atom/1</h2><p>Convert from text representation to an atom.</p><p>Returns the atom whose text representation is
<strong><span class="anno">String</span></strong>.</p><p>As from Erlang/OTP 20, <strong><span class="anno">String</span></strong> may contain
any Unicode character. Earlier versions allowed only ISO-latin-1
characters as the implementation did not allow Unicode characters
above 255. For more information on Unicode support in atoms, see
<a href="./erl_ext_dist#utf8_atoms">note on UTF-8 encoded atoms</a>
in section "External Term Format" in the User's Guide.</p><p>Example:</p><pre>
&gt; <span class="input">list_to_atom("Erlang").</span>
'Erlang'</pre><h2>list_to_binary/1</h2><p>Convert a list to a binary.</p><p>Returns a binary that is made from the integers and
binaries in <strong><span class="anno">IoList</span></strong>, for example:</p><pre>
&gt; <span class="input">Bin1 = &lt;&lt;1,2,3&gt;&gt;.</span>
&lt;&lt;1,2,3&gt;&gt;
&gt; <span class="input">Bin2 = &lt;&lt;4,5&gt;&gt;.</span>
&lt;&lt;4,5&gt;&gt;
&gt; <span class="input">Bin3 = &lt;&lt;6&gt;&gt;.</span>
&lt;&lt;6&gt;&gt;
&gt; <span class="input">list_to_binary([Bin1,1,[2,3,Bin2],4|Bin3]).</span>
&lt;&lt;1,2,3,1,2,3,4,5,4,6&gt;&gt;</pre><h2>list_to_bitstring/1</h2><p>Convert a list to a bitstring.</p><ul><li>bitstring_list</li></ul><p>Returns a bitstring that is made from the integers and
bitstrings in <strong><span class="anno">BitstringList</span></strong>. (The last tail in
<strong><span class="anno">BitstringList</span></strong> is allowed to be a bitstring.)
Example:</p><pre>
&gt; <span class="input">Bin1 = &lt;&lt;1,2,3&gt;&gt;.</span>
&lt;&lt;1,2,3&gt;&gt;
&gt; <span class="input">Bin2 = &lt;&lt;4,5&gt;&gt;.</span>
&lt;&lt;4,5&gt;&gt;
&gt; <span class="input">Bin3 = &lt;&lt;6,7:4&gt;&gt;.</span>
&lt;&lt;6,7:4&gt;&gt;
&gt; <span class="input">list_to_bitstring([Bin1,1,[2,3,Bin2],4|Bin3]).</span>
&lt;&lt;1,2,3,1,2,3,4,5,4,6,7:4&gt;&gt;</pre><h2>list_to_existing_atom/1</h2><p>Convert from text representation to an atom.</p><p>Returns the atom whose text representation is
<strong><span class="anno">String</span></strong>,
but only if there already exists such atom.</p><p>Failure: <strong>badarg</strong> if there does not already exist an atom
whose text representation is <strong><span class="anno">String</span></strong>.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Note that the compiler may optimize away atoms. For
example, the compiler will rewrite
<strong>atom_to_list(some_atom)</strong> to <strong>"some_atom"</strong>. If
that expression is the only mention of the atom
<strong>some_atom</strong> in the containing module, the atom will not
be created when the module is loaded, and a subsequent call
to <strong>list_to_existing_atom("some_atom")</strong> will fail.</p></div><h2>list_to_float/1</h2><p>Convert from text representation to a float.</p><p>Returns the float whose text representation is
<strong><span class="anno">String</span></strong>, for example:</p><pre>
&gt; <span class="input">list_to_float("2.2017764e+0").</span>
2.2017764</pre><p>Failure: <strong>badarg</strong> if <strong><span class="anno">String</span></strong> contains a bad
representation of a float.</p><h2>list_to_integer/1</h2><p>Convert from text representation to an integer.</p><p>Returns an integer whose text representation is
<strong><span class="anno">String</span></strong>, for example:</p><pre>
&gt; <span class="input">list_to_integer("123").</span>
123</pre><p>Failure: <strong>badarg</strong> if <strong><span class="anno">String</span></strong> contains a bad
representation of an integer.</p><h2>list_to_integer/2</h2><p>Convert from text representation to an integer.</p><p>Returns an integer whose text representation in base
<strong><span class="anno">Base</span></strong> is <strong><span class="anno">String</span></strong>,
for example:</p><pre>
&gt; <span class="input">list_to_integer("3FF", 16).</span>
1023</pre><p>Failure: <strong>badarg</strong> if <strong><span class="anno">String</span></strong> contains a bad
representation of an integer.</p><h2>list_to_pid/1</h2><p>Convert from text representation to a pid.</p><p>Returns a process identifier whose text representation is a 
<strong><span class="anno">String</span></strong>, for example:</p><pre>
&gt; <span class="input">list_to_pid("&lt;0.4.1&gt;").</span>
&lt;0.4.1&gt;</pre><p>Failure: <strong>badarg</strong> if <strong><span class="anno">String</span></strong> contains a bad
representation of a process identifier.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for debugging and is not to be used
in application programs.</p></div><h2>list_to_port/1</h2><p>Convert from text representation to a port.</p><p>Returns a port identifier whose text representation is a
<strong><span class="anno">String</span></strong>, for example:</p><pre>
&gt; <span class="input">list_to_port("#Port&lt;0.4&gt;").</span>
#Port&lt;0.4&gt;</pre><p>Failure: <strong>badarg</strong> if <strong><span class="anno">String</span></strong> contains a bad
representation of a port identifier.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for debugging and is not to be used
in application programs.</p></div><h2>list_to_ref/1</h2><p>Convert from text representation to a ref.</p><p>Returns a reference whose text representation is a
<strong><span class="anno">String</span></strong>, for example:</p><pre>
&gt; <span class="input">list_to_ref("#Ref&lt;0.4192537678.4073193475.71181&gt;").</span>
#Ref&lt;0.4192537678.4073193475.71181&gt;</pre><p>Failure: <strong>badarg</strong> if <strong><span class="anno">String</span></strong> contains a bad
representation of a reference.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for debugging and is not to be used
in application programs.</p></div><h2>list_to_tuple/1</h2><p>Convert a list to a tuple.</p><p>Returns a tuple corresponding to <strong><span class="anno">List</span></strong>,
for example</p><pre>
&gt; <span class="input">list_to_tuple([share, ['Ericsson_B', 163]]).</span>
{share, ['Ericsson_B', 163]}</pre><p><strong><span class="anno">List</span></strong> can contain any Erlang terms.</p><h2>load_module/2</h2><p>Load object code for a module.</p><p>If <strong><span class="anno">Binary</span></strong> contains the object code for module
<strong><span class="anno">Module</span></strong>, this BIF loads that object code. If
the code for module <strong><span class="anno">Module</span></strong> already exists, all
export references are replaced so they point to the newly
loaded code. The previously loaded code is kept in the system
as old code, as there can still be processes executing
that code.</p><p>Returns either <strong>{module, <span class="anno">Module</span>}</strong>, or
<strong>{error, <span class="anno">Reason</span>}</strong> if loading fails.
<strong><span class="anno">Reason</span></strong> is one of the following:</p><dl><dt><strong>badfile</strong></dt><dd>The object code in <strong><span class="anno">Binary</span></strong> has an incorrect format <em>or</em> the object code contains code for another module than <strong><span class="anno">Module</span></strong>. </dd><dt><strong>not_purged</strong></dt><dd><strong><span class="anno">Binary</span></strong> contains a module that cannot be loaded because old code for this module already exists. </dd></dl><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for the code server (see
<a href="./code">kernel/code</a>)
and is not to be used elsewhere.</p></div><h2>load_nif/2</h2><p>Load NIF library.</p><p>Loads and links a dynamic library containing native
implemented functions (NIFs) for a module. <strong><span class="anno">Path</span></strong>
is a file path to the shareable object/dynamic library file minus
the OS-dependent file extension (<strong>.so</strong> for Unix and
<strong>.dll</strong> for Windows). Notice that on most OSs the library has
to have a different name on disc when an upgrade of the nif is
done. If the name is the same, but the contents differ, the
old library may be loaded instead. For information on how to
implement a NIF library, see
<a href="erl_nif">erl_nif</a>.</p><p><strong><span class="anno">LoadInfo</span></strong> can be any term. It is passed on to
the library as part of the initialization. A good practice is
to include a module version number to support future code
upgrade scenarios.</p><p>The call to <strong>load_nif/2</strong> must be made
<em>directly</em> from the Erlang code of the module that the
NIF library belongs to. It returns either <strong>ok</strong>, or
<strong>{error,{<span class="anno">Reason</span>,Text}}</strong> if loading fails.
<strong><span class="anno">Reason</span></strong> is one of the following atoms
while <strong><span class="anno">Text</span></strong> is a human readable string that
can give more information about the failure:</p><dl><dt><strong>load_failed</strong></dt><dd>The OS failed to load the NIF library. </dd><dt><strong>bad_lib</strong></dt><dd>The library did not fulfill the requirements as a NIF library of the calling module. </dd><dt><strong>load | upgrade</strong></dt><dd>The corresponding library callback was unsuccessful. </dd><dt><strong>reload</strong></dt><dd>A NIF library is already loaded for this module instance. The previously deprecated <strong>reload</strong> feature was removed in OTP 20. </dd><dt><strong>old_code</strong></dt><dd>The call to <strong>load_nif/2</strong> was made from the old code of a module that has been upgraded; this is not allowed. </dd><dt><strong>notsup</strong></dt><dd>Lack of support. Such as loading NIF library for a HiPE compiled module. </dd></dl><h2>loaded/0</h2><p>List all loaded modules.</p><p>Returns a list of all loaded Erlang modules (current and
old code), including preloaded modules.</p><p>See also <a href="./code">kernel/code</a>.</p><h2>localtime/0</h2><p>Current local date and time.</p><p>Returns the current local date and time,
<strong>{{Year, Month, Day}, {Hour, Minute, Second}}</strong>,
for example:</p><pre>
&gt; <span class="input">erlang:localtime().</span>
{{1996,11,6},{14,45,17}}</pre><p>The time zone and Daylight Saving Time correction depend
on the underlying OS.</p><h2>localtime_to_universaltime/1</h2><p>Convert from local to Universal Time Coordinated (UTC) date and time.</p><p>Converts local date and time to Universal Time Coordinated
(UTC), if supported by the underlying OS. Otherwise
no conversion is done and <strong><span class="anno">Localtime</span></strong>
is returned. Example:</p><pre>
&gt; <span class="input">erlang:localtime_to_universaltime({{1996,11,6},{14,45,17}}).</span>
{{1996,11,6},{13,45,17}}</pre><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Localtime</span></strong> denotes an
invalid date and time.</p><h2>localtime_to_universaltime/2</h2><p>Convert from local to Universal Time Coordinated (UTC) date and time.</p><p>Converts local date and time to Universal Time Coordinated
(UTC) as <strong>erlang:localtime_to_universaltime/1</strong>,
but the caller decides if Daylight Saving Time is active.</p><p>If <strong><span class="anno">IsDst</span> == true</strong>, <strong><span class="anno">Localtime</span></strong>
is during Daylight Saving Time, if <strong><span class="anno">IsDst</span> == false</strong>
it is not. If <strong><span class="anno">IsDst</span> == undefined</strong>, the underlying
OS can guess, which is the same as calling
<strong>erlang:localtime_to_universaltime(<span class="anno">Localtime</span>)</strong>.</p><p>Examples:</p><pre>
&gt; <span class="input">erlang:localtime_to_universaltime({{1996,11,6},{14,45,17}}, true).</span>
{{1996,11,6},{12,45,17}}
&gt; <span class="input">erlang:localtime_to_universaltime({{1996,11,6},{14,45,17}}, false).</span>
{{1996,11,6},{13,45,17}}
&gt; <span class="input">erlang:localtime_to_universaltime({{1996,11,6},{14,45,17}}, undefined).</span>
{{1996,11,6},{13,45,17}}</pre><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Localtime</span></strong> denotes an
invalid date and time.</p><h2>make_ref/0</h2><p>Return a unique reference.</p><p>Returns a
<a href="../doc/efficiency_guide/advanced#unique_references"> unique reference</a>. The reference is unique among
connected nodes.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>Known issue: When a node is restarted multiple
times with the same node name, references created
on a newer node can be mistaken for a reference
created on an older node with the same node name.</p></div><h2>make_tuple/2</h2><p>Create a new tuple of a specified arity.</p><p>Creates a new tuple of the specified <strong><span class="anno">Arity</span></strong>, where
all elements are <strong><span class="anno">InitialValue</span></strong>, for example:</p><pre>
&gt; <span class="input">erlang:make_tuple(4, []).</span>
{[],[],[],[]}</pre><h2>make_tuple/3</h2><p>Create a new tuple with specifed arity and contents.</p><p>Creates a tuple of size <strong><span class="anno">Arity</span></strong>, where each element
has value <strong><span class="anno">DefaultValue</span></strong>, and then fills in
values from <strong><span class="anno">InitList</span></strong>.
Each list element in <strong><span class="anno">InitList</span></strong>
must be a two-tuple, where the first element is a position in the
newly created tuple and the second element is any term. If a
position occurs more than once in the list, the term corresponding
to the last occurrence is used. Example:</p><pre>
&gt; <span class="input">erlang:make_tuple(5, [], [{2,ignored},{5,zz},{2,aa}]).</span>
{[],aa,[],[],zz}</pre><h2>map_get/2</h2><p>Extract a value from a map</p><p>Returns value <strong><span class="anno">Value</span></strong> associated with
<strong><span class="anno">Key</span></strong> if <strong><span class="anno">Map</span></strong> contains
<strong><span class="anno">Key</span></strong>.</p><p>The call fails with a <strong>{badmap,Map}</strong> exception if
<strong><span class="anno">Map</span></strong> is not a map, or with a <strong>{badkey,Key}</strong>
exception if no value is associated with <strong><span class="anno">Key</span></strong>.</p><p><em>Example:</em></p><pre><code class="">
&gt; Key = 1337,
  Map = #{42 =&gt; value_two,1337 =&gt; "value one","a" =&gt; 1},
  map_get(Key,Map).
"value one"</code></pre><h2>map_size/1</h2><p>Return the size of a map.</p><p>Returns an integer, which is the number of key-value pairs
in <strong><span class="anno">Map</span></strong>, for example:</p><pre>
&gt; <span class="input">map_size(#{a=&gt;1, b=&gt;2, c=&gt;3}).</span>
3</pre><p>Allowed in guard tests.</p><h2>match_spec_test/3</h2><p>Test that a match specification works.</p><p>Tests a match specification used in calls to
<a href="../stdlib/ets#select/2">stdlib/ets#select/2</a>
and <a href="#trace_pattern/3">trace_pattern/3</a>.
The function tests both a match specification for "syntactic"
correctness and runs the match specification against the object. If
the match specification contains errors, the tuple <strong>{error, Errors}</strong> is returned, where <strong>Errors</strong> is a list of natural
language descriptions of what was wrong with the match
specification.</p><p>If <strong><span class="anno">Type</span></strong> is <strong>table</strong>, the object to match
against is to be a tuple. The function then returns
<strong>{ok,Result,[],Warnings}</strong>, where <strong>Result</strong> is what would
have been the result in a real <strong>ets:select/2</strong> call, or
<strong>false</strong> if the match specification does not match the object
tuple.</p><p>If <strong><span class="anno">Type</span></strong> is <strong>trace</strong>, the object to match
against is to be a list. The function returns
<strong>{ok, Result, Flags, Warnings}</strong>, where <strong>Result</strong> is one of
the following:</p><ul><li><strong>true</strong> if a trace message is to be emitted</li><li><strong>false</strong> if a trace message is not to be emitted</li><li>The message term to be appended to the trace message</li></ul><p><strong>Flags</strong> is a list containing all the trace flags to be enabled,
currently this is only <strong>return_trace</strong>.</p><p>This is a useful debugging and test tool, especially when writing
complicated match specifications.</p><p>See also
<a href="../stdlib/ets#test_ms/2">stdlib/ets#test_ms/2</a>.</p><h2>max/2</h2><p>Return the largest of two terms.</p><p>Returns the largest of <strong><span class="anno">Term1</span></strong> and
<strong><span class="anno">Term2</span></strong>.
If the terms are equal, <strong><span class="anno">Term1</span></strong> is returned.</p><h2>md5/1</h2><p>Compute an MD5 message digest.</p><p>Computes an MD5 message digest from <strong><span class="anno">Data</span></strong>, where
the length of the digest is 128 bits (16 bytes).
<strong><span class="anno">Data</span></strong>
is a binary or a list of small integers and binaries.</p><p>For more information about MD5, see
<a href="https://www.ietf.org/rfc/rfc1321.txt"> RFC 1321 - The MD5 Message-Digest Algorithm</a>.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>The MD5 Message-Digest Algorithm is <em>not</em> considered
safe for code-signing or software-integrity purposes.</p></div><h2>md5_final/1</h2><p>Finish the update of an MD5 context and return the computed MD5 message digest.</p><p>Finishes the update of an MD5 <strong><span class="anno">Context</span></strong> and returns
the computed <strong>MD5</strong> message digest.</p><h2>md5_init/0</h2><p>Create an MD5 context.</p><p>Creates an MD5 context, to be used in the following calls to
<strong>md5_update/2</strong>.</p><h2>md5_update/2</h2><p>Update an MD5 context with data and return a new context. </p><p>Update an MD5 <strong><span class="anno">Context</span></strong> with
<strong><span class="anno">Data</span></strong> and returns a
<strong><span class="anno">NewContext</span></strong>.</p><h2>memory/0</h2><p>Information about dynamically allocated memory.</p><ul><li>memory_type</li></ul><p>Returns a list with information about memory
dynamically allocated by the Erlang emulator. Each list
element is a tuple <strong>{Type, Size}</strong>. The first element
<strong><span class="anno">Type</span></strong> is an atom describing memory type. The second
element <strong><span class="anno">Size</span></strong> is the memory size in bytes.</p><p>Memory types:</p><dl><dt><strong>total</strong></dt><dd> <p>The total amount of memory currently allocated. This is
the same as the sum of the memory size for <strong>processes</strong>
and <strong>system</strong>.</p> </dd><dt><strong>processes</strong></dt><dd> <p>The total amount of memory currently allocated for
the Erlang processes.</p> </dd><dt><strong>processes_used</strong></dt><dd> <p>The total amount of memory currently used by the Erlang
processes. This is part of the memory presented as
<strong>processes</strong> memory.</p> </dd><dt><strong>system</strong></dt><dd> <p>The total amount of memory currently allocated for
the emulator that is not directly related to any Erlang
process. Memory presented as <strong>processes</strong> is not
included in this memory. <a href="./instrument">tools/instrument</a> can be used to
get a more detailed breakdown of what memory is part
of this type.</p> </dd><dt><strong>atom</strong></dt><dd> <p>The total amount of memory currently allocated for atoms.
This memory is part of the memory presented as
<strong>system</strong> memory.</p> </dd><dt><strong>atom_used</strong></dt><dd> <p>The total amount of memory currently used for atoms.
This memory is part of the memory presented as
<strong>atom</strong> memory.</p> </dd><dt><strong>binary</strong></dt><dd> <p>The total amount of memory currently allocated for
binaries. This memory is part of the memory presented
as <strong>system</strong> memory.</p> </dd><dt><strong>code</strong></dt><dd> <p>The total amount of memory currently allocated for
Erlang code. This memory is part of the memory presented
as <strong>system</strong> memory.</p> </dd><dt><strong>ets</strong></dt><dd> <p>The total amount of memory currently allocated for ETS
tables. This memory is part of the memory presented as
<strong>system</strong> memory.</p> </dd><dt><strong>low</strong></dt><dd> <p>Only on 64-bit halfword emulator.
The total amount of memory allocated in low memory areas
that are restricted to &lt; 4 GB, although
the system can have more memory.</p> <p>Can be removed in a future release of the halfword
emulator.</p> </dd><dt><strong>maximum</strong></dt><dd> <p>The maximum total amount of memory allocated since
the emulator was started. This tuple is only present
when the emulator is run with instrumentation.</p> <p>For information on how to run the emulator with
instrumentation, see
<a href="./instrument">tools/instrument</a>
and/or <a href="erl">erl</a>.</p> </dd></dl><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>The <strong>system</strong> value is not complete. Some allocated
memory that is to be part of this value is not.</p><p>When the emulator is run with instrumentation,
the <strong>system</strong> value is more accurate, but memory
directly allocated for <strong>malloc</strong> (and friends) is still
not part of the <strong>system</strong> value. Direct calls to
<strong>malloc</strong> are only done from OS-specific runtime
libraries and perhaps from user-implemented Erlang drivers
that do not use the memory allocation functions in
the driver interface.</p><p>As the <strong>total</strong> value is the sum of <strong>processes</strong>
and <strong>system</strong>, the error in <strong>system</strong> propagates
to the <strong>total</strong> value.</p><p>The different amounts of memory that are summed are
<em>not</em> gathered atomically, which introduces
an error in the result.</p></div><p>The different values have the following relation to each
other. Values beginning with an uppercase letter is not part
of the result.</p><pre><code class="">
total      = processes + system
processes  = processes_used + ProcessesNotUsed
system     = atom + binary + code + ets + OtherSystem
atom       = atom_used + AtomNotUsed
RealTotal  = processes + RealSystem
RealSystem = system + MissedSystem</code></pre><p>More tuples in the returned list can be added in a
future release.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>The <strong>total</strong> value is supposed to be the total amount
of memory dynamically allocated by the emulator. Shared
libraries, the code of the emulator itself, and
the emulator stacks are not supposed to be included. That
is, the <strong>total</strong> value is <em>not</em> supposed to be
equal to the total size of all pages mapped to the emulator.</p><p>Also, because of fragmentation and prereservation of
memory areas, the size of the memory segments containing
the dynamically allocated memory blocks can be much
larger than the total size of the dynamically allocated
memory blocks.</p></div><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>As from ERTS 5.6.4, <strong>erlang:memory/0</strong> requires that
all <a href="./erts_alloc">erts/erts_alloc</a>
allocators are enabled (default behavior).</p></div><p>Failure: <strong>notsup</strong> if an
<a href="./erts_alloc">erts/erts_alloc</a>
allocator has been disabled.</p><h2>memory/1</h2><h2>memory/1</h2><p>Information about dynamically allocated memory.</p><ul><li>memory_type</li></ul><p>Returns the memory size in bytes allocated for memory of type
<strong><span class="anno">Type</span></strong>. The argument can also be specified as a list
of <strong>memory_type()</strong> atoms, in which case a corresponding list of
<strong>{memory_type(), Size :: integer &gt;= 0}</strong> tuples is returned.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>As from ERTS 5.6.4,
<strong>erlang:memory/1</strong> requires that
all <a href="erts_alloc">erts_alloc</a>
allocators are enabled (default behavior).</p></div><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">Type</span></strong> is not one of the memory types listed in the description of <a href="#memory/0">memory/0</a>. </dd><dt><strong>badarg</strong></dt><dd> If <strong>maximum</strong> is passed as <strong><span class="anno">Type</span></strong> and the emulator is not run in instrumented mode. </dd><dt><strong>notsup</strong></dt><dd> If an <a href="erts_alloc">erts_alloc</a> allocator has been disabled. </dd></dl><p>See also
<a href="#memory/0">memory/0</a>.</p><h2>min/2</h2><p>Return the smallest of two terms.</p><p>Returns the smallest of <strong><span class="anno">Term1</span></strong> and
<strong><span class="anno">Term2</span></strong>.
If the terms are equal, <strong><span class="anno">Term1</span></strong> is returned.</p><h2>module_loaded/1</h2><p>Check if a module is loaded.</p><p>Returns <strong>true</strong> if the module <strong><span class="anno">Module</span></strong>
is loaded, otherwise <strong>false</strong>. It does not attempt to load
the module.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for the code server (see
<a href="./code">kernel/code</a>)
and is not to be used elsewhere.</p></div><h2>monitor/2</h2><h2>monitor/2</h2><h2>monitor/2</h2><p>Start monitoring.</p><ul><li>registered_name</li></ul><ul><li>registered_process_identifier</li></ul><ul><li>monitor_process_identifier</li></ul><ul><li>monitor_port_identifier</li></ul><p>Sends a monitor request of type <strong><span class="anno">Type</span></strong> to the
entity identified by <strong><span class="anno">Item</span></strong>. If the monitored entity
does not exist or it changes monitored state, the caller of
<strong>monitor/2</strong> is notified by a message on the following format:</p><pre><code class="">
{Tag, <span class="anno">MonitorRef</span>, <span class="anno">Type</span>, Object, Info}</code></pre><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>The monitor request is an asynchronous signal. That is, it
takes time before the signal reaches its destination.</p></div><p><strong><span class="anno">Type</span></strong> can be one of the following atoms:
<strong>process</strong>, <strong>port</strong> or <strong>time_offset</strong>.</p><p>A <strong>process</strong> or <strong>port</strong> monitor is triggered only once,
after that it is removed from both monitoring process and
the monitored entity. Monitors are fired when the monitored process
or port terminates, does not exist at the moment of creation,
or if the connection to it is lost. If the connection to it is lost,
we do not know if it still exists. The monitoring is also turned off
when <a href="#demonitor/1">demonitor/1</a> is
called.</p><p>A <strong>process</strong> or <strong>port</strong> monitor by name
resolves the <strong>RegisteredName</strong> to <strong>pid()</strong> or <strong>port()</strong>
only once at the moment of monitor instantiation, later changes to
the name registration will not affect the existing monitor.</p><p>When a <strong>process</strong> or <strong>port</strong> monitor is triggered,
a <strong>'DOWN'</strong> message is sent that has the following pattern:</p><pre><code class="">
{'DOWN', MonitorRef, Type, Object, Info}</code></pre><p>In the monitor message <strong>MonitorRef</strong> and <strong>Type</strong> are the
same as described earlier, and:</p><dl><dt><strong>Object</strong></dt><dd> <p>The monitored entity, which triggered the event. When monitoring
a local process or port, <strong>Object</strong> will be equal to the
<strong>pid()</strong> or <strong>port()</strong> that was being monitored. When
monitoring process or port by name, <strong>Object</strong> will have format
<strong>{RegisteredName, Node}</strong> where <strong>RegisteredName</strong> is the
name which has been used with <strong>monitor/2</strong> call and
<strong>Node</strong> is local or remote node name (for ports monitored by
name, <strong>Node</strong> is always local node name).</p> </dd><dt><strong>Info</strong></dt><dd> <p>Either the exit reason of the process, <strong>noproc</strong>
(process or port did not exist at the time of monitor creation),
or <strong>noconnection</strong> (no connection to the node where the
monitored process resides). </p></dd></dl><dl><dt>Monitoring a <a name="monitor_process"></a><strong>process</strong></dt><dd> <p>Creates monitor between the current process and another
process identified by <strong><span class="anno">Item</span></strong>, which can be a
<strong>pid()</strong> (local or remote), an atom <strong>RegisteredName</strong> or
a tuple <strong>{RegisteredName, Node}</strong> for a registered process,
located elsewhere.</p> <div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Before ERTS 10.0 (OTP 21.0), monitoring a process could fail with
<strong>badarg</strong> if the monitored process resided on a primitive node
(such as erl_interface or jinterface), where remote process monitoring
is not implemented.</p><p>Now, such a call to <strong>monitor</strong> will instead succeed and a
monitor is created. But the monitor will only supervise the
connection. That is, a <strong>{'DOWN', _, process, _, noconnection}</strong> is
the only message that may be received, as the primitive node have no
way of reporting the status of the monitored process.</p></div> </dd><dt>Monitoring a <a name="monitor_port"></a><strong>port</strong></dt><dd> <p>Creates monitor between the current process and a port
identified by <strong><span class="anno">Item</span></strong>, which can be a
<strong>port()</strong> (only local), an atom <strong>RegisteredName</strong> or
a tuple <strong>{RegisteredName, Node}</strong> for a registered port,
located on this node. Note, that attempt to monitor a remote port
will result in <strong>badarg</strong>.</p> </dd><dt>Monitoring a <a name="monitor_time_offset"></a><strong>time_offset</strong></dt><dd> <p>Monitors changes in
<a href="#time_offset/0">time_offset/0</a>
between
<a href="./time_correction#Erlang_Monotonic_Time">Erlang monotonic time</a> and
<a href="./time_correction#Erlang_System_Time">Erlang system time</a>. One valid <strong><span class="anno">Item</span></strong>
exists in combination with the
<strong>time_offset <span class="anno">Type</span></strong>, namely the atom
<strong>clock_service</strong>. Notice that the atom <strong>clock_service</strong> is
<em>not</em> the registered name of a process. In this
case it serves as an identifier of the runtime system internal
clock service at current runtime system instance.</p> <p>The monitor is triggered when the time offset is changed.
This either if the time offset value is changed, or if the
offset is changed from preliminary to final during
<a href="#system_flag_time_offset">finalization of the time offset</a> when the
<a href="./time_correction#Single_Time_Warp_Mode">single time warp mode</a> is used. When a change from preliminary
to final time offset is made, the monitor is triggered once
regardless of whether the time offset value was changed
or not.</p> <p>If the runtime system is in
<a href="./time_correction#Multi_Time_Warp_Mode">multi time warp mode</a>, the time offset is changed when
the runtime system detects that the
<a href="./time_correction#OS_System_Time">OS system time</a> has changed. The runtime system does, however,
not detect this immediately when it occurs. A task checking
the time offset is scheduled to execute at least once a minute,
so under normal operation this is to be detected within a
minute, but during heavy load it can take longer time.</p> <p>The monitor is <em>not</em> automatically removed
after it has been triggered. That is, repeated changes of
the time offset trigger the monitor repeatedly.</p> <p>When the monitor is triggered a <strong>'CHANGE'</strong> message is
sent to the monitoring process. A <strong>'CHANGE'</strong> message has
the following pattern:</p> <pre><code class="">
{'CHANGE', MonitorRef, Type, Item, NewTimeOffset}</code></pre> <p>where <strong>MonitorRef</strong>, <strong><span class="anno">Type</span></strong>, and
<strong><span class="anno">Item</span></strong> are the same as described above, and
<strong>NewTimeOffset</strong> is the new time offset.</p> <p>When the <strong>'CHANGE'</strong> message has been received you are
guaranteed not to retrieve the old time offset when calling
<a href="#time_offset/0">time_offset/0</a>.
Notice that you can observe the change of the time offset
when calling <strong>erlang:time_offset()</strong> before you
get the <strong>'CHANGE'</strong> message.</p> </dd></dl><p>Making several calls to <strong>monitor/2</strong> for the same
<strong><span class="anno">Item</span></strong> and/or <strong><span class="anno">Type</span></strong> is not
an error; it results in as many independent monitoring instances.</p><p>The monitor functionality is expected to be extended. That is,
other <strong><span class="anno">Type</span></strong>s and <strong><span class="anno">Item</span></strong>s
are expected to be supported in a future release.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>If or when <strong>monitor/2</strong> is extended, other
possible values for <strong>Tag</strong>, <strong>Object</strong>, and
<strong>Info</strong> in the monitor message will be introduced.</p></div><h2>monitor_node/2</h2><p>Monitor the status of a node.</p><p>Monitor the status of the node <strong><span class="anno">Node</span></strong>.
If <strong><span class="anno">Flag</span></strong>
is <strong>true</strong>, monitoring is turned on. If <strong><span class="anno">Flag</span></strong>
is <strong>false</strong>, monitoring is turned off.</p><p>Making several calls to <strong>monitor_node(Node, true)</strong> for
the same <strong><span class="anno">Node</span></strong> is not an error; it results
in as many independent monitoring instances.</p><p>If <strong><span class="anno">Node</span></strong> fails or does not exist, the message
<strong>{nodedown, Node}</strong> is delivered to the process. If a
process has made two calls to <strong>monitor_node(Node, true)</strong>
and <strong><span class="anno">Node</span></strong> terminates, two <strong>nodedown</strong> messages
are delivered to the process. If there is no connection to
<strong><span class="anno">Node</span></strong>, an attempt is made to create one.
If this fails, a <strong>nodedown</strong> message is delivered.</p><p>Nodes connected through hidden connections can be monitored
as any other nodes.</p><p>Failure: <strong>badarg</strong> if the local node is not alive.</p><h2>monitor_node/3</h2><p>Monitor the status of a node.</p><p>Behaves as
<a href="#monitor_node/2">monitor_node/2</a>
except that it allows an
extra option to be specified, namely <strong>allow_passive_connect</strong>.
This option allows the BIF to wait the normal network connection
time-out for the <em>monitored node</em> to connect itself,
even if it cannot be actively connected from this node
(that is, it is blocked). The state where this can be useful
can only be achieved by using the Kernel option
<strong>dist_auto_connect once</strong>. If that option is not
used, option <strong>allow_passive_connect</strong> has no effect.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Option <strong>allow_passive_connect</strong> is used
internally and is seldom needed in applications where the
network topology and the Kernel options in effect
are known in advance.</p></div><p>Failure: <strong>badarg</strong> if the local node is not alive or the
option list is malformed.</p><h2>monotonic_time/0</h2><p>Current Erlang monotonic time.</p><p>Returns the current
<a href="./time_correction#Erlang_Monotonic_Time">Erlang monotonic time</a> in <strong>native</strong>
<a href="#type_time_unit">time unit</a>. This
is a monotonically increasing time since some unspecified point in
time.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>This is a
<a href="./time_correction#Monotonically_Increasing"> monotonically increasing</a> time, but <em>not</em> a
<a href="./time_correction#Strictly_Monotonically_Increasing"> strictly monotonically increasing</a>
time. That is, consecutive calls to
<strong>erlang:monotonic_time/0</strong> can produce the same result.</p><p>Different runtime system instances will use different unspecified
points in time as base for their Erlang monotonic clocks.
That is, it is <em>pointless</em> comparing monotonic times from
different runtime system instances. Different runtime system
instances can also place this unspecified point in time different
relative runtime system start. It can be placed in the future (time
at start is a negative value), the past (time at start is a
positive value), or the runtime system start (time at start is
zero). The monotonic time at runtime system start can be
retrieved by calling
<a href="#system_info_start_time">system_info_start_time</a>.</p></div><h2>monotonic_time/1</h2><p>Current Erlang monotonic time.</p><p>Returns the current
<a href="./time_correction#Erlang_Monotonic_Time">Erlang monotonic time</a> converted
into the <strong><span class="anno">Unit</span></strong> passed as argument.</p><p>Same as calling
<a href="#convert_time_unit/3">convert_time_unit/3</a><strong>(</strong><a href="#monotonic_time/0">monotonic_time/0</a><strong>, native, <span class="anno">Unit</span>)</strong>,
however optimized for commonly used <strong><span class="anno">Unit</span></strong>s.</p><h2>nif_error/1</h2><p>Stop execution with a specified reason.</p><p>Works exactly like
<a href="#error/1">error/1</a>, but
Dialyzer thinks that this BIF will return an arbitrary
term. When used in a stub function for a NIF to generate an
exception when the NIF library is not loaded, Dialyzer
does not generate false warnings.</p><h2>nif_error/2</h2><p>Stop execution with a specified reason.</p><p>Works exactly like
<a href="#error/2">error/2</a>, but
Dialyzer thinks that this BIF will return an arbitrary
term. When used in a stub function for a NIF to generate an
exception when the NIF library is not loaded, Dialyzer
does not generate false warnings.</p><h2>node/0</h2><p>Name of the local node.</p><p>Returns the name of the local node. If the node is not alive,
<strong>nonode@nohost</strong> is returned instead.</p><p>Allowed in guard tests.</p><h2>node/1</h2><p>At which node a pid, port, or reference originates.</p><p>Returns the node where <strong><span class="anno">Arg</span></strong> originates.
<strong><span class="anno">Arg</span></strong> can
be a process identifier, a reference, or a port.
If the local node is not
alive, <strong>nonode@nohost</strong> is returned.</p><p>Allowed in guard tests.</p><h2>nodes/0</h2><p>All visible nodes in the system.</p><p>Returns a list of all visible nodes in the system, except
the local node. Same as <strong>nodes(visible)</strong>.</p><h2>nodes/1</h2><p>All nodes of a certain type in the system.</p><p>Returns a list of nodes according to the argument specified.
The returned result, when the argument is a list, is the list
of nodes satisfying the disjunction(s) of the list elements.</p><p><strong><span class="anno">NodeType</span></strong>s:</p><dl><dt><strong>visible</strong></dt><dd> <p>Nodes connected to this node through normal connections.</p> </dd><dt><strong>hidden</strong></dt><dd> <p>Nodes connected to this node through hidden connections.</p> </dd><dt><strong>connected</strong></dt><dd> <p>All nodes connected to this node.</p> </dd><dt><strong>this</strong></dt><dd> <p>This node.</p> </dd><dt><strong>known</strong></dt><dd> <p>Nodes that are known to this node. That is, connected
nodes and nodes referred to by process identifiers, port
identifiers, and references located on this node.
The set of known nodes is garbage collected. Notice that
this garbage collection can be delayed. For more
information, see
<a href="./erlang#system_info_delayed_node_table_gc">erlang#system_info_delayed_node_table_gc</a>.</p> </dd></dl><p>Some equalities: <strong>[node()] = nodes(this)</strong>,
<strong>nodes(connected) = nodes([visible, hidden])</strong>, and
<strong>nodes() = nodes(visible)</strong>.</p><h2>now/0</h2><p>Elapsed time since 00:00 GMT.</p><ul><li>timestamp</li></ul><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p><em>This function is deprecated. Do not use it.</em></p><p>For more information, see section
<a href="time_correction">Time and Time Correction</a>
in the User's Guide. Specifically, section
<a href="./time_correction#Dos_and_Donts"> Dos and Dont's</a> describes what to use instead of
<strong>erlang:now/0</strong>.</p></div><p>Returns the tuple <strong>{MegaSecs, Secs, MicroSecs}</strong>, which is
the elapsed time since 00:00 GMT, January 1, 1970 (zero hour),
if provided by the underlying OS.
Otherwise some other point in time is chosen. It is also
guaranteed that the following calls to this BIF return
continuously increasing values. Hence, the return value from
<strong>erlang:now/0</strong> can be used to generate unique time stamps.
If it is called in a tight loop on a fast machine,
the time of the node can become skewed.</p><p>Can only be used to check the local time of day if
the time-zone information of the underlying OS is
properly configured.</p><h2>open_port/2</h2><p>Open a port.</p><p>Returns a port identifier as the result of opening a
new Erlang port. A port can be seen as an external Erlang
process.</p><p>The name of the executable as well as the arguments
specifed in <strong>cd</strong>, <strong>env</strong>, <strong>args</strong>, and <strong>arg0</strong> are
subject to Unicode filename translation if the system is running
in Unicode filename mode. To avoid
translation or to force, for example UTF-8, supply the executable
and/or arguments as a binary in the correct
encoding. For details, see the module
<a href="./file">kernel/file</a>, the
function <a href="../kernel/file#native_name_encoding/0">kernel/file#native_name_encoding/0</a> in Kernel, and
the <a href="./unicode_usage">stdlib/unicode_usage</a> User's Guide.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>The characters in the name (if specified as a list) can
only be &gt; 255 if the Erlang virtual machine is started
in Unicode filename translation mode. Otherwise the name
of the executable is limited to the ISO Latin-1
character set.</p></div><p><strong><span class="anno">PortName</span></strong>s:</p><dl><dt><strong>{spawn, <span class="anno">Command</span>}</strong></dt><dd> <p>Starts an external program. <strong><span class="anno">Command</span></strong>
is the name of the external program to be run.
<strong><span class="anno">Command</span></strong>
runs outside the Erlang work space unless an Erlang
driver with the name <strong><span class="anno">Command</span></strong> is found.
If found, that driver is started. A driver runs in the Erlang
work space, which means that it is linked with the Erlang
runtime system.</p> <p>For external programs, <strong>PATH</strong> is searched
(or an equivalent method is used to find programs,
depending on the OS). This is done by invoking
the shell on certain platforms. The first space-separated
token of the command is considered as the
name of the executable (or driver). This (among other
things) makes this option unsuitable for running
programs with spaces in filenames or directory names.
If spaces in executable filenames are desired, use
<strong>{spawn_executable, <span class="anno">Command</span>}</strong> instead.</p> </dd><dt><strong>{spawn_driver, <span class="anno">Command</span>}</strong></dt><dd> <p>Works like <strong>{spawn, <span class="anno">Command</span>}</strong>, but demands
the first (space-separated) token of the command to be the name
of a loaded driver. If no driver with that name is loaded, a
<strong>badarg</strong> error is raised.</p> </dd><dt><strong>{spawn_executable, <span class="anno">FileName</span>}</strong></dt><dd> <p>Works like <strong>{spawn, <span class="anno">FileName</span>}</strong>, but only runs
external executables. <strong><span class="anno">FileName</span></strong> in its whole
is used as the name of the executable, including any spaces.
If arguments are to be passed, the
<strong><span class="anno">PortSettings</span></strong>
<strong>args</strong> and <strong>arg0</strong> can be used.</p> <p>The shell is usually not invoked to start the
program, it is executed directly. <strong>PATH</strong> (or
equivalent) is not searched. To find a program
in <strong>PATH</strong> to execute, use
<a href="../kernel/os#find_executable/1">kernel/os#find_executable/1</a>.</p> <p>Only if a shell script or <strong>.bat</strong> file is
executed, the appropriate command interpreter is
invoked implicitly, but there is still no
command-argument expansion or implicit <strong>PATH</strong> search.</p> <p>If <strong><span class="anno">FileName</span></strong> cannot be run, an error
exception is raised, with the POSIX error code as the reason.
The error reason can differ between OSs.
Typically the error <strong>enoent</strong> is raised when an
attempt is made to run a program that is not found and
<strong>eacces</strong> is raised when the specified file is not
executable.</p> </dd><dt><strong>{fd, <span class="anno">In</span>, <span class="anno">Out</span>}</strong></dt><dd> <p>Allows an Erlang process to access any currently opened
file descriptors used by Erlang. The file descriptor
<strong><span class="anno">In</span></strong> can be used for standard input, and the
file descriptor <strong><span class="anno">Out</span></strong> for standard output.
It is only used for various servers in the Erlang OS (<strong>shell</strong>
and <strong>user</strong>). Hence, its use is limited.</p> </dd></dl><p><strong><span class="anno">PortSettings</span></strong> is a list of settings for the port.
The valid settings are as follows:</p><dl><dt><strong>{packet, <span class="anno">N</span>}</strong></dt><dd> <p>Messages are preceded by their length, sent in
<strong><span class="anno">N</span></strong>
bytes, with the most significant byte first. The valid values
for <strong>N</strong> are 1, 2, and 4.</p> </dd><dt><strong>stream</strong></dt><dd> <p>Output messages are sent without packet lengths. A
user-defined protocol must be used between the Erlang
process and the external object.</p> </dd><dt><strong>{line, <span class="anno">L</span>}</strong></dt><dd> <p>Messages are delivered on a per line basis. Each line
(delimited by the OS-dependent newline sequence) is
delivered in a single message. The message data format
is <strong>{Flag, Line}</strong>, where <strong>Flag</strong> is
<strong>eol</strong> or <strong>noeol</strong>, and <strong>Line</strong> is the
data delivered (without the newline sequence).</p> <p><strong><span class="anno">L</span></strong> specifies the maximum line length in bytes.
Lines longer than this are delivered in more than one
message, with <strong>Flag</strong> set to <strong>noeol</strong> for all
but the last message. If end of file is encountered
anywhere else than immediately following a newline
sequence, the last line is also delivered with
<strong>Flag</strong> set to <strong>noeol</strong>. Otherwise
lines are delivered with <strong>Flag</strong> set to <strong>eol</strong>.</p> <p>The <strong>{packet, <span class="anno">N</span>}</strong> and <strong>{line, <span class="anno">L</span>}</strong> settings are mutually exclusive.</p> </dd><dt><strong>{cd, <span class="anno">Dir</span>}</strong></dt><dd> <p>Only valid for <strong>{spawn, <span class="anno">Command</span>}</strong> and
<strong>{spawn_executable, <span class="anno">FileName</span>}</strong>.
The external program starts using <strong><span class="anno">Dir</span></strong> as its
working directory. <strong><span class="anno">Dir</span></strong> must be a string.</p> </dd><dt><strong>{env, <span class="anno">Env</span>}</strong></dt><dd> <p>
Types:<br/>
Â Â <strong><span class="anno">Name</span> = </strong><a href="../kernel/os#type-env_var_name">kernel/os#type-env_var_name</a><br/>
Â Â <strong><span class="anno">Val</span> = </strong><a href="../kernel/os#type-env_var_value">kernel/os#type-env_var_value</a><strong> | false</strong><br/>
Â Â <strong>Env = [{<span class="anno">Name</span>, <span class="anno">Val</span>}]</strong>
</p> <p>Only valid for <strong>{spawn, <span class="anno">Command</span>}</strong>, and
<strong>{spawn_executable, <span class="anno">FileName</span>}</strong>.
The environment of the started process is extended using
the environment specifications in <strong><span class="anno">Env</span></strong>.</p> <p><strong><span class="anno">Env</span></strong> is to be a list of tuples
<strong>{<span class="anno">Name</span>, <span class="anno">Val</span>}</strong>,
where <strong><span class="anno">Name</span></strong> is the name of an
environment variable, and <strong><span class="anno">Val</span></strong> is the
value it is to have in the spawned
port process. Both <strong><span class="anno">Name</span></strong> and
<strong><span class="anno">Val</span></strong> must be strings. The one
exception is <strong><span class="anno">Val</span></strong> being the atom
<strong>false</strong> (in analogy with
<a href="../kernel/os#getenv/1">kernel/os#getenv/1</a>,
which removes the environment variable.
</p> <p>
For information about encoding requirements, see documentation
of the types for <strong><span class="anno">Name</span></strong> and
<strong><span class="anno">Val</span></strong>.
</p> </dd><dt><strong>{args, [ string() | binary() ]}</strong></dt><dd> <p>Only valid for <strong>{spawn_executable, <span class="anno">FileName</span>}</strong>
and specifies arguments to the executable. Each argument
is specified as a separate string and (on Unix) eventually
ends up as one element each in the argument vector. On
other platforms, a similar behavior is mimicked.</p> <p>The arguments are not expanded by the shell before
they are supplied to the executable. Most notably this
means that file wildcard expansion does not occur.
To expand wildcards for the arguments, use
<a href="../stdlib/filelib#wildcard/1">stdlib/filelib#wildcard/1</a>.
Notice that even if
the program is a Unix shell script, meaning that the
shell ultimately is invoked, wildcard expansion
does not occur, and the script is provided with the
untouched arguments. On Windows, wildcard expansion
is always up to the program itself, therefore this is
not an issue.</p> <p>The executable name (also known as <strong>argv[0]</strong>)
is not to be specified in this list. The proper executable name
is automatically used as <strong>argv[0]</strong>, where applicable.</p> <p>If you explicitly want to set the
program name in the argument vector, option <strong>arg0</strong>
can be used.</p> </dd><dt><strong>{arg0, string() | binary()}</strong></dt><dd> <p>Only valid for <strong>{spawn_executable, <span class="anno">FileName</span>}</strong>
and explicitly specifies the program name argument when
running an executable. This can in some circumstances,
on some OSs, be desirable. How the program
responds to this is highly system-dependent and no specific
effect is guaranteed.</p> </dd><dt><strong>exit_status</strong></dt><dd> <p>Only valid for <strong>{spawn, <span class="anno">Command</span>}</strong>, where
<strong><span class="anno">Command</span></strong> refers to an external program, and
for <strong>{spawn_executable, <span class="anno">FileName</span>}</strong>.</p> <p>When the external process connected to the port exits, a
message of the form <strong>{Port,{exit_status,Status}}</strong> is
sent to the connected process, where <strong>Status</strong> is the
exit status of the external process. If the program
aborts on Unix, the same convention is used as the shells
do (that is, 128+signal).</p> <p>If option <strong>eof</strong> is specified also, the messages <strong>eof</strong>
and <strong>exit_status</strong> appear in an unspecified order.</p> <p>If the port program closes its <strong>stdout</strong> without exiting,
option <strong>exit_status</strong> does not work.</p> </dd><dt><strong>use_stdio</strong></dt><dd> <p>Only valid for <strong>{spawn, <span class="anno">Command</span>}</strong> and
<strong>{spawn_executable, <span class="anno">FileName</span>}</strong>. It
allows the standard input and output (file descriptors 0
and 1) of the spawned (Unix) process for communication
with Erlang.</p> </dd><dt><strong>nouse_stdio</strong></dt><dd> <p>The opposite of <strong>use_stdio</strong>. It uses file descriptors
3 and 4 for communication with Erlang.</p> </dd><dt><strong>stderr_to_stdout</strong></dt><dd> <p>Affects ports to external programs. The executed program
gets its standard error file redirected to its standard
output file. <strong>stderr_to_stdout</strong> and
<strong>nouse_stdio</strong> are mutually exclusive.</p> </dd><dt><strong>overlapped_io</strong></dt><dd> <p>Affects ports to external programs on Windows only. The
standard input and standard output handles of the port program
are, if this option is supplied, opened with flag
<strong>FILE_FLAG_OVERLAPPED</strong>, so that the port program can
(and must) do
overlapped I/O on its standard handles. This is not normally
the case for simple port programs, but an option of value for the
experienced Windows programmer. <em>On all other platforms, this option is silently discarded.</em></p> </dd><dt><strong>in</strong></dt><dd> <p>The port can only be used for input.</p> </dd><dt><strong>out</strong></dt><dd> <p>The port can only be used for output.</p> </dd><dt><strong>binary</strong></dt><dd> <p>All I/O from the port is binary data objects as opposed
to lists of bytes.</p> </dd><dt><strong>eof</strong></dt><dd> <p>The port is not closed at the end of the file and does not
produce an exit signal. Instead, it remains open and
a <strong>{Port, eof}</strong> message is sent to the process
holding the port.</p> </dd><dt><strong>hide</strong></dt><dd> <p>When running on Windows, suppresses creation of a new
console window when spawning the port program.
(This option has no effect on other platforms.)</p> </dd><dt><strong>{parallelism, Boolean}</strong></dt><dd> <a name="open_port_parallelism"></a> <p>Sets scheduler hint for port parallelism. If set to
<strong>true</strong>, the virtual machine schedules port tasks;
when doing so, it improves parallelism in the system. If set
to <strong>false</strong>, the virtual machine tries to
perform port tasks immediately, improving latency at the
expense of parallelism. The default can be set at system startup
by passing command-line argument
<a href="./erl#+spp">erl#+spp</a> to
<strong>erl(1)</strong>.</p> </dd></dl><p>Default is <strong>stream</strong> for all port types and
<strong>use_stdio</strong> for spawned ports.</p><p>Failure: if the port cannot be opened, the exit reason is
<strong>badarg</strong>, <strong>system_limit</strong>, or the POSIX error code that
most closely describes the error, or <strong>einval</strong> if no POSIX
code is appropriate:</p><dl><dt><strong>badarg</strong></dt><dd>Bad input arguments to <strong>open_port</strong>. </dd><dt><strong>system_limit</strong></dt><dd>All available ports in the Erlang emulator are in use. </dd><dt><strong>enomem</strong></dt><dd>Not enough memory to create the port. </dd><dt><strong>eagain</strong></dt><dd>No more available OS processes. </dd><dt><strong>enametoolong</strong></dt><dd>Too long external command. </dd><dt><strong>emfile</strong></dt><dd>No more available file descriptors (for the OS process that the Erlang emulator runs in). </dd><dt><strong>enfile</strong></dt><dd>Full file table (for the entire OS). </dd><dt><strong>eacces</strong></dt><dd><strong>Command</strong> specified in <strong>{spawn_executable, Command}</strong> does not point out an executable file. </dd><dt><strong>enoent</strong></dt><dd><strong><span class="anno">FileName</span></strong> specified in <strong>{spawn_executable, <span class="anno">FileName</span>}</strong> does not point out an existing file. </dd></dl><p>During use of a port opened using <strong>{spawn, Name}</strong>,
<strong>{spawn_driver, Name}</strong>, or <strong>{spawn_executable, Name}</strong>,
errors arising when sending messages to it are reported to
the owning process using signals of the form
<strong>{'EXIT', Port, PosixCode}</strong>. For the possible values of
<strong>PosixCode</strong>, see
<a href="./file">kernel/file</a>.</p><p>The maximum number of ports that can be open at the same
time can be configured by passing command-line flag
<a href="./erl#max_ports">erl#max_ports</a> to
<strong>erl(1)</strong>.</p><h2>phash/2</h2><p>Portable hash function.</p><dl><dt>Range</dt><dd>Range = 1..2^32, Hash = 1..Range</dd></dl><p>Portable hash function that gives the same hash for
the same Erlang term regardless of machine architecture and
ERTS version (the BIF was introduced in ERTS 4.9.1.1).
The function returns a hash value for
<strong><span class="anno">Term</span></strong> within the range
<strong>1..<span class="anno">Range</span></strong>. The maximum value for
<strong><span class="anno">Range</span></strong> is 2^32.</p><h2>phash2/1</h2><h2>phash2/2</h2><p>Portable hash function.</p><dl><dt>Range</dt><dd>1..2^32</dd></dl><dl><dt>Hash</dt><dd>0..Range-1</dd></dl><p>Portable hash function that gives the same hash for
the same Erlang term regardless of machine architecture and
ERTS version (the BIF was introduced in ERTS 5.2).
The function returns a hash value for
<strong><span class="anno">Term</span></strong> within the range
<strong>0..<span class="anno">Range</span>-1</strong>. The maximum value for
<strong><span class="anno">Range</span></strong> is 2^32. When without argument
<strong><span class="anno">Range</span></strong>, a value in the range
0..2^27-1 is returned.</p><p>This BIF is always to be used for hashing terms. It
distributes small integers better than <strong>phash/2</strong>, and
it is faster for bignums and binaries.</p><p>Notice that the range <strong>0..<span class="anno">Range</span>-1</strong> is
different from the range of <strong>phash/2</strong>, which is
<strong>1..<span class="anno">Range</span></strong>.</p><h2>pid_to_list/1</h2><p>Text representation of a pid.</p><p>Returns a string corresponding to the text
representation of <strong><span class="anno">Pid</span></strong>.</p><h2>port_call/3</h2><p>Perform a synchronous call to a port with term data.</p><p>Performs a synchronous call to a port. The meaning of
<strong><span class="anno">Operation</span></strong> and <strong><span class="anno">Data</span></strong>
depends on the port, that is,
on the port driver. Not all port drivers support this feature.</p><p><strong><span class="anno">Port</span></strong> is a port identifier,
referring to a driver.</p><p><strong><span class="anno">Operation</span></strong> is an integer, which is passed on to
the driver.</p><p><strong><span class="anno">Data</span></strong> is any Erlang term. This data is converted
to binary term format and sent to the port.</p><p>Returns a term from the driver. The meaning of the returned
data also depends on the port driver.</p><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">Port</span></strong> is not an identifier of an open port, or the registered name of an open port. If the calling process was previously linked to the closed port, identified by <strong><span class="anno">Port</span></strong>, the exit signal from the port is guaranteed to be delivered before this <strong>badarg</strong> exception occurs. </dd><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">Operation</span></strong> does not fit in a 32-bit integer. </dd><dt><strong>badarg</strong></dt><dd> If the port driver does not support synchronous control operations. </dd><dt><strong>badarg</strong></dt><dd> <p>If the port driver so decides for any reason (probably
something wrong with <strong><span class="anno">Operation</span></strong>
or <strong><span class="anno">Data</span></strong>).</p> <div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>Do not call <strong>port_call</strong> with an unknown
<strong><span class="anno">Port</span></strong> identifier and expect <strong>badarg</strong>
exception. Any undefined behavior is possible (including node
crash) depending on how the port driver interprets the supplied
arguments.</p></div> </dd></dl><h2>port_close/1</h2><p>Close an open port.</p><p>Closes an open port. Roughly the same as <strong><span class="anno">Port</span> ! {self(), close}</strong> except for the error behavior
(see below), being synchronous, and that the port does
<em>not</em> reply with <strong>{Port, closed}</strong>. Any process can
close a port with <strong>port_close/1</strong>, not only the port owner
(the connected process). If the calling process is linked to
the port identified by <strong><span class="anno">Port</span></strong>, the exit
signal from the port is guaranteed to be delivered before
<strong>port_close/1</strong> returns.</p><p>For comparison: <strong><span class="anno">Port</span> ! {self(), close}</strong>
only fails with <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> does
not refer to a port or a process. If <strong><span class="anno">Port</span></strong>
is a closed port, nothing happens. If <strong><span class="anno">Port</span></strong>
is an open port and the calling process is the port owner,
the port replies with <strong>{Port, closed}</strong> when all buffers
have been flushed and the port really closes. If the calling
process is not the port owner, the <em>port owner</em> fails
with <strong>badsig</strong>.</p><p>Notice that any process can close a port using
<strong><span class="anno">Port</span> ! {PortOwner, close}</strong> as if it itself was
the port owner, but the reply always goes to the port owner.</p><p>As from Erlang/OTP R16,
<strong><span class="anno">Port</span> ! {PortOwner, close}</strong> is truly
asynchronous. Notice that this operation has always been
documented as an asynchronous operation, while the underlying
implementation has been synchronous. <strong>port_close/1</strong> is
however still fully synchronous because of its error behavior.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not an
identifier of an open port, or the registered name of an open port.
If the calling process was previously linked to the closed
port, identified by <strong><span class="anno">Port</span></strong>, the exit
signal from the port is guaranteed to be delivered before
this <strong>badarg</strong> exception occurs.</p><h2>port_command/2</h2><p>Send data to a port.</p><p>Sends data to a port. Same as
<strong><span class="anno">Port</span> ! {PortOwner, {command, Data}}</strong> except for
the error behavior and being synchronous (see below). Any process
can send data to a port with <strong>port_command/2</strong>, not only the
port owner (the connected process).</p><p>For comparison: <strong><span class="anno">Port</span> ! {PortOwner, {command, Data}}</strong> only fails with <strong>badarg</strong> if <strong><span class="anno">Port</span></strong>
does not refer to a port or a process. If <strong><span class="anno">Port</span></strong> is
a closed port, the data message disappears 
without a sound. If <strong><span class="anno">Port</span></strong> is open and the calling
process is not the port owner, the <em>port owner</em> fails
with <strong>badsig</strong>. The port owner fails with <strong>badsig</strong>
also if <strong><span class="anno">Data</span></strong> is an invalid I/O list.</p><p>Notice that any process can send to a port using
<strong><span class="anno">Port</span> ! {PortOwner, {command, <span class="anno">Data</span>}}</strong>
as if it itself was the port owner.</p><p>If the port is busy, the calling process is suspended
until the port is not busy any more.</p><p>As from Erlang/OTP R16,
<strong><span class="anno">Port</span> ! {PortOwner, {command, Data}}</strong>
is truly asynchronous. Notice that this operation has always been
documented as an asynchronous operation, while the underlying
implementation has been synchronous. <strong>port_command/2</strong> is
however still fully synchronous because of its error behavior.</p><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd> <p>If <strong><span class="anno">Port</span></strong> is not an identifier of an open
port, or the registered name of an open port. If the
calling process was previously linked to the closed port,
identified by <strong><span class="anno">Port</span></strong>, the exit signal
from the port is guaranteed to be delivered before this
<strong>badarg</strong> exception occurs.</p> </dd><dt><strong>badarg</strong></dt><dd> <p>If <strong><span class="anno">Data</span></strong> is an invalid I/O list.</p> </dd></dl><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>Do not send data to an unknown port. Any undefined behavior is
possible (including node crash) depending on how the port driver
interprets the data.</p></div><h2>port_command/3</h2><p>Send data to a port.</p><p>Sends data to a port. <strong>port_command(Port, Data, [])</strong>
equals <strong>port_command(Port, Data)</strong>.</p><p>If the port command is aborted, <strong>false</strong> is returned,
otherwise <strong>true</strong>.</p><p>If the port is busy, the calling process is suspended
until the port is not busy anymore.</p><p><strong><span class="anno">Option</span></strong>s:</p><dl><dt><strong>force</strong></dt><dd>The calling process is not suspended if the port is busy, instead the port command is forced through. The call fails with a <strong>notsup</strong> exception if the driver of the port does not support this. For more information, see driver flag <a href="./driver_entry#driver_flags">driver_entry#driver_flags</a>. </dd><dt><strong>nosuspend</strong></dt><dd>The calling process is not suspended if the port is busy, instead the port command is aborted and <strong>false</strong> is returned.  </dd></dl><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>More options can be added in a future release.</p></div><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">Port</span></strong> is not an identifier of an open port, or the registered name of an open port. If the calling process was previously linked to the closed port, identified by <strong><span class="anno">Port</span></strong>, the exit signal from the port is guaranteed to be delivered before this <strong>badarg</strong> exception occurs. </dd><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">Data</span></strong> is an invalid I/O list. </dd><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">OptionList</span></strong> is an invalid option list. </dd><dt><strong>notsup</strong></dt><dd> If option <strong>force</strong> has been passed, but the driver of the port does not allow forcing through a busy port. </dd></dl><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>Do not send data to an unknown port. Any undefined behavior is
possible (including node crash) depending on how the port driver
interprets the data.</p></div><h2>port_connect/2</h2><p>Set the owner of a port.</p><p>Sets the port owner (the connected port) to <strong><span class="anno">Pid</span></strong>.
Roughly the same as
<strong><span class="anno">Port</span> ! {Owner, {connect, <span class="anno">Pid</span>}}</strong>
except for the following:</p><ul><li> <p>The error behavior differs, see below.</p> </li><li> <p>The port does <em>not</em> reply with
<strong>{Port,connected}</strong>.</p> </li><li> <p><strong>port_connect/1</strong> is synchronous, see below.</p> </li><li> <p>The new port owner gets linked to the port.</p> </li></ul><p>The old port owner stays linked to the port and must call
<strong>unlink(Port)</strong> if this is not desired. Any process can
set the port owner to be any process with
<strong>port_connect/2</strong>.</p><p>For comparison:
<strong><span class="anno">Port</span> ! {self(), {connect, <span class="anno">Pid</span>}}</strong>
only fails with <strong>badarg</strong> if <strong><span class="anno">Port</span></strong>
does not refer to a port or a process. If
<strong><span class="anno">Port</span></strong> is a closed port, nothing happens.
If <strong><span class="anno">Port</span></strong>
is an open port and the calling process is the port owner,
the port replies with <strong>{Port, connected}</strong> to the old
port owner. Notice that the old port owner is still linked to
the port, while the new is not. If <strong><span class="anno">Port</span></strong> is an open
port and the calling process is not the port owner,
the <em>port owner</em> fails with <strong>badsig</strong>. The port
owner fails with <strong>badsig</strong> also if <strong><span class="anno">Pid</span></strong> is not
an existing local process identifier.</p><p>Notice that any process can set the port owner using
<strong><span class="anno">Port</span> ! {PortOwner, {connect, <span class="anno">Pid</span>}}</strong>
as if it itself was the port owner, but the reply always goes to
the port owner.</p><p>As from Erlang/OTP R16,
<strong><span class="anno">Port</span> ! {PortOwner, {connect, <span class="anno">Pid</span>}}</strong>
is truly asynchronous. Notice that this operation has always been
documented as an asynchronous operation, while the underlying
implementation has been synchronous. <strong>port_connect/2</strong> is
however still fully synchronous because of its error behavior.</p><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">Port</span></strong> is not an identifier of an open port, or the registered name of an open port. If the calling process was previously linked to the closed port, identified by <strong><span class="anno">Port</span></strong>, the exit signal from the port is guaranteed to be delivered before this <strong>badarg</strong> exception occurs. </dd><dt><strong>badarg</strong></dt><dd>If the process identified by <strong>Pid</strong> is not an existing local process.</dd></dl><h2>port_control/3</h2><p>Perform a synchronous control operation on a port.</p><p>Performs a synchronous control operation on a port.
The meaning of <strong><span class="anno">Operation</span></strong> and
<strong><span class="anno">Data</span></strong> depends on
the port, that is, on the port driver. Not all port drivers
support this control feature.</p><p>Returns a list of integers in the range 0..255, or a
binary, depending on the port driver. The meaning of
the returned data also depends on the port driver.</p><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">Port</span></strong> is not an open port or the registered name of an open port. </dd><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">Operation</span></strong> cannot fit in a 32-bit integer. </dd><dt><strong>badarg</strong></dt><dd> If the port driver does not support synchronous control operations. </dd><dt><strong>badarg</strong></dt><dd> If the port driver so decides for any reason (probably something wrong with <strong><span class="anno">Operation</span></strong> or <strong><span class="anno">Data</span></strong>). <div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>Do not call <strong>port_control/3</strong> with an unknown
<strong><span class="anno">Port</span></strong> identifier and expect <strong>badarg</strong>
exception. Any undefined behavior is possible (including node
crash) depending on how the port driver interprets the supplied
arguments.</p></div> </dd></dl><h2>port_info/1</h2><p>Information about a port.</p><p>Returns a list containing tuples with information about
<strong><span class="anno">Port</span></strong>, or <strong>undefined</strong> if the port is not open.
The order of the tuples is undefined, and all the
tuples are not mandatory.
If the port is closed and the calling process
was previously linked to the port, the exit signal from the
port is guaranteed to be delivered before <strong>port_info/1</strong>
returns <strong>undefined</strong>.</p><p>The result contains information about the following
<strong>Item</strong>s:</p><ul><li><strong>registered_name</strong> (if the port has a registered name)</li><li><strong>id</strong></li><li><strong>connected</strong></li><li><strong>links</strong></li><li><strong>name</strong></li><li><strong>input</strong></li><li><strong>output</strong></li></ul><p>For more information about the different <strong>Item</strong>s, see
<a href="#port_info/2">port_info/2</a>.</p><p>Failure: <strong>badarg</strong> if <strong>Port</strong> is not a local port
identifier, or an atom.</p><h2>port_info/2</h2><p>Information about the connected process of a port.</p><p><strong><span class="anno">Pid</span></strong> is the process identifier of the process
connected to the port.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_info/2</h2><p>Information about the internal index of a port.</p><p><strong><span class="anno">Index</span></strong> is the internal index of the port. This
index can be used to separate ports.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_info/2</h2><p>Information about the input of a port.</p><p><strong><span class="anno">Bytes</span></strong> is the total number of bytes
read from the port.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_info/2</h2><p>Information about the links of a port.</p><p><strong><span class="anno">Pids</span></strong> is a list of the process identifiers
of the processes that the port is linked to.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_info/2</h2><p>Information about the locking of a port.</p><p><strong><span class="anno">Locking</span></strong> is one of the following:</p><ul><li><strong>port_level</strong> (port-specific locking)</li><li><strong>driver_level</strong> (driver-specific locking)</li></ul><p>Notice that these results are highly implementation-specific
and can change in a future release.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_info/2</h2><p>Information about the memory size of a port.</p><a name="port_info_memory"></a><p><strong><span class="anno">Bytes</span></strong> is the total number of
bytes allocated for this port by the runtime system. The
port itself can have allocated memory that is not
included in <strong><span class="anno">Bytes</span></strong>.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_info/2</h2><p>Information about the monitors of a port.</p><p><strong><span class="anno">Monitors</span></strong> represent processes monitored by
this port.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_info/2</h2><p>Which processes are monitoring this port.</p><p>Returns list of pids that are monitoring given port at the
moment.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_info/2</h2><p>Information about the name of a port.</p><p><strong><span class="anno">Name</span></strong> is the command name set by
<a href="#open_port/2">open_port/2</a>.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_info/2</h2><p>Information about the OS pid of a port.</p><p><strong><span class="anno">OsPid</span></strong> is the process identifier (or equivalent)
of an OS process created with
<a href="#open_port/2">open_port/2</a>. If the port is not the result of
spawning an OS process, the value is <strong>undefined</strong>.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_info/2</h2><p>Information about the output of a port.</p><p><strong><span class="anno">Bytes</span></strong> is the total number of bytes written
to the port from Erlang processes using
<a href="#port_command/2">port_command/2</a>,
<a href="#port_command/3">port_command/3</a>,
or <strong><span class="anno">Port</span> ! {Owner, {command, Data}</strong>.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_info/2</h2><p>Information about the parallelism hint of a port.</p><p><strong><span class="anno">Boolean</span></strong> corresponds to the port parallelism
hint used by this port. For more information, see option
<a href="#open_port_parallelism">open_port_parallelism</a>
of <a href="#open_port/2">open_port/2</a>.</p><h2>port_info/2</h2><p>Information about the queue size of a port.</p><p><strong><span class="anno">Bytes</span></strong> is the total number
of bytes queued by the port using the ERTS driver queue
implementation.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_info/2</h2><p>Information about the registered name of a port.</p><p><strong><span class="anno">RegisteredName</span></strong> is the registered name of
the port. If the port has no registered name, <strong>[]</strong> is
returned.</p><p>If the port identified by <strong><span class="anno">Port</span></strong> is not open,
<strong>undefined</strong> is returned. If the port is closed and the
calling process was previously linked to the port, the exit
signal from the port is guaranteed to be delivered before
<strong>port_info/2</strong> returns <strong>undefined</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Port</span></strong> is not a local
port identifier, or an atom.</p><h2>port_to_list/1</h2><p>Text representation of a port identifier.</p><p>Returns a string corresponding to the text
representation of the port identifier <strong><span class="anno">Port</span></strong>.</p><h2>ports/0</h2><p>List all existing ports.</p><p>Returns a list of port identifiers corresponding to all the
ports existing on the local node.</p><p>Notice that an exiting port exists, but is not open.</p><h2>pre_loaded/0</h2><p>List all preloaded modules.</p><p>Returns a list of Erlang modules that are preloaded in
the system. As all loading of code is done through the file
system, the file system must have been loaded previously.
Hence, at least the module <strong>init</strong> must be preloaded.</p><h2>process_display/2</h2><p>Write information about a local process on standard error. </p><p>Writes information about the local process <strong><span class="anno">Pid</span></strong> on
standard error. The only allowed value for the atom
<strong><span class="anno">Type</span></strong> is <strong>backtrace</strong>, which shows the contents
of the call stack, including information about the call chain, with
the current function printed first. The format of the output
is not further defined.</p><h2>process_flag/2</h2><p>Set process flag trap_exit for the calling process.</p><p>When <strong>trap_exit</strong> is set to <strong>true</strong>, exit signals
arriving to a process are converted to <strong>{'EXIT', From, Reason}</strong>
messages, which can be received as ordinary
messages. If <strong>trap_exit</strong> is set to <strong>false</strong>, the
process exits if it receives an exit signal other than
<strong>normal</strong> and the exit signal is propagated to its
linked processes. Application processes are normally
not to trap exits.</p><p>Returns the old value of the flag.</p><p>See also <a href="#exit/2">exit/2</a>.</p><h2>process_flag/2</h2><p>Set process flag error_handler for the calling process. </p><p>Used by a process to redefine the error handler
for undefined function calls and undefined registered
processes. Inexperienced users are not to use this flag,
as code auto-loading depends on the correct
operation of the error handling module.</p><p>Returns the old value of the flag.</p><h2>process_flag/2</h2><p>Set process flag min_heap_size for the calling process. </p><p>Changes the minimum heap size for the calling process.</p><p>Returns the old value of the flag.</p><h2>process_flag/2</h2><p>Set process flag min_bin_vheap_size for the calling process. </p><p>Changes the minimum binary virtual heap size for the calling
process.</p><p>Returns the old value of the flag.</p><h2>process_flag/2</h2><p>Set process flag max_heap_size for the calling process. </p><ul><li>max_heap_size</li></ul><p>This flag sets the maximum heap size for the calling process.
If <strong><span class="anno">MaxHeapSize</span></strong> is an integer, the system default
values for <strong>kill</strong> and <strong>error_logger</strong> are used.
</p><dl><dt><strong>size</strong></dt><dd> <p>The maximum size in words of the process. If set to zero, the
heap size limit is disabled. <strong>badarg</strong> is be thrown if the
value is smaller than <a href="#process_flag_min_heap_size">process_flag_min_heap_size</a>. The size check is only done when
a garbage collection is triggered.</p> <p><strong>size</strong> is the entire heap of the process when garbage collection
is triggered. This includes all generational heaps, the process stack, 
any <a href="#process_flag_message_queue_data"> messages that are considered to be part of the heap</a>, and any
extra memory that the garbage collector needs during collection.</p> <p><strong>size</strong> is the same as can be retrieved using
<a href="#process_info_total_heap_size">process_info_total_heap_size</a>,
or by adding <strong>heap_block_size</strong>, <strong>old_heap_block_size</strong>
and <strong>mbuf_size</strong> from <a href="#process_info_garbage_collection_info">process_info_garbage_collection_info</a>.</p> </dd><dt><strong>kill</strong></dt><dd> <p>When set to <strong>true</strong>, the runtime system sends an
untrappable exit signal with reason <strong>kill</strong> to the process
if the maximum heap size is reached. The garbage collection
that triggered the <strong>kill</strong> is not completed, instead the
process exits as soon as possible. When set to <strong>false</strong>,
no exit signal is sent to the process, instead it continues
executing.</p> <p>If <strong>kill</strong> is not defined in the map,
the system default will be used. The default system default
is <strong>true</strong>. It can be changed by either option
<a href="./erl#+hmaxk">+hmaxk</a> in <strong>erl(1)</strong>,
or <a href="#system_flag_max_heap_size">system_flag_max_heap_size</a>.</p> </dd><dt><strong>error_logger</strong></dt><dd> <p>When set to <strong>true</strong>, the runtime system logs an
error event via <a href="./logger">kernel/logger</a>,
containing details about the process when the maximum
heap size is reached. One log event is sent
each time the limit is reached.</p> <p>If <strong>error_logger</strong> is not defined in the map, the system
default is used. The default system default is <strong>true</strong>.
It can be changed by either the option
<a href="./erl#+hmaxel">+hmaxel</a> int <strong>erl(1)</strong>,
or <a href="#system_flag_max_heap_size">system_flag_max_heap_size</a>.</p> </dd></dl><p>The heap size of a process is quite hard to predict, especially the
amount of memory that is used during the garbage collection. When
contemplating using this option, it is recommended to first run
it in production with <strong>kill</strong> set to <strong>false</strong> and inspect
the log events to see what the normal peak sizes
of the processes in the system is and then tune the value
accordingly.
</p><h2>process_flag/2</h2><p>Set process flag message_queue_data for the calling process. </p><ul><li>message_queue_data</li></ul><p>This flag determines how messages in the message queue
are stored, as follows:</p><dl><dt><strong>off_heap</strong></dt><dd> <p><em>All</em> messages in the message queue will be stored
outside of the process heap. This implies that <em>no</em>
messages in the message queue will be part of a garbage
collection of the process.</p> </dd><dt><strong>on_heap</strong></dt><dd> <p>All messages in the message queue will eventually be
placed on heap. They can however temporarily be stored
off heap. This is how messages always have been stored
up until ERTS 8.0.</p> </dd></dl><p>The default <strong>message_queue_data</strong> process flag is determined
by command-line argument <a href="./erl#+hmqd">erl#+hmqd</a> in <strong>erl(1)</strong>.</p><p>If the process potentially can get many messages in its queue,
you are advised to set the flag to <strong>off_heap</strong>. This
because a garbage collection with many messages placed on
the heap can become extremely expensive and the process can
consume large amounts of memory. Performance of the
actual message passing is however generally better when not
using flag <strong>off_heap</strong>.</p><p>When changing this flag messages will be moved. This work
has been initiated but not completed when this function
call returns.</p><p>Returns the old value of the flag.</p><h2>process_flag/2</h2><p>Set process flag priority for the calling process.</p><ul><li>priority_level</li></ul><p>
Sets the process priority. <strong><span class="anno">Level</span></strong> is an atom.
Four priority levels exist: <strong>low</strong>,
<strong>normal</strong>, <strong>high</strong>, and <strong>max</strong>. Default
is <strong>normal</strong>.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Priority level <strong>max</strong> is reserved for internal use in
the Erlang runtime system, and is <em>not</em> to be used
by others.</p></div><p>Internally in each priority level, processes are scheduled
in a round robin fashion.</p><p>Execution of processes on priority <strong>normal</strong> and
<strong>low</strong> are interleaved. Processes on priority
<strong>low</strong> are selected for execution less
frequently than processes on priority <strong>normal</strong>.</p><p>When runnable processes on priority <strong>high</strong> exist,
no processes on priority <strong>low</strong> or <strong>normal</strong> are
selected for execution. Notice however that this does
<em>not</em> mean that no processes on priority <strong>low</strong>
or <strong>normal</strong> can run when processes
are running on priority <strong>high</strong>. When using multiple
schedulers, more processes can be running
in parallel than processes on priority <strong>high</strong>. That is,
a <strong>low</strong> and a <strong>high</strong> priority process can
execute at the same time.</p><p>When runnable processes on priority <strong>max</strong> exist,
no processes on priority <strong>low</strong>, <strong>normal</strong>, or
<strong>high</strong> are selected for execution. As with priority
<strong>high</strong>, processes on lower priorities can
execute in parallel with processes on priority <strong>max</strong>.</p><p>Scheduling is pre-emptive. Regardless of priority, a process
is pre-empted when it has consumed more than a certain number
of reductions since the last time it was selected for
execution.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Do not depend on the scheduling
to remain exactly as it is today. Scheduling is likely to be
changed in a future release to use available processor cores better.</p></div><p>There is <em>no</em> automatic mechanism for
avoiding priority inversion, such as priority inheritance
or priority ceilings. When using priorities,
take this into account and handle such scenarios by
yourself.</p><p>Making calls from a <strong>high</strong> priority process into code
that you has no control over can cause the <strong>high</strong>
priority process to wait for a process with lower
priority. That is, effectively decreasing the priority of the
<strong>high</strong> priority process during the call. Even if this
is not the case with one version of the code that you have no
control over, it can be the case in a future
version of it. This can, for example, occur if a
<strong>high</strong> priority process triggers code loading, as
the code server runs on priority <strong>normal</strong>.</p><p>Other priorities than <strong>normal</strong> are normally not needed.
When other priorities are used, use them with care,
<em>especially</em> priority <strong>high</strong>. A
process on priority <strong>high</strong> is only
to perform work for short periods. Busy looping for
long periods in a <strong>high</strong> priority process causes
most likely problems, as important OTP servers
run on priority <strong>normal</strong>.</p><p>Returns the old value of the flag.</p><h2>process_flag/2</h2><p>Set process flag save_calls for the calling process.</p><p><strong><span class="anno">N</span></strong> must be an integer in the interval 0..10000.
If <strong><span class="anno">N</span></strong> &gt; 0, call saving is made
active for the
process. This means that information about the <strong><span class="anno">N</span></strong>
most recent global function calls, BIF calls, sends, and
receives made by the process are saved in a list, which
can be retrieved with
<strong>process_info(Pid, last_calls)</strong>. A global function
call is one in which the module of the function is
explicitly mentioned. Only a fixed amount of information
is saved, as follows:</p><ul><li><p>A tuple <strong>{Module, Function, Arity}</strong> for
function calls</p></li><li><p>The atoms <strong>send</strong>, <strong>'receive'</strong>, and
<strong>timeout</strong> for sends and receives (<strong>'receive'</strong>
when a message is received and <strong>timeout</strong> when a
receive times out)</p></li></ul><p>If <strong>N</strong> = 0,
call saving is disabled for the process, which is the
default. Whenever the size of the call saving list is set,
its contents are reset.</p><p>Returns the old value of the flag.</p><h2>process_flag/2</h2><p>Set process flag sensitive for the calling process.</p><p>Sets or clears flag <strong>sensitive</strong> for the current process.
When a process has been marked as sensitive by calling
<strong>process_flag(sensitive, true)</strong>, features in the runtime
system that can be used for examining the data or inner working
of the process are silently disabled.</p><p>Features that are disabled include (but are not limited to)
the following:</p><ul><li><p>Tracing. Trace flags can still be set for the process,
but no trace messages of any kind are generated. (If flag
<strong>sensitive</strong> is turned off, trace messages are again
generated if any trace flags are set.)</p></li><li><p>Sequential tracing. The sequential trace token is
propagated as usual, but no sequential trace messages are
generated.</p></li></ul><p><strong>process_info/1,2</strong> cannot be used to read out the
message queue or the process dictionary (both are returned
as empty lists).</p><p>Stack back-traces cannot be displayed for the process.</p><p>In crash dumps, the stack, messages, and the process dictionary
are omitted.</p><p>If <strong>{save_calls,N}</strong> has been set for the process, no
function calls are saved to the call saving list.
(The call saving list is not cleared. Also, send, receive,
and time-out events are still added to the list.)</p><p>Returns the old value of the flag.</p><h2>process_flag/3</h2><p>Set process flags for a process.</p><p>Sets certain flags for the process <strong><span class="anno">Pid</span></strong>,
in the same manner as
<a href="#process_flag/2">process_flag/2</a>.
Returns the old value of the flag. The valid values for
<strong><span class="anno">Flag</span></strong> are only a subset of those allowed in
<strong>process_flag/2</strong>, namely <strong>save_calls</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Pid</span></strong>
is not a local process.</p><h2>process_info/1</h2><p>Information about a process.</p><ul><li>process_info_result_item</li></ul><ul><li>priority_level</li></ul><ul><li>stack_item</li></ul><ul><li>max_heap_size</li></ul><ul><li>message_queue_data</li></ul><p>Returns a list containing <strong><span class="anno">InfoTuple</span></strong>s with
miscellaneous information about the process identified by
<strong>Pid</strong>, or <strong>undefined</strong> if the process is not alive.</p><p>The order of the <strong><span class="anno">InfoTuple</span></strong>s is undefined and
all <strong><span class="anno">InfoTuple</span></strong>s are not mandatory.
The <strong><span class="anno">InfoTuple</span></strong>s
part of the result can be changed without prior notice.</p><p>The <strong><span class="anno">InfoTuple</span></strong>s with the following items
are part of the result:</p><ul><li><strong>current_function</strong></li><li><strong>initial_call</strong></li><li><strong>status</strong></li><li><strong>message_queue_len</strong></li><li><strong>links</strong></li><li><strong>dictionary</strong></li><li><strong>trap_exit</strong></li><li><strong>error_handler</strong></li><li><strong>priority</strong></li><li><strong>group_leader</strong></li><li><strong>total_heap_size</strong></li><li><strong>heap_size</strong></li><li><strong>stack_size</strong></li><li><strong>reductions</strong></li><li><strong>garbage_collection</strong></li></ul><p>If the process identified by <strong><span class="anno">Pid</span></strong> has a
registered name,
also an <strong><span class="anno">InfoTuple</span></strong> with item <strong>registered_name</strong>
is included.</p><p>For information about specific <strong><span class="anno">InfoTuple</span></strong>s, see
<a href="#process_info/2">process_info/2</a>.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for <em>debugging only</em>. For
all other purposes, use <a href="#process_info/2">process_info/2</a>.</p></div><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Pid</span></strong> is not a
local process.</p><h2>process_info/2</h2><h2>process_info/2</h2><p>Information about a process.</p><ul><li>process_info_item</li></ul><ul><li>process_info_result_item</li></ul><ul><li>stack_item</li></ul><ul><li>priority_level</li></ul><ul><li>max_heap_size</li></ul><ul><li>message_queue_data</li></ul><p>Returns information about the process identified by
<strong><span class="anno">Pid</span></strong>, as specified by
<strong><span class="anno">Item</span></strong> or <strong><span class="anno">ItemList</span></strong>.
Returns <strong>undefined</strong> if the process is not alive.</p><p>If the process is alive and a single <strong><span class="anno">Item</span></strong>
is specified, the returned value is the corresponding
<strong><span class="anno">InfoTuple</span></strong>, unless <strong>Item =:= registered_name</strong>
and the process has no registered name. In this case,
<strong>[]</strong> is returned. This strange behavior is because of
historical reasons, and is kept for backward compatibility.</p><p>If <strong><span class="anno">ItemList</span></strong> is specified, the result is
<strong><span class="anno">InfoTupleList</span></strong>.
The <strong><span class="anno">InfoTuple</span></strong>s in
<strong><span class="anno">InfoTupleList</span></strong> are included with the corresponding
<strong><span class="anno">Item</span></strong>s in the same order as the
<strong><span class="anno">Item</span></strong>s were included
in <strong><span class="anno">ItemList</span></strong>. Valid <strong><span class="anno">Item</span></strong>s can
be included multiple times in <strong><span class="anno">ItemList</span></strong>.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>If <strong>registered_name</strong> is part of <strong><span class="anno">ItemList</span></strong>
and the process has no name registered, a
<strong>{registered_name, []}</strong>, <strong><span class="anno">InfoTuple</span></strong>
<em>will</em> be included in the resulting
<strong><span class="anno">InfoTupleList</span></strong>. This
behavior is different when a single
<strong>Item =:= registered_name</strong> is specified, and when
<strong>process_info/1</strong> is used.</p></div><p>Valid <strong><span class="anno">InfoTuple</span></strong>s with corresponding
<strong><span class="anno">Item</span></strong>s:</p><dl><dt><strong>{backtrace, <span class="anno">Bin</span>}</strong></dt><dd> <p>Binary <strong><span class="anno">Bin</span></strong> contains the same information
as the output from
<strong>erlang:process_display(<span class="anno">Pid</span>, backtrace)</strong>. Use
<strong>binary_to_list/1</strong> to obtain the string of characters
from the binary.</p> </dd><dt><strong>{binary, <span class="anno">BinInfo</span>}</strong></dt><dd> <p><strong><span class="anno">BinInfo</span></strong> is a list containing miscellaneous
information about binaries on the heap of this
process.
This <strong><span class="anno">InfoTuple</span></strong> can be changed or
removed without prior notice. In the current implementation
<strong><span class="anno">BinInfo</span></strong> is a list of tuples. The tuples
contain; <strong>BinaryId</strong>, <strong>BinarySize</strong>, <strong>BinaryRefcCount</strong>.</p> <p>The message queue is on the heap depending on the
process flag <a href="#process_flag_message_queue_data">process_flag_message_queue_data</a>.</p> </dd><dt><strong>{catchlevel, <span class="anno">CatchLevel</span>}</strong></dt><dd> <p><strong><span class="anno">CatchLevel</span></strong> is the number of currently active
catches in this process. This <strong><span class="anno">InfoTuple</span></strong> can be
changed or removed without prior notice.</p> </dd><dt><strong>{current_function, {<span class="anno">Module</span>, <span class="anno">Function</span>, Arity} | undefined}</strong></dt><dd> <p><strong><span class="anno">Module</span></strong>, <strong><span class="anno">Function</span></strong>,
<strong><span class="anno">Arity</span></strong> is
the current function call of the process. The value
<strong>undefined</strong> can be returned if the process is
currently executing native compiled code.</p> </dd><dt><strong>{current_location, {<span class="anno">Module</span>, <span class="anno">Function</span>, <span class="anno">Arity</span>, <span class="anno">Location</span>}}</strong></dt><dd> <p><strong><span class="anno">Module</span></strong>, <strong><span class="anno">Function</span></strong>,
<strong><span class="anno">Arity</span></strong> is
the current function call of the process.
<strong><span class="anno">Location</span></strong> is a list of two-tuples describing
the location in the source code.</p> </dd><dt><strong>{current_stacktrace, <span class="anno">Stack</span>}</strong></dt><dd> <p>Returns the current call stack back-trace (<em>stacktrace</em>)
of the process. The stack has the same format as returned by
<a href="#get_stacktrace/0">get_stacktrace/0</a>. The depth of the
stacktrace is truncated according to the <strong>backtrace_depth</strong>
system flag setting.</p> </dd><dt><strong>{dictionary, <span class="anno">Dictionary</span>}</strong></dt><dd> <p><strong><span class="anno">Dictionary</span></strong> is the process dictionary.</p> </dd><dt><strong>{error_handler, <span class="anno">Module</span>}</strong></dt><dd> <p><strong><span class="anno">Module</span></strong> is the error handler module used by
the process (for undefined function calls, for example).</p> </dd><dt><strong>{garbage_collection, <span class="anno">GCInfo</span>}</strong></dt><dd> <p><strong><span class="anno">GCInfo</span></strong> is a list containing miscellaneous
information about garbage collection for this process.
The content of <strong><span class="anno">GCInfo</span></strong> can be changed without
prior notice.</p> </dd><dt> <a name="process_info_garbage_collection_info"></a> <strong>{garbage_collection_info, <span class="anno">GCInfo</span>}</strong> </dt><dd> <p><strong><span class="anno">GCInfo</span></strong> is a list containing miscellaneous
detailed information about garbage collection for this process.
The content of <strong><span class="anno">GCInfo</span></strong> can be changed without
prior notice. For details about the meaning of each item, see
<a href="#gc_minor_start">gc_minor_start</a>
in <a href="#trace/3">trace/3</a>.</p> </dd><dt><strong>{group_leader, <span class="anno">GroupLeader</span>}</strong></dt><dd> <p><strong><span class="anno">GroupLeader</span></strong> is the group leader for the I/O
of the process.</p> </dd><dt><strong>{heap_size, <span class="anno">Size</span>}</strong></dt><dd> <p><strong><span class="anno">Size</span></strong> is the size in words of the youngest
heap generation of the process. This generation includes
the process stack. This information is highly
implementation-dependent, and can change if the
implementation changes.</p> </dd><dt><strong>{initial_call, {<span class="anno">Module</span>, <span class="anno">Function</span>, <span class="anno">Arity</span>}}</strong></dt><dd> <p><strong><span class="anno">Module</span></strong>, <strong><span class="anno">Function</span></strong>,
<strong><span class="anno">Arity</span></strong> is
the initial function call with which the process was
spawned.</p> </dd><dt><strong>{links, <span class="anno">PidsAndPorts</span>}</strong></dt><dd> <p><strong><span class="anno">PidsAndPorts</span></strong> is a list of process identifiers
and port identifiers, with processes or ports to which the process
has a link.</p> </dd><dt><strong>{last_calls, false|Calls}</strong></dt><dd> <p>The value is <strong>false</strong> if call saving is not active
for the process (see <a href="#process_flag/3">process_flag/3</a>).
If call saving is active, a list is returned, in which
the last element is the most recent called.</p> </dd><dt><strong>{memory, <span class="anno">Size</span>}</strong></dt><dd> <a name="process_info_memory"></a> <p><strong><span class="anno">Size</span></strong> is the size in bytes of the process.
This includes call stack, heap, and internal structures.</p> </dd><dt><strong>{message_queue_len, <span class="anno">MessageQueueLen</span>}</strong></dt><dd> <p><strong><span class="anno">MessageQueueLen</span></strong> is the number of messages
currently in the message queue of the process. This is the
length of the list <strong><span class="anno">MessageQueue</span></strong> returned as
the information item <strong>messages</strong> (see below).</p> </dd><dt><strong>{messages, <span class="anno">MessageQueue</span>}</strong></dt><dd> <p><strong><span class="anno">MessageQueue</span></strong> is a list of the messages to
the process, which have not yet been processed.</p> </dd><dt><strong>{min_heap_size, <span class="anno">MinHeapSize</span>}</strong></dt><dd> <p><strong><span class="anno">MinHeapSize</span></strong> is the minimum heap size
for the process.</p> </dd><dt><strong>{min_bin_vheap_size, <span class="anno">MinBinVHeapSize</span>}</strong></dt><dd> <p><strong><span class="anno">MinBinVHeapSize</span></strong> is the minimum binary virtual
heap size for the process.</p> </dd><dt><strong>{monitored_by, <span class="anno">MonitoredBy</span>}</strong></dt><dd> <p>A list of identifiers for all the processes, ports and NIF
resources, that are monitoring the process.</p> </dd><dt><strong>{monitors, <span class="anno">Monitors</span>}</strong></dt><dd> <p>A list of monitors (started by <strong>monitor/2</strong>)
that are active for the process. For a local process
monitor or a remote process monitor by a process
identifier, the list consists of:</p> <dl><dt><strong>{process, <span class="anno">Pid</span>}</strong></dt><dd>Process is monitored by pid.</dd><dt><strong>{process, {<span class="anno">RegName</span>, <span class="anno">Node</span>}}</strong></dt><dd>Local or remote process is monitored by name.</dd><dt><strong>{port, PortId}</strong></dt><dd>Local port is monitored by port id.</dd><dt><strong>{port, {<span class="anno">RegName</span>, <span class="anno">Node</span>}}</strong></dt><dd>Local port is monitored by name. Please note, that remote port monitors are not supported, so <strong>Node</strong> will always be the local node name.</dd></dl> </dd><dt><strong>{message_queue_data, <span class="anno">MQD</span>}</strong></dt><dd> <p>Returns the current state of process flag
<strong>message_queue_data</strong>. <strong><span class="anno">MQD</span></strong> is either
<strong>off_heap</strong> or <strong>on_heap</strong>. For more
information, see the documentation of
<a href="#process_flag_message_queue_data">process_flag_message_queue_data</a>.</p> </dd><dt><strong>{priority, <span class="anno">Level</span>}</strong></dt><dd> <p><strong><span class="anno">Level</span></strong> is the current priority level for
the process. For more information on priorities, see
<a href="#process_flag_priority">process_flag_priority</a>.</p> </dd><dt><strong>{reductions, <span class="anno">Number</span>}</strong></dt><dd> <p><strong><span class="anno">Number</span></strong> is the number of reductions executed
by the process.</p> </dd><dt><strong>{registered_name, <span class="anno">Atom</span>}</strong></dt><dd> <p><strong><span class="anno">Atom</span></strong> is the registered process name.
If the process has no registered name, this tuple is not
present in the list.</p> </dd><dt><strong>{sequential_trace_token, [] | <span class="anno">SequentialTraceToken</span>}</strong></dt><dd> <p><strong><span class="anno">SequentialTraceToken</span></strong> is the sequential trace
token for the process. This <strong><span class="anno">InfoTuple</span></strong> can be
changed or removed without prior notice.</p> </dd><dt><strong>{stack_size, <span class="anno">Size</span>}</strong></dt><dd> <p><strong><span class="anno">Size</span></strong> is the stack size, in words,
of the process.</p> </dd><dt><strong>{status, <span class="anno">Status</span>}</strong></dt><dd> <p><strong><span class="anno">Status</span></strong> is the status of the process and is
one of the following:</p> <ul><li><strong>exiting</strong></li><li><strong>garbage_collecting</strong></li><li><strong>waiting</strong> (for a message)</li><li><strong>running</strong></li><li><strong>runnable</strong> (ready to run, but another process is running)</li><li><strong>suspended</strong> (suspended on a "busy" port or by the BIF <strong>erlang:suspend_process/1,2</strong>)</li></ul> </dd><dt><strong>{suspending, <span class="anno">SuspendeeList</span>}</strong></dt><dd> <p><strong><span class="anno">SuspendeeList</span></strong> is a list of
<strong>{<span class="anno">Suspendee</span>, <span class="anno">ActiveSuspendCount</span>, <span class="anno">OutstandingSuspendCount</span>}</strong> tuples.
<strong><span class="anno">Suspendee</span></strong> is the process identifier of a
process that has been, or is to be,
suspended by the process identified by <strong><span class="anno">Pid</span></strong>
through the BIF <a href="#suspend_process/2">suspend_process/2</a> or
<a href="#suspend_process/1">suspend_process/1</a>.</p> <p><strong><span class="anno">ActiveSuspendCount</span></strong> is the number of
times <strong><span class="anno">Suspendee</span></strong> has been suspended by
<strong><span class="anno">Pid</span></strong>.
<strong><span class="anno">OutstandingSuspendCount</span></strong> is the number of not
yet completed suspend requests sent by <strong><span class="anno">Pid</span></strong>,
that is:</p> <ul><li> <p>If <strong><span class="anno">ActiveSuspendCount</span> =/= 0</strong>,
<strong><span class="anno">Suspendee</span></strong> is
currently in the suspended state.</p> </li><li> <p>If <strong><span class="anno">OutstandingSuspendCount</span> =/= 0</strong>,
option <strong>asynchronous</strong> of <strong>erlang:suspend_process/2</strong>
has been used and the suspendee has not yet been
suspended by <strong><span class="anno">Pid</span></strong>.</p> </li></ul> <p>Notice that <strong><span class="anno">ActiveSuspendCount</span></strong> and
<strong><span class="anno">OutstandingSuspendCount</span></strong> are not the
total suspend count on <strong><span class="anno">Suspendee</span></strong>,
only the parts contributed by <strong><span class="anno">Pid</span></strong>.</p> </dd><dt> <a name="process_info_total_heap_size"></a> <strong>{total_heap_size, <span class="anno">Size</span>}</strong> </dt><dd> <p><strong><span class="anno">Size</span></strong> is the total size, in words, of all heap
fragments of the process. This includes the process stack and
any unreceived messages that are considered to be part of the
heap.</p> </dd><dt><strong>{trace, <span class="anno">InternalTraceFlags</span>}</strong></dt><dd> <p><strong><span class="anno">InternalTraceFlags</span></strong> is an integer
representing the internal trace flag for this process.
This <strong><span class="anno">InfoTuple</span></strong>
can be changed or removed without prior notice.</p> </dd><dt><strong>{trap_exit, <span class="anno">Boolean</span>}</strong></dt><dd> <p><strong><span class="anno">Boolean</span></strong> is <strong>true</strong> if the process
is trapping exits, otherwise <strong>false</strong>.</p> </dd></dl><p>Notice that not all implementations support all
these <strong><span class="anno">Item</span></strong>s.</p><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">Pid</span></strong> is not a local process.</dd><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">Item</span></strong> is an invalid item.</dd></dl><h2>processes/0</h2><p>All processes.</p><p>Returns a list of process identifiers corresponding to
all the processes currently existing on the local node.</p><p>Notice that an exiting process exists, but is not alive.
That is, <strong>is_process_alive/1</strong> returns <strong>false</strong>
for an exiting process, but its process identifier is part
of the result returned from <strong>processes/0</strong>.</p><p>Example:</p><pre>
&gt; <span class="input">processes().</span>
[&lt;0.0.0&gt;,&lt;0.2.0&gt;,&lt;0.4.0&gt;,&lt;0.5.0&gt;,&lt;0.7.0&gt;,&lt;0.8.0&gt;]</pre><h2>purge_module/1</h2><p>Remove old code for a module.</p><p>Removes old code for <strong><span class="anno">Module</span></strong>.
Before this BIF is used,
<a href="#check_process_code/2">check_process_code/2</a>is to be called to check
that no processes execute old code in the module.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for the code server (see
<a href="./code">kernel/code</a>)
and is not to be used elsewhere.</p></div><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>As from ERTS 8.0 (Erlang/OTP 19), any lingering processes
that still execute the old code is killed by this function.
In earlier versions, such incorrect use could cause much
more fatal failures, like emulator crash.</p></div><p>Failure: <strong>badarg</strong> if there is no old code for
<strong><span class="anno">Module</span></strong>.</p><h2>put/2</h2><p>Add a new value to the process dictionary.</p><p>Adds a new <strong><span class="anno">Key</span></strong> to the process dictionary,
associated with the value <strong><span class="anno">Val</span></strong>, and returns
<strong>undefined</strong>. If <strong><span class="anno">Key</span></strong> exists, the old
value is deleted and replaced by <strong><span class="anno">Val</span></strong>, and
the function returns the old value. Example:</p><pre>
&gt; <span class="input">X = put(name, walrus), Y = put(name, carpenter),</span>
<span class="input">Z = get(name),</span>
<span class="input">{X, Y, Z}.</span>
{undefined,walrus,carpenter}</pre><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>The values stored when <strong>put</strong> is evaluated within
the scope of a <strong>catch</strong> are not retracted if a
<strong>throw</strong> is evaluated, or if an error occurs.</p></div><h2>raise/3</h2><p>Stop execution with an exception of specified class, reason, and call stack backtrace.</p><ul><li>raise_stacktrace</li></ul><p>Stops the execution of the calling process with an
exception of the specified class, reason, and call stack backtrace
(<em>stacktrace</em>).</p><p><strong><span class="anno">Class</span></strong> is <strong>error</strong>, <strong>exit</strong>, or
<strong>throw</strong>. So, if it were not for the stacktrace,
<strong>erlang:raise(<span class="anno">Class</span>, <span class="anno">Reason</span>, <span class="anno">Stacktrace</span>)</strong> is equivalent to
<strong>erlang:<span class="anno">Class</span>(<span class="anno">Reason</span>)</strong>.</p><p><strong><span class="anno">Reason</span></strong> is any term.
<strong><span class="anno">Stacktrace</span></strong> is a list as
returned from <strong>get_stacktrace()</strong>, that is, a list of
four-tuples <strong>{Module, Function, Arity | Args, Location}</strong>, where <strong>Module</strong> and <strong>Function</strong>
are atoms, and the third element is an integer arity or an
argument list. The stacktrace can also contain <strong>{Fun, Args, Location}</strong> tuples, where <strong>Fun</strong> is a local
fun and <strong>Args</strong> is an argument list.</p><p>Element <strong>Location</strong> at the end is optional.
Omitting it is equivalent to specifying an empty list.</p><p>The stacktrace is used as the exception stacktrace for the
calling process; it is truncated to the current
maximum stacktrace depth.</p><p>As evaluating this function causes the process to
terminate, it has no return value unless the arguments are
invalid, in which case the function <em>returns the error reason</em> <strong>badarg</strong>. If you want to be
sure not to return, you can call
<strong>error(erlang:raise(<span class="anno">Class</span>, <span class="anno">Reason</span>, <span class="anno">Stacktrace</span>))</strong>
and hope to distinguish exceptions later.</p><h2>read_timer/1</h2><p>Read the state of a timer.</p><p>Reads the state of a timer. The same as calling
<a href="#read_timer/2">read_timer/2</a>.</p><h2>read_timer/2</h2><p>Read the state of a timer.</p><p>Reads the state of a timer that has been created by either
<a href="#start_timer/4">start_timer/4</a>
or <a href="#send_after/4">send_after/4</a>.
<strong><span class="anno">TimerRef</span></strong> identifies the timer, and
was returned by the BIF that created the timer.</p><p><strong><span class="anno">Option</span>s</strong>:</p><dl><dt><strong>{async, Async}</strong></dt><dd> <p>Asynchronous request for state information. <strong>Async</strong>
defaults to <strong>false</strong>, which causes the operation
to be performed synchronously. In this case, the <strong>Result</strong>
is returned by <strong>erlang:read_timer</strong>. When
<strong>Async</strong> is <strong>true</strong>, <strong>erlang:read_timer</strong>
sends an asynchronous request for the state information
to the timer service that manages the timer, and then returns
<strong>ok</strong>. A message on the format <strong>{read_timer, <span class="anno">TimerRef</span>, <span class="anno">Result</span>}</strong> is
sent to the caller of <strong>erlang:read_timer</strong> when the
operation has been processed.</p> </dd></dl><p>More <strong><span class="anno">Option</span></strong>s can be added in the future.</p><p>If <strong><span class="anno">Result</span></strong> is an integer, it represents the
time in milliseconds left until the timer expires.</p><p>If <strong><span class="anno">Result</span></strong> is <strong>false</strong>, a
timer corresponding to <strong><span class="anno">TimerRef</span></strong> could not
be found. This because the timer had expired,
or been canceled, or because <strong><span class="anno">TimerRef</span></strong>
never has corresponded to a timer. Even if the timer has expired,
it does not tell you whether or not the time-out message has
arrived at its destination yet.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>The timer service that manages the timer can be co-located
with another scheduler than the scheduler that the calling
process is executing on. If so, communication
with the timer service takes much longer time than if it
is located locally. If the calling process is in a critical
path, and can do other things while waiting for the result
of this operation, you want to use option <strong>{async, true}</strong>.
If using option <strong>{async, false}</strong>, the calling
process is blocked until the operation has been performed.</p></div><p>See also 
<a href="#send_after/4">send_after/4</a>,
<a href="#start_timer/4">start_timer/4</a>, and
<a href="#cancel_timer/2">cancel_timer/2</a>.</p><h2>ref_to_list/1</h2><p>Text representation of a reference.</p><p>Returns a string corresponding to the text
representation of <strong><span class="anno">Ref</span></strong>.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for debugging and is not to be used
in application programs.</p></div><h2>register/2</h2><p>Register a name for a pid (or port).</p><p>Associates the name <strong><span class="anno">RegName</span></strong> with a process
identifier (pid) or a port identifier.
<strong><span class="anno">RegName</span></strong>, which must be an atom, can be used
instead of the pid or port identifier in send operator
(<strong><span class="anno">RegName</span> ! Message</strong>). Example:</p><pre>
&gt; <span class="input">register(db, Pid).</span>
true</pre><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">PidOrPort</span></strong> is not an existing local process or port.</dd><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">RegName</span></strong> is already in use.</dd><dt><strong>badarg</strong></dt><dd>If the process or port is already registered (already has a name).</dd><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">RegName</span></strong> is the atom <strong>undefined</strong>.</dd></dl><h2>registered/0</h2><p>All registered names.</p><p>Returns a list of names that have been registered using
<a href="#register/2">register/2</a>, for
example:</p><pre>
&gt; <span class="input">registered().</span>
[code_server, file_server, init, user, my_db]</pre><h2>resume_process/1</h2><p>Resume a suspended process.</p><p>Decreases the suspend count on the process identified by
<strong><span class="anno">Suspendee</span></strong>. <strong><span class="anno">Suspendee</span></strong>
is previously to have been suspended through
<a href="#suspend_process/2">suspend_process/2</a> or
<a href="#suspend_process/1">suspend_process/1</a>
by the process calling
<strong>erlang:resume_process(<span class="anno">Suspendee</span>)</strong>. When the
suspend count on <strong><span class="anno">Suspendee</span></strong> reaches zero,
<strong><span class="anno">Suspendee</span></strong> is resumed, that is, its state
is changed from suspended into the state it had before it was
suspended.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for debugging only.</p></div><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">Suspendee</span></strong> is not a process identifier. </dd><dt><strong>badarg</strong></dt><dd> If the process calling <strong>erlang:resume_process/1</strong> had not previously increased the suspend count on the process identified by <strong><span class="anno">Suspendee</span></strong>. </dd><dt><strong>badarg</strong></dt><dd> If the process identified by <strong><span class="anno">Suspendee</span></strong> is not alive. </dd></dl><h2>round/1</h2><p>Return an integer by rounding a number.</p><p>Returns an integer by rounding <strong><span class="anno">Number</span></strong>,
for example:</p><pre>
<span class="input">round(5.5).</span>
6</pre><p>Allowed in guard tests.</p><h2>self/0</h2><p>Return pid of the calling process.</p><p>Returns the process identifier of the calling process, for
example:</p><pre>
&gt; <span class="input">self().</span>
&lt;0.26.0&gt;</pre><p>Allowed in guard tests.</p><h2>send/2</h2><p>Send a message.</p><ul><li>dst</li></ul><p>Sends a message and returns <strong><span class="anno">Msg</span></strong>. This
is the same as using the <a href="../doc/reference_manual/expressions#send"> send operator</a>:
<strong><span class="anno">Dest</span> ! <span class="anno">Msg</span></strong>.</p><p><strong><span class="anno">Dest</span></strong> can be a remote or local process identifier,
a (local) port, a locally registered name, or a tuple
<strong>{<span class="anno">RegName</span>, <span class="anno">Node</span>}</strong>
for a registered name at another node.</p><p>The function fails with a <strong>badarg</strong> run-time error if
<strong><span class="anno">Dest</span></strong> is an atom name, but this name is not
registered. This is the only case when <strong>send</strong> fails for an
unreachable destination <strong><span class="anno">Dest</span></strong> (of correct type).</p><h2>send/3</h2><p>Send a message conditionally.</p><ul><li>dst</li></ul><p>Either sends a message and returns <strong>ok</strong>, or does not send
the message but returns something else (see below).
Otherwise the same as
<a href="#send/2">send/2</a>.
For more detailed explanation and warnings, see
<a href="#send_nosuspend/2">send_nosuspend/2</a>.</p><p>Options:</p><dl><dt><strong>nosuspend</strong></dt><dd>If the sender would have to be suspended to do the send, <strong>nosuspend</strong> is returned instead. </dd><dt><strong>noconnect</strong></dt><dd> If the destination node would have to be auto-connected to do the send, <strong>noconnect</strong> is returned instead. </dd></dl><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>As with <strong>erlang:send_nosuspend/2,3</strong>: use with extreme
care.</p></div><h2>send_after/3</h2><p>Start a timer.</p><p>Starts a timer. The same as calling
<a href="#send_after/4">send_after/4</a>.</p><h2>send_after/4</h2><p>Start a timer.</p><p>Starts a timer. When the timer expires, the message
<strong><span class="anno">Msg</span></strong> is sent to the process
identified by <strong><span class="anno">Dest</span></strong>. Apart from
the format of the time-out message, this function works exactly as
<a href="#start_timer/4">start_timer/4</a>.</p><h2>send_nosuspend/2</h2><p>Try to send a message without ever blocking.</p><ul><li>dst</li></ul><p>The same as
<a href="#send/3">send/3</a>,
but returns <strong>true</strong> if
the message was sent and <strong>false</strong> if the message was not
sent because the sender would have had to be suspended.</p><p>This function is intended for send operations to an
unreliable remote node without ever blocking the sending
(Erlang) process. If the connection to the remote node
(usually not a real Erlang node, but a node written in C or
Java) is overloaded, this function <em>does not send the message</em>
and returns <strong>false</strong>.</p><p>The same occurs if <strong><span class="anno">Dest</span></strong> refers to a local port
that is busy. For all other destinations (allowed for the ordinary
send operator <strong>'!'</strong>), this function sends the message and
returns <strong>true</strong>.</p><p>This function is only to be used in rare circumstances
where a process communicates with Erlang nodes that can
disappear without any trace, causing the TCP buffers and
the drivers queue to be over-full before the node is
shut down (because of tick time-outs) by <strong>net_kernel</strong>.
The normal reaction to take when this occurs is some kind of
premature shutdown of the other node.</p><p>Notice that ignoring the return value from this function would
result in an <em>unreliable</em> message passing, which is
contradictory to the Erlang programming model. The message is
<em>not</em> sent if this function returns <strong>false</strong>.</p><p>In many systems, transient states of
overloaded queues are normal. Although this function
returns <strong>false</strong> does not mean that the other
node is guaranteed to be non-responsive, it could be a
temporary overload. Also, a return value of <strong>true</strong> does
only mean that the message can be sent on the (TCP) channel
without blocking; the message is not guaranteed to
arrive at the remote node. For a disconnected
non-responsive node, the return value is <strong>true</strong> (mimics
the behavior of operator <strong>!</strong>). The expected
behavior and the actions to take when the function
returns <strong>false</strong> are application- and hardware-specific.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>Use with extreme care.</p></div><h2>send_nosuspend/3</h2><p>Try to send a message without ever blocking.</p><ul><li>dst</li></ul><p>The same as
<a href="#send/3">send/3</a>,
but with a Boolean return value.</p><p>This function behaves like
<a href="#send_nosuspend/2">send_nosuspend/2</a>,
but takes a third parameter, a list of options.
The only option is <strong>noconnect</strong>, which
makes the function return <strong>false</strong> if
the remote node is not currently reachable by the local
node. The normal behavior is to try to connect to the node,
which can stall the process during a short period. The use of
option <strong>noconnect</strong> makes it possible to be
sure not to get the slightest delay when
sending to a remote process. This is especially useful when
communicating with nodes that expect to always be
the connecting part (that is, nodes written in C or Java).</p><p>Whenever the function returns <strong>false</strong> (either when a
suspend would occur or when <strong>noconnect</strong> was specified and
the node was not already connected), the message is guaranteed
<em>not</em> to have been sent.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>Use with extreme care.</p></div><h2>set_cookie/2</h2><p>Set the magic cookie of a node.</p><p>Sets the magic cookie of <strong><span class="anno">Node</span></strong> to the atom
<strong><span class="anno">Cookie</span></strong>. If <strong><span class="anno">Node</span></strong> is the
local node, the function
also sets the cookie of all other unknown nodes to
<strong><span class="anno">Cookie</span></strong> (see section
<a href="./distributed"> Distributed Erlang</a>
in the Erlang Reference Manual in System Documentation).</p><p>Failure: <strong>function_clause</strong> if the local node is not
alive.</p><h2>setelement/3</h2><p>Set the Nth element of a tuple.</p><dl><dt>Index</dt><dd>1..tuple_size(<span class="anno">Tuple1</span></dd></dl><p>Returns a tuple that is a copy of argument
<strong><span class="anno">Tuple1</span></strong>
with the element specified by integer argument
<strong><span class="anno">Index</span></strong>
(the first element is the element with index 1) replaced by
argument <strong><span class="anno">Value</span></strong>, for example:</p><pre>
&gt; <span class="input">setelement(2, {10, green, bottles}, red).</span>
{10,red,bottles}</pre><h2>size/1</h2><p>Size of a tuple or binary.</p><p>Returns the number of elements in a tuple or the number of
bytes in a binary or bitstring, for example:</p><pre>
&gt; <span class="input">size({morni, mulle, bwange}).</span>
3
&gt; <span class="input">size(&lt;&lt;11, 22, 33&gt;&gt;).</span>
3</pre><p>For bitstrings, the number of whole bytes is returned.
That is, if the number of bits
in the bitstring is not divisible by 8, the resulting
number of bytes is rounded <em>down</em>.</p><p>Allowed in guard tests.</p><p>See also
<a href="#tuple_size/1">tuple_size/1</a>,
<a href="#byte_size/1">byte_size/1</a>, and
<a href="#bit_size/1">bit_size/1</a>.</p><h2>spawn/1</h2><p>Create a new process with a fun as entry point.</p><p>Returns the process identifier of a new process started by the
application of <strong><span class="anno">Fun</span></strong> to the empty list
<strong>[]</strong>. Otherwise
works like <a href="#spawn/3">spawn/3</a>.</p><h2>spawn/2</h2><p>Create a new process with a fun as entry point on a specified node.</p><p>Returns the process identifier of a new process started
by the application of <strong><span class="anno">Fun</span></strong> to the
empty list <strong>[]</strong> on <strong><span class="anno">Node</span></strong>. If
<strong><span class="anno">Node</span></strong> does not exist, a useless pid is
returned. Otherwise works like
<a href="#spawn/3">spawn/3</a>.</p><h2>spawn/3</h2><p>Create a new process with a function as entry point.</p><p>Returns the process identifier of a new process started by
the application of <strong><span class="anno">Module</span>:<span class="anno">Function</span></strong>
to <strong><span class="anno">Args</span></strong>.</p><p><strong>error_handler:undefined_function(<span class="anno">Module</span>, <span class="anno">Function</span>, <span class="anno">Args</span>)</strong>
is evaluated by the new process if
<strong><span class="anno">Module</span>:<span class="anno">Function</span>/Arity</strong>
does not exist (where <strong>Arity</strong> is the length of
<strong><span class="anno">Args</span></strong>). The error handler
can be redefined (see
<a href="#process_flag/2">process_flag/2</a>).
If <strong>error_handler</strong> is undefined, or the user has
redefined the default <strong>error_handler</strong> and its replacement is
undefined, a failure with reason <strong>undef</strong> occurs.</p><p>Example:</p><pre>
&gt; <span class="input">spawn(speed, regulator, [high_speed, thin_cut]).</span>
&lt;0.13.1&gt;</pre><h2>spawn/4</h2><p>Create a new process with a function as entry point on a specified node.</p><p>Returns the process identifier (pid) of a new process started
by the application
of <strong><span class="anno">Module</span>:<span class="anno">Function</span></strong>
to <strong><span class="anno">Args</span></strong> on <strong><span class="anno">Node</span></strong>. If
<strong><span class="anno">Node</span></strong> does not exist, a useless pid is returned.
Otherwise works like
<a href="#spawn/3">spawn/3</a>.</p><h2>spawn_link/1</h2><p>Create and link to a new process with a fun as entry point. </p><p>Returns the process identifier of a new process started by
the application of <strong><span class="anno">Fun</span></strong> to the empty list
<strong>[]</strong>. A link is created between
the calling process and the new process, atomically.
Otherwise works like
<a href="#spawn/3">spawn/3</a>.</p><h2>spawn_link/2</h2><p>Create and link to a new process with a fun as entry point on a specified node.</p><p>Returns the process identifier (pid) of a new process started
by the application of <strong><span class="anno">Fun</span></strong> to the empty
list <strong>[]</strong> on <strong><span class="anno">Node</span></strong>. A link is
created between the calling process and the new process,
atomically. If <strong><span class="anno">Node</span></strong> does not exist,
a useless pid is returned and an exit signal with
reason <strong>noconnection</strong> is sent to the calling
process. Otherwise works like <a href="#spawn/3">spawn/3</a>.</p><h2>spawn_link/3</h2><p>Create and link to a new process with a function as entry point. </p><p>Returns the process identifier of a new process started by
the application of <strong><span class="anno">Module</span>:<span class="anno">Function</span></strong>
to <strong><span class="anno">Args</span></strong>. A link is created
between the calling process and the new process, atomically.
Otherwise works like
<a href="#spawn/3">spawn/3</a>.</p><h2>spawn_link/4</h2><p>Create and link to a new process with a function as entry point on a specified node.</p><p>Returns the process identifier (pid) of a new process
started by the application
of <strong><span class="anno">Module</span>:<span class="anno">Function</span></strong>
to <strong><span class="anno">Args</span></strong> on <strong><span class="anno">Node</span></strong>. A
link is created between the calling process and the new
process, atomically. If <strong><span class="anno">Node</span></strong> does
not exist, a useless pid is returned and an exit signal with
reason <strong>noconnection</strong> is sent to the calling
process. Otherwise works like <a href="#spawn/3">spawn/3</a>.</p><h2>spawn_monitor/1</h2><p>Create and monitor a new process with a fun as entry point. </p><p>Returns the process identifier of a new process, started by
the application of <strong><span class="anno">Fun</span></strong> to the empty list
<strong>[]</strong>,
and a reference for a monitor created to the new process.
Otherwise works like
<a href="#spawn/3">spawn/3</a>.</p><h2>spawn_monitor/3</h2><p>Create and monitor a new process with a function as entry point. </p><p>A new process is started by the application
of <strong><span class="anno">Module</span>:<span class="anno">Function</span></strong>
to <strong><span class="anno">Args</span></strong>. The process is
monitored at the same time. Returns the process identifier
and a reference for the monitor. Otherwise works like
<a href="#spawn/3">spawn/3</a>.</p><h2>spawn_opt/2</h2><p>Create a new process with a fun as entry point.</p><ul><li>priority_level</li></ul><ul><li>max_heap_size</li></ul><ul><li>message_queue_data</li></ul><ul><li>spawn_opt_option</li></ul><p>Returns the process identifier (pid) of a new process
started by the application of <strong><span class="anno">Fun</span></strong>
to the empty list <strong>[]</strong>. Otherwise works like
<a href="#spawn_opt/4">spawn_opt/4</a>.</p><p>If option <strong>monitor</strong> is specified, the newly created
process is monitored, and both the pid and reference for
the monitor are returned.</p><h2>spawn_opt/3</h2><p>Create a new process with a fun as entry point on a specified node.</p><ul><li>priority_level</li></ul><ul><li>max_heap_size</li></ul><ul><li>message_queue_data</li></ul><ul><li>spawn_opt_option</li></ul><p>Returns the process identifier (pid) of a new process started
by the application of <strong><span class="anno">Fun</span></strong> to the
empty list <strong>[]</strong> on <strong><span class="anno">Node</span></strong>. If
<strong><span class="anno">Node</span></strong> does not exist, a useless pid is
returned. Otherwise works like
<a href="#spawn_opt/4">spawn_opt/4</a>.</p><h2>spawn_opt/4</h2><p>Create a new process with a function as entry point.</p><ul><li>priority_level</li></ul><ul><li>max_heap_size</li></ul><ul><li>message_queue_data</li></ul><ul><li>spawn_opt_option</li></ul><p>Works as
<a href="#spawn/3">spawn/3</a>, except that an
extra option list is specified when creating the process.</p><p>If option <strong>monitor</strong> is specified, the newly created
process is monitored, and both the pid and reference for
the monitor are returned.</p><p>Options:</p><dl><dt><strong>link</strong></dt><dd> <p>Sets a link to the parent process (like
<a href="#spawn_link/3">spawn_link/3</a>
does).</p> </dd><dt><strong>monitor</strong></dt><dd> <p>Monitors the new process (like
<a href="#monitor/2">monitor/2</a> does).</p> </dd><dt><strong>{priority, <span class="anno">Level</span>}</strong></dt><dd> <p>Sets the priority of the new process. Equivalent to
executing <a href="#process_flag_priority">process_flag_priority</a>
in the start function of the new process,
except that the priority is set before the process is
selected for execution for the first time. For more
information on priorities, see
<a href="#process_flag_priority">process_flag_priority</a>.</p> </dd><dt><strong>{fullsweep_after, <span class="anno">Number</span>}</strong></dt><dd> <p>Useful only for performance tuning. Do not use this
option unless you
know that there is problem with execution times or
memory consumption, and ensure
that the option improves matters.</p> <p>The Erlang runtime system uses a generational garbage
collection scheme, using an "old heap" for data that has
survived at least one garbage collection. When there is
no more room on the old heap, a fullsweep garbage
collection is done.</p> <p>Option <strong>fullsweep_after</strong> makes it possible to
specify the maximum number of generational collections
before forcing a fullsweep, even if there is room on
the old heap. Setting the number to zero
disables the general collection algorithm, that is,
all live data is copied at every garbage collection.</p> <p>A few cases when it can be useful to change
<strong>fullsweep_after</strong>:</p> <ul><li><p>If binaries that are no longer used are to be
thrown away as soon as possible. (Set
<strong><span class="anno">Number</span></strong> to zero.)</p> </li><li><p>A process that mostly have short-lived data is
fullsweeped seldom or never, that is, the old heap
contains mostly garbage. To ensure a fullsweep
occasionally, set <strong><span class="anno">Number</span></strong> to a
suitable value, such as 10 or 20.</p> </li><li>In embedded systems with a limited amount of RAM and no virtual memory, you might want to preserve memory by setting <strong><span class="anno">Number</span></strong> to zero. (The value can be set globally, see <a href="#system_flag/2">system_flag/2</a>.) </li></ul> </dd><dt><strong>{min_heap_size, <span class="anno">Size</span>}</strong></dt><dd> <p>Useful only for performance tuning. Do not use this
option unless you know that there is problem with
execution times or memory consumption, and
ensure that the option improves matters.</p> <p>Gives a minimum heap size, in words. Setting this value
higher than the system default can speed up some
processes because less garbage collection is done.
However, setting a too high value can waste memory and
slow down the system because of worse data locality.
Therefore, use this option only for
fine-tuning an application and to measure the execution
time with various <strong><span class="anno">Size</span></strong> values.</p> </dd><dt><strong>{min_bin_vheap_size, <span class="anno">VSize</span>}</strong></dt><dd> <p>Useful only for performance tuning. Do not use this
option unless you know that there is problem with
execution times or memory consumption, and
ensure that the option improves matters.</p> <p>Gives a minimum binary virtual heap size, in words.
Setting this value
higher than the system default can speed up some
processes because less garbage collection is done.
However, setting a too high value can waste memory.
Therefore, use this option only for
fine-tuning an application and to measure the execution
time with various <strong><span class="anno">VSize</span></strong> values.</p> </dd><dt><strong>{max_heap_size, <span class="anno">Size</span>}</strong></dt><dd> <p>Sets the <strong>max_heap_size</strong> process flag. The default
<strong>max_heap_size</strong> is determined by command-line argument
<a href="./erl#+hmax">erl#+hmax</a>
in <strong>erl(1)</strong>. For more information, see the
documentation of <a href="#process_flag_max_heap_size">process_flag_max_heap_size</a>.
</p> </dd><dt><strong>{message_queue_data, <span class="anno">MQD</span>}</strong></dt><dd> <p>Sets the state of the <strong>message_queue_data</strong> process
flag. <strong><span class="anno">MQD</span></strong> is to be either <strong>off_heap</strong>
or <strong>on_heap</strong>. The default
<strong>message_queue_data</strong> process flag is determined by
command-line argument <a href="./erl#+hmqd">erl#+hmqd</a> in <strong>erl(1)</strong>.
For more information, see the documentation of
<a href="#process_flag_message_queue_data">process_flag_message_queue_data</a>.</p> </dd></dl><h2>spawn_opt/5</h2><p>Create a new process with a function as entry point on a specified node.</p><ul><li>priority_level</li></ul><ul><li>max_heap_size</li></ul><ul><li>message_queue_data</li></ul><ul><li>spawn_opt_option</li></ul><p>Returns the process identifier (pid) of a new process started
by the application
of <strong><span class="anno">Module</span>:<span class="anno">Function</span></strong> to
<strong><span class="anno">Args</span></strong> on <strong><span class="anno">Node</span></strong>. If
<strong><span class="anno">Node</span></strong> does not exist, a useless pid is returned.
Otherwise works like
<a href="#spawn_opt/4">spawn_opt/4</a>.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Option <strong>monitor</strong> is not supported by
<strong>spawn_opt/5</strong>.</p></div><h2>split_binary/2</h2><p>Split a binary into two.</p><dl><dt>Pos</dt><dd>0..byte_size(Bin)</dd></dl><p>Returns a tuple containing the binaries that are the result
of splitting <strong><span class="anno">Bin</span></strong> into two parts at
position <strong><span class="anno">Pos</span></strong>.
This is not a destructive operation. After the operation,
there are three binaries altogether. Example:</p><pre>
&gt; <span class="input">B = list_to_binary("0123456789").</span>
&lt;&lt;"0123456789"&gt;&gt;
&gt; <span class="input">byte_size(B).</span>
10
&gt; <span class="input">{B1, B2} = split_binary(B,3).</span>
{&lt;&lt;"012"&gt;&gt;,&lt;&lt;"3456789"&gt;&gt;}
&gt; <span class="input">byte_size(B1).</span>
3
&gt; <span class="input">byte_size(B2).</span>
7</pre><h2>start_timer/3</h2><p>Start a timer.</p><p>Starts a timer. The same as calling
<a href="#start_timer/4">start_timer/4</a>.</p><h2>start_timer/4</h2><p>Start a timer.</p><p>Starts a timer. When the timer expires, the message
<strong>{timeout, <span class="anno">TimerRef</span>, <span class="anno">Msg</span>}</strong>
is sent to the process identified by <strong><span class="anno">Dest</span></strong>.</p><p><strong><span class="anno">Option</span></strong>s:</p><dl><dt><strong>{abs, false}</strong></dt><dd> <p>This is the default. It means the
<strong><span class="anno">Time</span></strong> value is interpreted
as a time in milliseconds <em>relative</em> current
<a href="./time_correction#Erlang_Monotonic_Time">Erlang monotonic time</a>.</p> </dd><dt><strong>{abs, true}</strong></dt><dd> <p>Absolute <strong><span class="anno">Time</span></strong> value. The
<strong><span class="anno">Time</span></strong> value is interpreted as an
absolute Erlang monotonic time in milliseconds.</p> </dd></dl><p>More <strong><span class="anno">Option</span></strong>s can be added in the future.</p><p>The absolute point in time, the timer is set to expire on,
must be in the interval
<strong>[</strong><a href="#system_info_start_time">system_info_start_time</a><strong>, </strong><a href="#system_info_end_time">system_info_end_time</a><strong>]</strong>.
If a relative time is specified, the <strong><span class="anno">Time</span></strong>
value is not allowed to be negative.</p><p>If <strong><span class="anno">Dest</span></strong> is a <strong>pid()</strong>, it must
be a <strong>pid()</strong> of a process created on the current
runtime system instance. This process has either terminated
or not. If <strong><span class="anno">Dest</span></strong> is an
<strong>atom()</strong>, it is interpreted as the name of a
locally registered process. The process referred to by the
name is looked up at the time of timer expiration. No error
is returned if the name does not refer to a process.</p><p>If <strong><span class="anno">Dest</span></strong> is a <strong>pid()</strong>, the timer is
automatically canceled if the process referred to by the
<strong>pid()</strong> is not alive, or if the process exits. This
feature was introduced in ERTS 5.4.11. Notice that
timers are not automatically canceled when
<strong><span class="anno">Dest</span></strong> is an <strong>atom()</strong>.</p><p>See also
<a href="#send_after/4">send_after/4</a>,
<a href="#cancel_timer/2">cancel_timer/2</a>, and
<a href="#read_timer/2">read_timer/2</a>.</p><p>Failure: <strong>badarg</strong> if the arguments do not satisfy
the requirements specified here.</p><h2>statistics/1</h2><p>Information about active processes and ports.</p><p>Returns the same as
<a href="#statistics_active_tasks_all">statistics_active_tasks_all</a>
with the exception that no information about the dirty
IO run queue and its associated schedulers is part of
the result. That is, only tasks that are expected to be
CPU bound are part of the result.</p><h2>statistics/1</h2><p>Information about active processes and ports.</p><p>Returns a list where each element represents the amount
of active processes and ports on each run queue and its
associated schedulers. That is, the number of processes and
ports that are ready to run, or are currently running.
Values for normal run queues and their associated schedulers
are located first in the resulting list. The first element
corresponds to scheduler number 1 and so on. If support for
dirty schedulers exist, an element with the value for the
dirty CPU run queue and its associated dirty CPU schedulers
follow and then as last element the value for the the dirty
IO run queue and its associated dirty IO schedulers follow.
The information is <em>not</em> gathered atomically. That is,
the result is not necessarily a consistent snapshot of the
state, but instead quite efficiently gathered.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Each normal scheduler has one run queue that it
manages. If dirty schedulers schedulers are supported, all
dirty CPU schedulers share one run queue, and all dirty IO
schedulers share one run queue. That is, we have multiple
normal run queues, one dirty CPU run queue and one dirty
IO run queue. Work can <em>not</em> migrate between the
different types of run queues. Only work in normal run
queues can migrate to other normal run queues. This has
to be taken into account when evaluating the result.</p></div><p>See also
<a href="#statistics_total_active_tasks">statistics_total_active_tasks</a>,
<a href="#statistics_run_queue_lengths">statistics_run_queue_lengths</a>,
<a href="#statistics_run_queue_lengths_all">statistics_run_queue_lengths_all</a>,
<a href="#statistics_total_run_queue_lengths">statistics_total_run_queue_lengths</a>, and
<a href="#statistics_total_run_queue_lengths_all">statistics_total_run_queue_lengths_all</a>.</p><h2>statistics/1</h2><p>Information about context switches.</p><p>Returns the total number of context switches since the
system started.</p><h2>statistics/1</h2><p>Information about exact reductions.</p><p>Returns the number of exact reductions.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p><strong>statistics(exact_reductions)</strong> is
a more expensive operation than
<a href="#statistics_reductions"> statistics(reductions)</a>.</p></div><h2>statistics/1</h2><p>Information about garbage collection.</p><p>Returns information about garbage collection, for example:</p><pre>
&gt; <span class="input">statistics(garbage_collection).</span>
{85,23961,0}</pre><p>This information can be invalid for some implementations.</p><h2>statistics/1</h2><p>Information about I/O.</p><p>Returns <strong><span class="anno">Input</span></strong>,
which is the total number of bytes
received through ports, and <strong><span class="anno">Output</span></strong>,
which is the total number of bytes output to ports.</p><h2>statistics/1</h2><p>Information about microstate accounting.</p><p>Microstate accounting can be used to measure how much time the Erlang
runtime system spends doing various tasks. It is designed to be as
lightweight as possible, but some overhead exists when this
is enabled. Microstate accounting is meant to be a profiling tool
to help finding performance bottlenecks.
To <strong>start</strong>/<strong>stop</strong>/<strong>reset</strong> microstate accounting, use
system flag <a href="#system_flag_microstate_accounting">system_flag_microstate_accounting</a>.</p><p><strong>statistics(microstate_accounting)</strong> returns a list of maps
representing some of the OS threads within ERTS. Each map
contains <strong>type</strong> and <strong>id</strong> fields that can be used to
identify what
thread it is, and also a counters field that contains data about how
much time has been spent in the various states.</p><p>Example:</p><pre>
&gt; <span class="input">erlang:statistics(microstate_accounting).</span>
[#{counters =&gt; #{aux =&gt; 1899182914,
                 check_io =&gt; 2605863602,
                 emulator =&gt; 45731880463,
                 gc =&gt; 1512206910,
                 other =&gt; 5421338456,
                 port =&gt; 221631,
                 sleep =&gt; 5150294100},
   id =&gt; 1,
   type =&gt; scheduler}|...]</pre><p>The time unit is the same as returned by
<a href="../kernel/os#perf_counter/0">kernel/os#perf_counter/0</a>.
So, to convert it to milliseconds, you can do something like this:</p><pre>
lists:map(
  fun(#{ counters := Cnt } = M) -&gt;
          MsCnt = maps:map(fun(_K, PerfCount) -&gt;
                                   erlang:convert_time_unit(PerfCount, perf_counter, 1000)
                           end, Cnt),
         M#{ counters := MsCnt }
  end, erlang:statistics(microstate_accounting)).</pre><p>Notice that these values are not guaranteed to be
the exact time spent in each state. This is because of various
optimisation done to keep the overhead as small as possible.</p><p><strong><span class="anno">MSAcc_Thread_Type</span></strong>s:</p><dl><dt><strong>scheduler</strong></dt><dd>The main execution threads that do most of the work. See <a href="../erts/erl#+S">erl +S</a> for more details.</dd><dt><strong>dirty_cpu_scheduler</strong></dt><dd>The threads for long running cpu intensive work. See <a href="../erts/erl#+SDcpu">erl +SDcpu</a> for more details.</dd><dt><strong>dirty_io_scheduler</strong></dt><dd>The threads for long running I/O work. See <a href="../erts/erl#+SDio">erl +SDio</a> for more details.</dd><dt><strong>async</strong></dt><dd>Async threads are used by various linked-in drivers (mainly the file drivers) do offload non-CPU intensive work. See <a href="../erts/erl#async_thread_pool_size">erl +A</a> for more details.</dd><dt><strong>aux</strong></dt><dd>Takes care of any work that is not specifically assigned to a scheduler.</dd><dt><strong>poll</strong></dt><dd>Does the IO polling for the emulator. See <a href="../erts/erl#+IOt">erl +IOt</a> for more details.</dd></dl><p>The following <strong><span class="anno">MSAcc_Thread_State</span></strong>s are available.
All states are exclusive, meaning that a thread cannot be in two
states at once. So, if you add the numbers of all counters in a
thread, you get the total runtime for that thread.</p><dl><dt><strong>aux</strong></dt><dd>Time spent handling auxiliary jobs.</dd><dt><strong>check_io</strong></dt><dd>Time spent checking for new I/O events.</dd><dt><strong>emulator</strong></dt><dd>Time spent executing Erlang processes.</dd><dt><strong>gc</strong></dt><dd>Time spent doing garbage collection. When extra states are enabled this is the time spent doing non-fullsweep garbage collections.</dd><dt><strong>other</strong></dt><dd>Time spent doing unaccounted things.</dd><dt><strong>port</strong></dt><dd>Time spent executing ports.</dd><dt><strong>sleep</strong></dt><dd>Time spent sleeping.</dd></dl><p>More fine-grained <strong><span class="anno">MSAcc_Thread_State</span></strong>s can
be added through configure (such as
<strong>./configure --with-microstate-accounting=extra</strong>).
Enabling these states causes performance degradation when
microstate accounting is turned off and increases the overhead when
it is turned on.</p><dl><dt><strong>alloc</strong></dt><dd>Time spent managing memory. Without extra states this time is spread out over all other states.</dd><dt><strong>bif</strong></dt><dd>Time spent in BIFs. Without extra states this time is part of the <strong>emulator</strong> state.</dd><dt><strong>busy_wait</strong></dt><dd>Time spent busy waiting. This is also the state where a scheduler no longer reports that it is active when using <a href="#statistics_scheduler_wall_time">statistics_scheduler_wall_time</a>. So, if you add all other states but this and sleep, and then divide that by all time in the thread, you should get something very similar to the <strong>scheduler_wall_time</strong> fraction. Without extra states this time is part of the <strong>other</strong> state.</dd><dt><strong>ets</strong></dt><dd>Time spent executing ETS BIFs. Without extra states this time is part of the <strong>emulator</strong> state.</dd><dt><strong>gc_full</strong></dt><dd>Time spent doing fullsweep garbage collection. Without extra states this time is part of the <strong>gc</strong> state.</dd><dt><strong>nif</strong></dt><dd>Time spent in NIFs. Without extra states this time is part of the <strong>emulator</strong> state.</dd><dt><strong>send</strong></dt><dd>Time spent sending messages (processes only). Without extra states this time is part of the <strong>emulator</strong> state.</dd><dt><strong>timers</strong></dt><dd>Time spent managing timers. Without extra states this time is part of the <strong>other</strong> state.</dd></dl><p>The utility module
<a href="./msacc">runtime_tools/msacc</a>
can be used to more easily analyse these statistics.</p><p>Returns <strong>undefined</strong> if system flag
<a href="#system_flag_microstate_accounting">system_flag_microstate_accounting</a> is turned off.</p><p>The list of thread information is unsorted and can appear in
different order between calls.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>The threads and states are subject to change without any
prior notice.</p></div><h2>statistics/1</h2><p>Information about reductions.</p><p>Returns information about reductions, for example:</p><pre>
&gt; <span class="input">statistics(reductions).</span>
{2046,11}</pre><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>As from ERTS 5.5 (Erlang/OTP R11B),
this value does not include reductions performed in current
time slices of currently scheduled processes. If an
exact value is wanted, use
<a href="#statistics_exact_reductions">statistics_exact_reductions</a>.</p></div><h2>statistics/1</h2><p>Information about the run-queues.</p><p>Returns the total length of all normal run-queues. That is, the number
of processes and ports that are ready to run on all available
normal run-queues. Dirty run queues are not part of the
result. The information is gathered atomically. That
is, the result is a consistent snapshot of the state, but
this operation is much more expensive compared to
<a href="#statistics_total_run_queue_lengths">statistics_total_run_queue_lengths</a>,
especially when a large amount of schedulers is used.</p><h2>statistics/1</h2><p>Information about the run-queue lengths.</p><p>Returns the same as
<a href="#statistics_run_queue_lengths_all">statistics_run_queue_lengths_all</a>
with the exception that no information about the dirty
IO run queue is part of the result. That is, only
run queues with work that is expected to be CPU bound
is part of the result.</p><h2>statistics/1</h2><p>Information about the run-queue lengths.</p><p>Returns a list where each element represents the amount
of processes and ports ready to run for each run queue.
Values for normal run queues are located first in the
resulting list. The first element corresponds to the
normal run queue of scheduler number 1 and so on. If
support for dirty schedulers exist, values for the dirty
CPU run queue and the dirty IO run queue follow (in that
order) at the end. The information is <em>not</em>
gathered atomically. That is, the result is not
necessarily a consistent snapshot of the state, but
instead quite efficiently gathered.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Each normal scheduler has one run queue that it
manages. If dirty schedulers schedulers are supported, all
dirty CPU schedulers share one run queue, and all dirty IO
schedulers share one run queue. That is, we have multiple
normal run queues, one dirty CPU run queue and one dirty
IO run queue. Work can <em>not</em> migrate between the
different types of run queues. Only work in normal run
queues can migrate to other normal run queues. This has
to be taken into account when evaluating the result.</p></div><p>See also
<a href="#statistics_run_queue_lengths">statistics_run_queue_lengths</a>,
<a href="#statistics_total_run_queue_lengths_all">statistics_total_run_queue_lengths_all</a>,
<a href="#statistics_total_run_queue_lengths">statistics_total_run_queue_lengths</a>,
<a href="#statistics_active_tasks">statistics_active_tasks</a>,
<a href="#statistics_active_tasks_all">statistics_active_tasks_all</a>, and
<a href="#statistics_total_active_tasks">statistics_total_active_tasks</a>,
<a href="#statistics_total_active_tasks_all">statistics_total_active_tasks_all</a>.</p><h2>statistics/1</h2><p>Information about runtime.</p><p>Returns information about runtime, in milliseconds.</p><p>This is the sum of the runtime for all threads
in the Erlang runtime system and can therefore be greater
than the wall clock time.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This value might wrap due to limitations in the
underlying functionality provided by the operating system
that is used.</p></div><p>Example:</p><pre>
&gt; <span class="input">statistics(runtime).</span>
{1690,1620}</pre><h2>statistics/1</h2><p>Information about each schedulers work time.</p><p>Returns a list of tuples with
<strong>{<span class="anno">SchedulerId</span>, <span class="anno">ActiveTime</span>, <span class="anno">TotalTime</span>}</strong>, where
<strong><span class="anno">SchedulerId</span></strong> is an integer ID of the scheduler,
<strong><span class="anno">ActiveTime</span></strong> is
the duration the scheduler has been busy, and
<strong><span class="anno">TotalTime</span></strong> is the total time duration since
<a href="#system_flag_scheduler_wall_time">system_flag_scheduler_wall_time</a>
activation for the specific scheduler. Note that
activation time can differ significantly between
schedulers. Currently dirty schedulers are activated
at system start while normal schedulers are activated
some time after the <strong>scheduler_wall_time</strong>
functionality is enabled. The time unit is undefined
and can be subject to change between releases, OSs,
and system restarts. <strong>scheduler_wall_time</strong> is only
to be used to calculate relative values for scheduler
utilization. <strong><span class="anno">ActiveTime</span></strong> can never
exceed <strong><span class="anno">TotalTime</span></strong>.</p><p>The definition of a busy scheduler is when it is not idle
and is not scheduling (selecting) a process or port,
that is:</p><ul><li>Executing process code</li><li>Executing linked-in driver or NIF code</li><li>Executing BIFs, or any other runtime handling</li><li>Garbage collecting</li><li>Handling any other memory management</li></ul><p>Notice that a scheduler can also be busy even if the
OS has scheduled out the scheduler thread.</p><p>Returns <strong>undefined</strong> if system flag
<a href="#system_flag_scheduler_wall_time">system_flag_scheduler_wall_time</a> is turned off.</p><p>The list of scheduler information is unsorted and can
appear in different order between calls.</p><p>As of ERTS version 9.0, also dirty CPU schedulers will
be included in the result. That is, all scheduler threads
that are expected to handle CPU bound work. If you also
want information about dirty I/O schedulers, use
<a href="#statistics_scheduler_wall_time_all">statistics_scheduler_wall_time_all</a>
instead.</p><p>Normal schedulers will have scheduler identifiers in
the range <strong>1 =&lt; <span class="anno">SchedulerId</span> =&lt; </strong><a href="#system_info_schedulers">system_info_schedulers</a>.
Dirty CPU schedulers will have scheduler identifiers in
the range <strong>erlang:system_info(schedulers) &lt; <span class="anno">SchedulerId</span> =&lt; erlang:system_info(schedulers) + </strong><a href="#system_info_dirty_cpu_schedulers">system_info_dirty_cpu_schedulers</a>.
</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>The different types of schedulers handle
specific types of jobs. Every job is assigned to a specific
scheduler type. Jobs can migrate between different schedulers
of the same type, but never between schedulers of different
types. This fact has to be taken under consideration when
evaluating the result returned.</p></div><p>Using <strong>scheduler_wall_time</strong> to calculate
scheduler utilization:</p><pre>
&gt; <span class="input">erlang:system_flag(scheduler_wall_time, true).</span>
false
&gt; <span class="input">Ts0 = lists:sort(erlang:statistics(scheduler_wall_time)), ok.</span>
ok</pre><p>Some time later the user takes another snapshot and calculates
scheduler utilization per scheduler, for example:</p><pre>
&gt; <span class="input">Ts1 = lists:sort(erlang:statistics(scheduler_wall_time)), ok.</span>
ok
&gt; <span class="input">lists:map(fun({{I, A0, T0}, {I, A1, T1}}) -&gt; {I, (A1 - A0)/(T1 - T0)} end, lists:zip(Ts0,Ts1)).</span>
[{1,0.9743474730177548},
 {2,0.9744843782751444},
 {3,0.9995902361669045},
 {4,0.9738012596572161},
 {5,0.9717956667018103},
 {6,0.9739235846420741},
 {7,0.973237033077876},
 {8,0.9741297293248656}]</pre><p>Using the same snapshots to calculate a total
scheduler utilization:</p><pre>
&gt; <span class="input">{A, T} = lists:foldl(fun({{_, A0, T0}, {_, A1, T1}}, {Ai,Ti}) -&gt; {Ai + (A1 - A0), Ti + (T1 - T0)} end, {0, 0}, lists:zip(Ts0,Ts1)), TotalSchedulerUtilization = A/T.</span>
0.9769136803764825</pre><p>Total scheduler utilization will equal <strong>1.0</strong> when
all schedulers have been active all the time between the
two measurements.</p><p>Another (probably more) useful value is to calculate
total scheduler utilization weighted against maximum amount
of available CPU time:</p><pre>
&gt; <span class="input">WeightedSchedulerUtilization = (TotalSchedulerUtilization * (erlang:system_info(schedulers) + erlang:system_info(dirty_cpu_schedulers))) / erlang:system_info(logical_processors_available).</span>
0.9769136803764825</pre><p>This weighted scheduler utilization will reach <strong>1.0</strong>
when schedulers are active the same amount of time as
maximum available CPU time. If more schedulers exist
than available logical processors, this value may
be greater than <strong>1.0</strong>.</p><p>As of ERTS version 9.0, the Erlang runtime system
will as default have more schedulers than logical processors.
This due to the dirty schedulers.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p><strong>scheduler_wall_time</strong> is by default disabled. To
enable it, use
<strong>erlang:system_flag(scheduler_wall_time, true)</strong>.</p></div><h2>statistics/1</h2><p>Information about each schedulers work time.</p><p>The same as
<a href="#statistics_scheduler_wall_time">statistics_scheduler_wall_time</a>,
except that it also include information about all dirty I/O
schedulers.</p><p>Dirty IO schedulers will have scheduler identifiers in
the range
<a href="#system_info_schedulers">system_info_schedulers</a><strong> + </strong><a href="#system_info_dirty_cpu_schedulers">system_info_dirty_cpu_schedulers</a><strong> &lt; <span class="anno">SchedulerId</span> =&lt; erlang:system_info(schedulers) + erlang:system_info(dirty_cpu_schedulers) + </strong><a href="#system_info_dirty_io_schedulers">system_info_dirty_io_schedulers</a>.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Note that work executing on dirty I/O schedulers
are expected to mainly wait for I/O. That is, when you
get high scheduler utilization on dirty I/O schedulers,
CPU utilization is <em>not</em> expected to be high due to
this work.</p></div><h2>statistics/1</h2><p>Information about active processes and ports.</p><p>The same as calling
<strong>lists:sum(</strong><a href="#statistics_active_tasks">statistics_active_tasks</a><strong>)</strong>,
but more efficient.</p><h2>statistics/1</h2><p>Information about active processes and ports.</p><p>The same as calling
<strong>lists:sum(</strong><a href="#statistics_active_tasks_all">statistics_active_tasks_all</a><strong>)</strong>,
but more efficient.</p><h2>statistics/1</h2><p>Information about the run-queue lengths.</p><p>The same as calling
<strong>lists:sum(</strong><a href="#statistics_run_queue_lengths">statistics_run_queue_lengths</a><strong>)</strong>,
but more efficient.</p><h2>statistics/1</h2><p>Information about the run-queue lengths.</p><p>The same as calling
<strong>lists:sum(</strong><a href="#statistics_run_queue_lengths_all">statistics_run_queue_lengths_all</a><strong>)</strong>,
but more efficient.</p><h2>statistics/1</h2><p>Information about wall clock.</p><p>Returns information about wall clock. <strong>wall_clock</strong> can
be used in the same manner as
<strong>runtime</strong>, except that real time is measured as
opposed to runtime or CPU time.</p><h2>suspend_process/1</h2><p>Suspend a process.</p><p>Suspends the process identified by
<strong><span class="anno">Suspendee</span></strong>. The same as calling
<a href="#suspend_process/2">suspend_process/2</a>.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for debugging only.</p></div><h2>suspend_process/2</h2><p>Suspend a process.</p><p>Increases the suspend count on the process identified by
<strong><span class="anno">Suspendee</span></strong> and puts it in the suspended
state if it is not
already in that state. A suspended process is not
scheduled for execution until the process has been resumed.</p><p>A process can be suspended by multiple processes and can
be suspended multiple times by a single process. A suspended
process does not leave the suspended state until its suspend 
count reaches zero. The suspend count of
<strong><span class="anno">Suspendee</span></strong> is decreased when
<a href="#resume_process/1">resume_process/1</a>
is called by the same process that called
<strong>erlang:suspend_process(<span class="anno">Suspendee</span>)</strong>.
All increased suspend
counts on other processes acquired by a process are automatically
decreased when the process terminates.</p><p>Options (<strong><span class="anno">Opt</span></strong>s):</p><dl><dt><strong>asynchronous</strong></dt><dd> <p>A suspend request is sent to the process identified by
<strong><span class="anno">Suspendee</span></strong>. <strong><span class="anno">Suspendee</span></strong>
eventually suspends
unless it is resumed before it could suspend. The caller
of <strong>erlang:suspend_process/2</strong> returns immediately,
regardless of whether <strong><span class="anno">Suspendee</span></strong> has
suspended yet or not. The point in time when
<strong><span class="anno">Suspendee</span></strong> suspends cannot be deduced
from other events in the system. It is only guaranteed that
<strong><span class="anno">Suspendee</span></strong> <em>eventually</em> suspends
(unless it
is resumed). If no <strong>asynchronous</strong> options has
been passed, the caller of <strong>erlang:suspend_process/2</strong> is
blocked until <strong><span class="anno">Suspendee</span></strong> has suspended.</p> </dd><dt><strong>{asynchronous, ReplyTag}</strong></dt><dd> <p>A suspend request is sent to the process identified by
<strong><span class="anno">Suspendee</span></strong>. When the suspend request
has been processed, a reply message is sent to the caller
of this function. The reply is on the form <strong>{ReplyTag, State}</strong> where <strong>State</strong> is either:</p> <dl><dt><strong>exited</strong></dt><dd> <p>
<strong><span class="anno">Suspendee</span></strong> has exited.
</p> </dd><dt><strong>suspended</strong></dt><dd> <p>
<strong><span class="anno">Suspendee</span></strong> is now suspended.
</p> </dd><dt><strong>not_suspended</strong></dt><dd> <p>
<strong><span class="anno">Suspendee</span></strong> is not suspended.
This can only happen when the process that
issued this request, have called
<strong>resume_process(<span class="anno">Suspendee</span>)</strong>
before getting the reply.
</p> </dd></dl> <p>
Appart from the reply message, the <strong>{asynchronous, ReplyTag}</strong> option behaves exactly the same as the
<strong>asynchronous</strong> option without reply tag.
</p> </dd><dt><strong>unless_suspending</strong></dt><dd> <p>The process identified by <strong><span class="anno">Suspendee</span></strong> is
suspended unless the calling process already is suspending
<strong><span class="anno">Suspendee</span></strong>.
If <strong>unless_suspending</strong> is combined
with option <strong>asynchronous</strong>, a suspend request is
sent unless the calling process already is suspending
<strong><span class="anno">Suspendee</span></strong> or if a suspend request
already has been sent and is in transit. If the calling
process already is suspending <strong><span class="anno">Suspendee</span></strong>,
or if combined with option <strong>asynchronous</strong>
and a send request already is in transit,
<strong>false</strong> is returned and the suspend count on
<strong><span class="anno">Suspendee</span></strong> remains unchanged.</p> </dd></dl><p>If the suspend count on the process identified by
<strong><span class="anno">Suspendee</span></strong> is increased, <strong>true</strong>
is returned, otherwise <strong>false</strong>.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>This BIF is intended for debugging only.</p></div><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>You can easily create deadlocks if processes suspends
each other (directly or in circles). In ERTS versions prior
to ERTS version 10.0, the runtime system prevented such
deadlocks, but this prevention has now been removed due
to performance reasons.</p></div><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">Suspendee</span></strong> is not a process identifier. </dd><dt><strong>badarg</strong></dt><dd> If the process identified by <strong><span class="anno">Suspendee</span></strong> is the same process as the process calling <strong>erlang:suspend_process/2</strong>. </dd><dt><strong>badarg</strong></dt><dd> If the process identified by <strong><span class="anno">Suspendee</span></strong> is not alive. </dd><dt><strong>badarg</strong></dt><dd> If the process identified by <strong><span class="anno">Suspendee</span></strong> resides on another node. </dd><dt><strong>badarg</strong></dt><dd> If <strong><span class="anno">OptList</span></strong> is not a proper list of valid <strong><span class="anno">Opt</span></strong>s. </dd><dt><strong>system_limit</strong></dt><dd> If the process identified by <strong><span class="anno">Suspendee</span></strong> has been suspended more times by the calling process than can be represented by the currently used internal data structures. The system limit is &gt; 2,000,000,000 suspends and will never be lower. </dd></dl><h2>system_flag/2</h2><p>Set system flag <strong>backtrace_depth</strong>.</p><p>Sets the maximum depth of call stack back-traces in the
exit reason element of <strong>'EXIT'</strong> tuples. The flag
also limits the stacktrace depth returned by <strong>process_info</strong>
item <strong>current_stacktrace.</strong></p><p>Returns the old value of the flag.</p><h2>system_flag/2</h2><p>Set system flag <strong>cpu_topology</strong>.</p><ul><li>cpu_topology</li></ul><ul><li>level_entry</li></ul><ul><li>level_tag</li></ul><ul><li>sub_level</li></ul><ul><li>info_list</li></ul><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>
<em>This argument is deprecated.</em>
Instead of using this argument, use command-line argument
<a href="../erts/erl#+sct">erts/erl#+sct</a> in
<strong>erl(1)</strong>.</p><p>When this argument is removed, a final CPU topology
to use is determined at emulator boot time.</p></div><p>Sets the user-defined <strong><span class="anno">CpuTopology</span></strong>.
The user-defined
CPU topology overrides any automatically detected
CPU topology. By passing <strong>undefined</strong> as
<strong><span class="anno">CpuTopology</span></strong>,
the system reverts to the CPU topology automatically
detected. The returned value equals the value returned
from <strong>erlang:system_info(cpu_topology)</strong> before the
change was made.</p><p>Returns the old value of the flag.</p><p>The CPU topology is used when binding schedulers to logical
processors. If schedulers are already bound when the CPU
topology is changed, the schedulers are sent a request
to rebind according to the new CPU topology.</p><p>The user-defined CPU topology can also be set by passing
command-line argument
<a href="../erts/erl#+sct">erts/erl#+sct</a> to
<strong>erl(1)</strong>.</p><p>For information on type <strong><span class="anno">CpuTopology</span></strong>
and more, see
<a href="#system_info_cpu_topology">system_info_cpu_topology</a>
as well as command-line flags
<a href="../erts/erl#+sct">erts/erl#+sct</a> and
<a href="../erts/erl#+sbt">erts/erl#+sbt</a> in
<strong>erl(1)</strong>.</p><h2>system_flag/2</h2><p>Set system_flag_dirty_cpu_schedulers_online.</p><p>
Sets the number of dirty CPU schedulers online. Range is
<strong>1 &lt;= DirtyCPUSchedulersOnline &lt;= N</strong>, where <strong>N</strong>
is the smallest of the return values of
<strong>erlang:system_info(dirty_cpu_schedulers)</strong> and
<strong>erlang:system_info(schedulers_online)</strong>.</p><p>Returns the old value of the flag.</p><p>The number of dirty CPU schedulers online can change if the
number of schedulers online changes. For example, if 12
schedulers and 6 dirty CPU schedulers are online, and
<strong>system_flag/2</strong> is used to set the number of
schedulers online to 6, then the number of dirty CPU
schedulers online is automatically decreased by half as well,
down to 3. Similarly, the number of dirty CPU schedulers
online increases proportionally to increases in the number of
schedulers online.</p><p>For more information, see
<a href="#system_info_dirty_cpu_schedulers">system_info_dirty_cpu_schedulers</a> and
<a href="#system_info_dirty_cpu_schedulers_online">system_info_dirty_cpu_schedulers_online</a>.</p><h2>system_flag/2</h2><p>Set system flag for erts_alloc.</p><p>Sets system flags for
<a href="./erts_alloc">erts/erts_alloc</a>.
<strong><span class="anno">Alloc</span></strong> is the allocator to affect, for example
<strong>binary_alloc</strong>. <strong><span class="anno">F</span></strong> is the flag to change and
<strong><span class="anno">V</span></strong> is the new value.</p><p>Only a subset of all <strong>erts_alloc</strong> flags can be changed
at run time. This subset is currently only the flag
<a href="../erts/erts_alloc#M_sbct">erts/erts_alloc#M_sbct</a>.</p><p>Returns <strong>ok</strong> if the flag was set or <strong>notsup</strong> if not
supported by <strong>erts_alloc</strong>.</p><h2>system_flag/2</h2><p>Set system flag fullsweep_after.</p><p>Sets system flag <strong>fullsweep_after</strong>.
<strong><span class="anno">Number</span></strong> is a non-negative integer indicating
how many times generational garbage collections can be
done without forcing a fullsweep collection. The value
applies to new processes, while processes already running are
not affected.</p><p>Returns the old value of the flag.</p><p>In low-memory systems (especially without virtual
memory), setting the value to <strong>0</strong> can help to conserve
memory.</p><p>This value can also be set through (OS)
environment variable <strong>ERL_FULLSWEEP_AFTER</strong>.</p><h2>system_flag/2</h2><p>Set system flag microstate_accounting.</p><p>
Turns on/off microstate accounting measurements. When passing reset,
all counters are reset to 0.</p><p>For more information see
<a href="#statistics_microstate_accounting">statistics_microstate_accounting</a>.</p><h2>system_flag/2</h2><p>Set system flag min_heap_size.</p><p>Sets the default minimum heap size for processes. The size
is specified in words. The new <strong>min_heap_size</strong> effects
only processes spawned after the change of
<strong>min_heap_size</strong> has been made. <strong>min_heap_size</strong>
can be set for individual processes by using
<a href="#spawn_opt/4">spawn_opt/4</a> or
<a href="#process_flag/2">process_flag/2</a>.</p><p>Returns the old value of the flag.</p><h2>system_flag/2</h2><p>Set system flag min_bin_vheap_size.</p><p>Sets the default minimum binary virtual heap size for
processes. The size is specified in words.
The new <strong>min_bin_vhheap_size</strong> effects only
processes spawned after the change of
<strong>min_bin_vheap_size</strong> has been made.
<strong>min_bin_vheap_size</strong> can be set for individual
processes by using
<a href="#spawn_opt/4">spawn_opt/4</a> or
<a href="#process_flag/2">process_flag/2</a>.</p><p>Returns the old value of the flag.</p><h2>system_flag/2</h2><p>Set system flag max_heap_size.</p><ul><li>max_heap_size</li></ul><p>
Sets the default maximum heap size settings for processes.
The size is specified in words. The new <strong>max_heap_size</strong>
effects only processes spawned efter the change has been made.
<strong>max_heap_size</strong> can be set for individual processes using
<a href="#spawn_opt/4">spawn_opt/4</a> or
<a href="#process_flag_max_heap_size">process_flag_max_heap_size</a>.</p><p>Returns the old value of the flag.</p><h2>system_flag/2</h2><p>Set system flag multi_scheduling.</p><p>
If multi-scheduling is enabled, more than one scheduler
thread is used by the emulator. Multi-scheduling can be
blocked in two different ways. Either all schedulers but
one is blocked, or all <em>normal</em> schedulers but
one is blocked. When only normal schedulers are blocked,
dirty schedulers are free to continue to schedule
processes.</p><p>If <strong><span class="anno">BlockState</span> =:= block</strong>, multi-scheduling is
blocked. That is, one and only one scheduler thread will
execute. If <strong><span class="anno">BlockState</span> =:= unblock</strong> and no one
else blocks multi-scheduling, and this process has
blocked only once, multi-scheduling is unblocked.</p><p>If <strong><span class="anno">BlockState</span> =:= block_normal</strong>, normal
multi-scheduling is blocked. That is, only one normal scheduler
thread will execute, but multiple dirty schedulers can execute.
If <strong><span class="anno">BlockState</span> =:= unblock_normal</strong> and no one
else blocks normal multi-scheduling, and this process has
blocked only once, normal multi-scheduling is unblocked.</p><p>One process can block multi-scheduling and normal
multi-scheduling multiple times. If a process has blocked
multiple times, it must unblock exactly as many times as it
has blocked before it has released its multi-scheduling
block. If a process that has blocked multi-scheduling or normal
multi-scheduling exits, it automatically releases its blocking
of multi-scheduling and normal multi-scheduling.</p><p>The return values are <strong>disabled</strong>, <strong>blocked</strong>,
<strong>blocked_normal</strong>, or <strong>enabled</strong>. The returned value
describes the state just after the call to
<strong>erlang:system_flag(multi_scheduling, <span class="anno">BlockState</span>)</strong>
has been made. For information about the return values, see
<a href="#system_info_multi_scheduling">system_info_multi_scheduling</a>.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Blocking of multi-scheduling and normal multi-scheduling
is normally not needed. If you feel that you need to use these
features, consider it a few more times again. Blocking
multi-scheduling is only to be used as a last resort, as it is
most likely a <em>very inefficient</em> way to solve the problem.</p></div><p>See also
<a href="#system_info_multi_scheduling">system_info_multi_scheduling</a>,
<a href="#system_info_normal_multi_scheduling_blockers">system_info_normal_multi_scheduling_blockers</a>,
<a href="#system_info_multi_scheduling_blockers">system_info_multi_scheduling_blockers</a>, and
<a href="#system_info_schedulers">system_info_schedulers</a>.</p><h2>system_flag/2</h2><p>Set system flag scheduler_bind_type.</p><ul><li>scheduler_bind_type</li></ul><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>
<em>This argument is deprecated.</em>
Instead of using this argument, use command-line argument
<a href="../erts/erl#+sbt">erts/erl#+sbt</a> in
<strong>erl(1)</strong>. When this argument is removed, a final scheduler bind
type to use is determined at emulator boot time.</p></div><p>Controls if and how schedulers are bound to logical
processors.</p><p>When <strong>erlang:system_flag(scheduler_bind_type, <span class="anno">How</span>)</strong>
is called, an asynchronous signal is sent to all schedulers
online, causing them to try to bind or unbind as requested.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>If a scheduler fails to bind, this is often silently
ignored, as it is not always possible to verify valid
logical processor identifiers. If an error is reported,
an error event is logged. To verify that the
schedulers have bound as requested, call
<a href="#system_info_scheduler_bindings">system_info_scheduler_bindings</a>.</p></div><p>Schedulers can be bound on newer Linux,
Solaris, FreeBSD, and Windows systems, but more systems will be
supported in future releases.</p><p>In order for the runtime system to be able to bind schedulers,
the CPU topology must be known. If the runtime system fails
to detect the CPU topology automatically, it can be defined.
For more information on how to define the CPU topology, see
command-line flag <a href="../erts/erl#+sct">erts/erl#+sct</a> in <strong>erl(1)</strong>.</p><p>The runtime system does by default <em>not</em> bind schedulers
to logical processors.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>If the Erlang runtime system is the only OS
process binding threads to logical processors, this
improves the performance of the runtime system. However,
if other OS processes (for example, another Erlang
runtime system) also bind threads to logical processors,
there can be a performance penalty instead. Sometimes this
performance penalty can be severe. If so, it is recommended
to not bind the schedulers.</p></div><p>Schedulers can be bound in different ways. Argument
<strong><span class="anno">How</span></strong> determines how schedulers are
bound and can be any of the following:</p><dl><dt><strong>unbound</strong></dt><dd>Same as command-line argument <a href="../erts/erl#+sbt">erts/erl#+sbt</a> in <strong>erl(1)</strong>. </dd><dt><strong>no_spread</strong></dt><dd>Same as command-line argument <a href="../erts/erl#+sbt">erts/erl#+sbt</a> in <strong>erl(1)</strong>. </dd><dt><strong>thread_spread</strong></dt><dd>Same as command-line argument <a href="../erts/erl#+sbt">erts/erl#+sbt</a> in <strong>erl(1)</strong>. </dd><dt><strong>processor_spread</strong></dt><dd>Same as command-line argument <a href="../erts/erl#+sbt">erts/erl#+sbt</a> in <strong>erl(1)</strong>. </dd><dt><strong>spread</strong></dt><dd>Same as command-line argument <a href="../erts/erl#+sbt">erts/erl#+sbt</a> in <strong>erl(1)</strong>. </dd><dt><strong>no_node_thread_spread</strong></dt><dd>Same as command-line argument <a href="../erts/erl#+sbt">erts/erl#+sbt</a> in <strong>erl(1)</strong>. </dd><dt><strong>no_node_processor_spread</strong></dt><dd>Same as command-line argument <a href="../erts/erl#+sbt">erts/erl#+sbt</a> in <strong>erl(1)</strong>. </dd><dt><strong>thread_no_node_processor_spread</strong></dt><dd>Same as command-line argument <a href="../erts/erl#+sbt">erts/erl#+sbt</a> in <strong>erl(1)</strong>. </dd><dt><strong>default_bind</strong></dt><dd>Same as command-line argument <a href="../erts/erl#+sbt">erts/erl#+sbt</a> in <strong>erl(1)</strong>. </dd></dl><p>The returned value equals <strong><span class="anno">How</span></strong> before flag
<strong>scheduler_bind_type</strong> was changed.</p><p>Failures:</p><dl><dt><strong>notsup</strong></dt><dd>If binding of schedulers is not supported. </dd><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">How</span></strong> is not one of the documented alternatives. </dd><dt><strong>badarg</strong></dt><dd>If CPU topology information is unavailable. </dd></dl><p>The scheduler bind type can also be set by passing command-line
argument <a href="../erts/erl#+sbt">erts/erl#+sbt</a> to <strong>erl(1)</strong>.</p><p>For more information, see
<a href="#system_info_scheduler_bind_type">system_info_scheduler_bind_type</a>,
<a href="#system_info_scheduler_bindings">system_info_scheduler_bindings</a>,
as well as command-line flags
<a href="../erts/erl#+sbt">erts/erl#+sbt</a>
and <a href="../erts/erl#+sct">erts/erl#+sct</a>
in <strong>erl(1)</strong>.</p><h2>system_flag/2</h2><p>Set system flag scheduler_wall_time.</p><p>
Turns on or off scheduler wall time measurements.</p><p>For more information, see
<a href="#statistics_scheduler_wall_time">statistics_scheduler_wall_time</a>.</p><h2>system_flag/2</h2><p>Set system flag schedulers_online.</p><p>
Sets the number of schedulers online. Range is
<strong>1 &lt;= SchedulersOnline &lt;= erlang:system_info(schedulers)</strong>.</p><p>Returns the old value of the flag.</p><p>If the emulator was built with support for
<a href="#system_flag_dirty_cpu_schedulers_online"> dirty schedulers</a>,
changing the number of schedulers online can also change the
number of dirty CPU schedulers online. For example, if 12
schedulers and 6 dirty CPU schedulers are online, and
<strong>system_flag/2</strong> is used to set the number of schedulers
online to 6, then the number of dirty CPU schedulers online
is automatically decreased by half as well, down to 3.
Similarly, the number of dirty CPU schedulers online increases
proportionally to increases in the number of schedulers online.</p><p>For more information, see
<a href="#system_info_schedulers">system_info_schedulers</a> and
<a href="#system_info_schedulers_online">system_info_schedulers_online</a>.</p><h2>system_flag/2</h2><p>Set system logger process.</p><p>Sets the process that will receive the logging
messages generated by ERTS. If set to <strong>undefined</strong>,
all logging messages generated by ERTS will be dropped.
The messages will be in the format:</p><pre><code class="">
{log,Level,Format,ArgList,Metadata} where

Level = atom(),
Format = string(),
ArgList = list(term()),
Metadata = #{ pid =&gt; pid(),
   group_leader =&gt; pid(),
   time := logger:timestamp(),
   error_logger := #{ emulator := true, tag := atom() }
        </code></pre><p>If the <strong>system_logger</strong> process dies,
this flag will be reset to <strong>logger</strong>.</p><p>The default is the process named <strong>logger</strong>.</p><p>Returns the old value of the flag.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>This function is designed to be used by the
KERNEL <a href="./logger">kernel/logger</a>.
Be careful if you change it to something else as
log messages may be lost. If you want to intercept
emulator log messages, do it by adding a specialized handler
to the KERNEL logger.</p></div><h2>system_flag/2</h2><p>Set system flag trace_control_word.</p><p>Sets the value of the node trace control word to
<strong><span class="anno">TCW</span></strong>, which is to be an unsigned integer.
For more information, see function
<a href="../erts/match_spec#set_tcw">erts/match_spec#set_tcw</a>
in section "Match Specifications in Erlang" in the
User's Guide.</p><p>Returns the old value of the flag.</p><h2>system_flag/2</h2><p>Finalize the time offset.</p><p>
Finalizes the <a href="#time_offset/0">time offset</a>
when <a href="./time_correction#Single_Time_Warp_Mode">single time warp mode</a> is used. If another time warp mode
is used, the time offset state is left unchanged.</p><p>Returns the old state identifier, that is:</p><ul><li><p>If <strong>preliminary</strong> is returned, finalization was
performed and the time offset is now final.</p> </li><li><p>If <strong>final</strong> is returned, the time offset was
already in the final state. This either because another
<strong>erlang:system_flag(time_offset, finalize)</strong> call or
because <a href="./time_correction#No_Time_Warp_Mode">no time warp mode</a> is used.</p> </li><li><p>If <strong>volatile</strong> is returned, the time offset
cannot be finalized because
<a href="./time_correction#Multi_Time_Warp_Mode">multi-time warp mode</a> is used.</p> </li></ul><h2>system_info/1</h2><p>System info overview.</p><p>Returns information about the current system.
The documentation of this function is broken into the following
sections in order to make it easier to navigate.</p><dl><dt><a href="#system_info_allocator">system_info_allocator</a></dt><dd> <p>
<a href="#system_info_allocated_areas">system_info_allocated_areas</a>,
<a href="#system_info_allocator">system_info_allocator</a>,
<a href="#system_info_alloc_util_allocators">system_info_alloc_util_allocators</a>,
<a href="#system_info_allocator_sizes">system_info_allocator_sizes</a>,
<a href="#system_info_elib_malloc">system_info_elib_malloc</a>
</p> </dd><dt><a href="#system_info_cpu_topology">system_info_cpu_topology</a></dt><dd> <p>
<a href="#system_info_cpu_topology">system_info_cpu_topology</a>,
<a href="#system_info_logical_processors">system_info_logical_processors</a>,
<a href="#system_info_update_cpu_info">system_info_update_cpu_info</a>
</p> </dd><dt><a href="#system_info_process">system_info_process</a></dt><dd> <p>
<a href="#system_info_fullsweep_after">system_info_fullsweep_after</a>,
<a href="#system_info_garbage_collection">system_info_garbage_collection</a>,
<a href="#system_info_heap_sizes">system_info_heap_sizes</a>,
<a href="#system_info_heap_type">system_info_heap_type</a>,
<a href="#system_info_max_heap_size">system_info_max_heap_size</a>,
<a href="#system_info_message_queue_data">system_info_message_queue_data</a>,
<a href="#system_info_min_heap_size">system_info_min_heap_size</a>,
<a href="#system_info_min_bin_vheap_size">system_info_min_bin_vheap_size</a>,
<a href="#system_info_procs">system_info_procs</a>
</p> </dd><dt><a href="#system_info_limits">system_info_limits</a></dt><dd> <p>
<a href="#system_info_atom_count">system_info_atom_count</a>,
<a href="#system_info_atom_limit">system_info_atom_limit</a>,
<a href="#system_info_ets_count">system_info_ets_count</a>,
<a href="#system_info_ets_limit">system_info_ets_limit</a>,
<a href="#system_info_port_count">system_info_port_count</a>,
<a href="#system_info_port_limit">system_info_port_limit</a>,
<a href="#system_info_process_count">system_info_process_count</a>,
<a href="#system_info_process_limit">system_info_process_limit</a>
</p> </dd><dt><a href="#system_info_time">system_info_time</a></dt><dd> <p>
<a href="#system_info_end_time">system_info_end_time</a>,
<a href="#system_info_os_monotonic_time_source">system_info_os_monotonic_time_source</a>,
<a href="#system_info_os_system_time_source">system_info_os_system_time_source</a>,
<a href="#system_info_start_time">system_info_start_time</a>,
<a href="#system_info_time_correction">system_info_time_correction</a>,
<a href="#system_info_time_offset">system_info_time_offset</a>,
<a href="#system_info_time_warp_mode">system_info_time_warp_mode</a>,
<a href="#system_info_tolerant_timeofday">system_info_tolerant_timeofday</a>
</p> </dd><dt><a href="#system_info_scheduler">system_info_scheduler</a></dt><dd> <p>
<a href="#system_info_dirty_cpu_schedulers">system_info_dirty_cpu_schedulers</a>,
<a href="#system_info_dirty_cpu_schedulers_online">system_info_dirty_cpu_schedulers_online</a>,
<a href="#system_info_dirty_io_schedulers">system_info_dirty_io_schedulers</a>,
<a href="#system_info_multi_scheduling">system_info_multi_scheduling</a>,
<a href="#system_info_multi_scheduling_blockers">system_info_multi_scheduling_blockers</a>,
<a href="#system_info_normal_multi_scheduling_blockers">system_info_normal_multi_scheduling_blockers</a>,
<a href="#system_info_scheduler_bind_type">system_info_scheduler_bind_type</a>,
<a href="#system_info_scheduler_bindings">system_info_scheduler_bindings</a>,
<a href="#system_info_scheduler_id">system_info_scheduler_id</a>,
<a href="#system_info_schedulers">system_info_schedulers</a>,
<a href="#system_info_smp_support">system_info_smp_support</a>,
<a href="#system_info_threads">system_info_threads</a>,
<a href="#system_info_thread_pool_size">system_info_thread_pool_size</a>
</p> </dd><dt><a href="#system_info_dist">system_info_dist</a></dt><dd> <p>
<a href="#system_info_creation">system_info_creation</a>,
<a href="#system_info_delayed_node_table_gc">system_info_delayed_node_table_gc</a>,
<a href="#system_info_dist">system_info_dist</a>,
<a href="#system_info_dist_buf_busy_limit">system_info_dist_buf_busy_limit</a>,
<a href="#system_info_dist_ctrl">system_info_dist_ctrl</a>
</p> </dd><dt><a href="#system_info_misc">system_info_misc</a></dt><dd> <p>
<a href="#system_info_build_type">system_info_build_type</a>,
<a href="#system_info_c_compiler_used">system_info_c_compiler_used</a>,
<a href="#system_info_check_io">system_info_check_io</a>,
<a href="#system_info_compat_rel">system_info_compat_rel</a>,
<a href="#system_info_debug_compiled">system_info_debug_compiled</a>,
<a href="#system_info_driver_version">system_info_driver_version</a>,
<a href="#system_info_dynamic_trace">system_info_dynamic_trace</a>,
<a href="#system_info_dynamic_trace_probes">system_info_dynamic_trace_probes</a>,
<a href="#system_info_info">system_info_info</a>,
<a href="#system_info_kernel_poll">system_info_kernel_poll</a>,
<a href="#system_info_loaded">system_info_loaded</a>,
<a href="#system_info_machine">system_info_machine</a>,
<a href="#system_info_modified_timing_level">system_info_modified_timing_level</a>,
<a href="#system_info_nif_version">system_info_nif_version</a>,
<a href="#system_info_otp_release">system_info_otp_release</a>,
<a href="#system_info_port_parallelism">system_info_port_parallelism</a>,
<a href="#system_info_system_architecture">system_info_system_architecture</a>,
<a href="#system_info_system_logger">system_info_system_logger</a>,
<a href="#system_info_system_version">system_info_system_version</a>,
<a href="#system_info_trace_control_word">system_info_trace_control_word</a>,
<a href="#system_info_version">system_info_version</a>,
<a href="#system_info_wordsize">system_info_wordsize</a>
</p> </dd></dl><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><p>Information about the system allocators.</p><ul><li>Allocator</li></ul><ul><li>Version</li></ul><ul><li>Features</li></ul><ul><li>Settings</li></ul><ul><li>Alloc</li></ul><a name="system_info_allocator_tags"></a><p>Returns various information about the memory allocators
of the current system (emulator) as specified by
<strong><span class="anno">Item</span></strong>:</p><a name="system_info_allocated_areas"></a><dl><dt><a name="system_info_allocated_areas"></a> <strong>allocated_areas</strong></dt><dd> <p>Returns a list of tuples with information about
miscellaneous allocated memory areas.</p> <p>Each tuple contains an atom describing the type of
memory as first element and the amount of allocated
memory in bytes as second element. When information
about allocated and used memory is present, also a
third element is present, containing the amount of
used memory in bytes.</p> <p><strong>erlang:system_info(allocated_areas)</strong> is intended
for debugging, and the content is highly
implementation-dependent. The content of the results
therefore changes when needed without prior notice.</p> <p>Notice that the sum of these values is <em>not</em>
the total amount of memory allocated by the emulator.
Some values are part of other values, and some memory
areas are not part of the result. For information about
the total amount of memory allocated by the emulator, see
<a href="#memory/0">memory/0</a>.</p> </dd><dt><a name="system_info_allocator"></a> <strong>allocator</strong></dt><dd> <p>Returns <strong>{<span class="anno">Allocator</span>, <span class="anno">Version</span>, <span class="anno">Features</span>, <span class="anno">Settings</span></strong>, where:</p> <ul><li> <p><strong><span class="anno">Allocator</span></strong> corresponds to the
<strong>malloc()</strong> implementation used. If
<strong><span class="anno">Allocator</span></strong> equals
<strong>undefined</strong>, the <strong>malloc()</strong> implementation
used cannot be identified. <strong>glibc</strong> can be
identified.</p> </li><li> <p><strong><span class="anno">Version</span></strong> is a list of integers
(but not a string) representing the version of
the <strong>malloc()</strong> implementation used.</p> </li><li> <p><strong><span class="anno">Features</span></strong> is a list of atoms
representing the allocation features used.</p> </li><li> <p><strong><span class="anno">Settings</span></strong> is a list of subsystems,
their configurable parameters, and used values. Settings
can differ between different combinations of
platforms, allocators, and allocation features.
Memory sizes are given in bytes.</p> </li></ul> <p>See also "System Flags Effecting erts_alloc" in
<a href="../erts/erts_alloc#flags">erts/erts_alloc#flags</a>.</p> </dd><dt><a name="system_info_allocator_tuple"></a> <strong>{allocator, <span class="anno">Alloc</span>}</strong></dt><dd> <p>Returns information about the specified allocator.
As from ERTS 5.6.1, the return value is a list
of <strong>{instance, InstanceNo, InstanceInfo}</strong> tuples,
where <strong>InstanceInfo</strong> contains information about
a specific instance of the allocator.
If <strong><span class="anno">Alloc</span></strong> is not a
recognized allocator, <strong>undefined</strong> is returned.
If <strong><span class="anno">Alloc</span></strong> is disabled,
<strong>false</strong> is returned.</p> <p>Notice that the information returned is highly
implementation-dependent and can be changed or removed
at any time without prior notice. It was initially
intended as a tool when developing new allocators, but
as it can be of interest for others it has been
briefly documented.</p> <p>The recognized allocators are listed in
<a href="./erts_alloc">erts/erts_alloc</a>.
Information about super carriers can be obtained from
ERTS 8.0 with <strong>{allocator, erts_mmap}</strong> or from
ERTS 5.10.4; the returned list when calling with
<strong>{allocator, mseg_alloc}</strong> also includes an
<strong>{erts_mmap, _}</strong> tuple as one element in the list.</p> <p>After reading the <strong>erts_alloc(3)</strong> documentation,
the returned information
more or less speaks for itself, but it can be worth
explaining some things. Call counts are presented by two
values, the first value is giga calls, and the second
value is calls. <strong>mbcs</strong> and <strong>sbcs</strong> denote
multi-block carriers, and single-block carriers,
respectively. Sizes are presented in bytes. When a
size is not presented, it is the amount of something.
Sizes and amounts are often presented by three values:</p> <ul><li>The first is the current value.</li><li>The second is the maximum value since the last call to <strong>erlang:system_info({allocator, Alloc})</strong>.</li><li>The third is the maximum value since the emulator was started.</li></ul> <p>If only one value is present, it is the current value.
<strong>fix_alloc</strong> memory block types are presented by two
values. The first value is the memory pool size and
the second value is the used memory size.</p> </dd><dt><a name="system_info_alloc_util_allocators"></a> <strong>alloc_util_allocators</strong></dt><dd> <p>Returns a list of the names of all allocators using
the ERTS internal <strong>alloc_util</strong> framework
as atoms. For more information, see section
<a href="../erts/erts_alloc#alloc_util">The alloc_util framework</a>
in <strong>erts_alloc(3)</strong>.</p> </dd><dt><a name="system_info_allocator_sizes"></a> <strong>{allocator_sizes, <span class="anno">Alloc</span>}</strong></dt><dd> <p>Returns various size information for the specified
allocator. The information returned is a subset of the
information returned by
<a href="#system_info_allocator_tuple">system_info_allocator_tuple</a>.</p> </dd><dt><a name="system_info_elib_malloc"></a> <strong>elib_malloc</strong></dt><dd> <p>This option will be removed in a future release.
The return value will always be <strong>false</strong>, as the
<strong>elib_malloc</strong> allocator has been removed.</p> </dd></dl><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><p>Information about the CPU topology of the system.</p><ul><li>cpu_topology</li></ul><ul><li>level_entry</li></ul> All <strong><span class="anno">LevelEntry</span></strong>s of a list must contain the same <strong><span class="anno">LevelTag</span></strong>, except on the top level where both <strong>node</strong> and <strong>processor</strong> <strong><span class="anno">LevelTag</span></strong>s can coexist.  <strong>{<span class="anno">LevelTag</span>, <span class="anno">SubLevel</span>} == {<span class="anno">LevelTag</span>, [], <span class="anno">SubLevel</span>}</strong> <ul><li>level_tag</li></ul> More <strong><span class="anno">LevelTag</span></strong>s can be introduced in a future release. <ul><li>sub_level</li></ul><ul><li>info_list</li></ul> The <strong>info_list()</strong> can be extended in a future release. <a name="system_info_cpu_topology_tags"></a><p>Returns various information about the CPU topology of
the current system (emulator) as specified by
<strong><span class="anno">Item</span></strong>:</p><dl><dt><a name="system_info_cpu_topology"></a> <strong>cpu_topology</strong></dt><dd> <p>Returns the <strong><span class="anno">CpuTopology</span></strong> currently used by
the emulator. The CPU topology is used when binding schedulers
to logical processors. The CPU topology used is the
<a href="./erlang#system_info_cpu_topology_defined"> user-defined CPU topology</a>,
if such exists, otherwise the
<a href="./erlang#system_info_cpu_topology_detected"> automatically detected CPU topology</a>,
if such exists. If no CPU topology
exists, <strong>undefined</strong> is returned.</p> <p><strong>node</strong> refers to Non-Uniform Memory Access (NUMA)
nodes. <strong>thread</strong> refers to hardware threads
(for example, Intel hyper-threads).</p> <p>A level in term <strong><span class="anno">CpuTopology</span></strong> can be
omitted if only one entry exists and
<strong><span class="anno">InfoList</span></strong> is empty.</p> <p><strong>thread</strong> can only be a sublevel to <strong>core</strong>.
<strong>core</strong> can be a sublevel to <strong>processor</strong>
or <strong>node</strong>. <strong>processor</strong> can be on the
top level or a sublevel to <strong>node</strong>. <strong>node</strong>
can be on the top level or a sublevel to
<strong>processor</strong>. That is, NUMA nodes can be processor
internal or processor external. A CPU topology can
consist of a mix of processor internal and external
NUMA nodes, as long as each logical CPU belongs to
<em>one</em> NUMA node. Cache hierarchy is not part of
the <strong><span class="anno">CpuTopology</span></strong> type, but will be in a
future release. Other things can also make it into the CPU
topology in a future release. So, expect the
<strong><span class="anno">CpuTopology</span></strong> type to change.</p> </dd><dt><strong>{cpu_topology, defined}</strong></dt><dd> <a name="system_info_cpu_topology_defined"></a> <p>Returns the user-defined <strong><span class="anno">CpuTopology</span></strong>.
For more information, see command-line flag
<a href="../erts/erl#+sct">erts/erl#+sct</a> in
<strong>erl(1)</strong> and argument
<a href="#system_info_cpu_topology">system_info_cpu_topology</a>.</p> </dd><dt><strong>{cpu_topology, detected}</strong></dt><dd> <a name="system_info_cpu_topology_detected"></a> <p>Returns the automatically detected
<strong><span class="anno">CpuTopology</span>y</strong>. The
emulator detects the CPU topology on some newer
Linux, Solaris, FreeBSD, and Windows systems.
On Windows system with more than 32 logical processors,
the CPU topology is not detected.</p> <p>For more information, see argument
<a href="#system_info_cpu_topology">system_info_cpu_topology</a>.</p> </dd><dt><strong>{cpu_topology, used}</strong></dt><dd> <p>Returns <strong><span class="anno">CpuTopology</span></strong> used by the emulator.
For more information, see argument
<a href="#system_info_cpu_topology">system_info_cpu_topology</a>.</p> </dd><dt><a name="system_info_logical_processors"></a> <strong>logical_processors</strong></dt><dd> <p>Returns the detected number of logical processors configured
in the system. The return value is either an integer, or
the atom <strong>unknown</strong> if the emulator cannot
detect the configured logical processors.</p> </dd><dt><a name="system_info_logical_processors_available"></a> <strong>logical_processors_available</strong></dt><dd> <p>Returns the detected number of logical processors available
to the Erlang runtime system. The return value is either an
integer, or the atom <strong>unknown</strong> if the emulator
cannot detect the available logical processors. The number
of available logical processors is less than or equal to
the number of <a href="#system_info_logical_processors_online"> logical processors online</a>.</p> </dd><dt><a name="system_info_logical_processors_online"></a> <strong>logical_processors_online</strong></dt><dd> <p>Returns the detected number of logical processors online on
the system. The return value is either an integer,
or the atom <strong>unknown</strong> if the emulator cannot
detect logical processors online. The number of logical
processors online is less than or equal to the number of
<a href="#system_info_logical_processors">logical processors configured</a>.</p> </dd><dt><a name="system_info_update_cpu_info"></a> <strong>update_cpu_info</strong></dt><dd> <p>The runtime system rereads the CPU information available
and updates its internally stored information about the
<a href="#system_info_cpu_topology_detected">detected CPU topology</a> and the number of logical processors
<a href="#system_info_logical_processors">configured</a>,
<a href="#system_info_logical_processors_online">online</a>,
and <a href="#system_info_logical_processors_available"> available</a>.</p> <p>If the CPU information has changed since the last time
it was read, the atom <strong>changed</strong> is returned, otherwise
the atom <strong>unchanged</strong>. If the CPU information has changed,
you probably want to
<a href="#system_flag_schedulers_online">adjust the number of schedulers online</a>. You typically want
to have as many schedulers online as
<a href="#system_info_logical_processors_available">logical processors available</a>.</p> </dd></dl><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><p>Information about the default process heap settings.</p><ul><li>message_queue_data</li></ul><ul><li>max_heap_size</li></ul><a name="system_info_process_tags"></a><p>Returns information about the default process heap settings:</p><dl><dt><a name="system_info_fullsweep_after"></a> <strong>fullsweep_after</strong></dt><dd> <p>Returns <strong>{fullsweep_after, integer() &gt;= 0}</strong>, which is
the <strong>fullsweep_after</strong> garbage collection setting used
by default. For more information, see
<strong>garbage_collection</strong> described below.</p> </dd><dt><a name="system_info_garbage_collection"></a> <strong>garbage_collection</strong></dt><dd> <p>Returns a list describing the default garbage collection
settings. A process spawned on the local node by a
<strong>spawn</strong> or <strong>spawn_link</strong> uses these
garbage collection settings. The default settings can be
changed by using
<a href="#system_flag/2">system_flag/2</a>.
<a href="#spawn_opt/4">spawn_opt/4</a>
can spawn a process that does not use the default
settings.</p> </dd><dt><a name="system_info_heap_sizes"></a> <strong>heap_sizes</strong></dt><dd> <p>Returns a list of integers representing valid heap sizes 
in words. All Erlang heaps are sized from sizes in this
list.</p> </dd><dt><a name="system_info_heap_type"></a> <strong>heap_type</strong></dt><dd> <p>Returns the heap type used by the current emulator. One
heap type exists:</p> <dl><dt><strong>private</strong></dt><dd> Each process has a heap reserved for its use and no references between heaps of different processes are allowed. Messages passed between processes are copied between heaps. </dd></dl> </dd><dt><a name="system_info_max_heap_size"></a> <strong>max_heap_size</strong></dt><dd> <p>Returns <strong>{max_heap_size, <span class="anno">MaxHeapSize</span>}</strong>,
where <strong><span class="anno">MaxHeapSize</span></strong> is the current
system-wide maximum heap size settings for spawned processes.
This setting can be set using the command-line flags
<a href="./erl#+hmax">erl#+hmax</a>,
<a href="./erl#+hmaxk">erl#+hmaxk</a> and
<a href="./erl#+hmaxel">erl#+hmaxel</a> in
<strong>erl(1)</strong>. It can also be changed at runtime using
<a href="#system_flag_max_heap_size">system_flag_max_heap_size</a>.
For more details about the <strong>max_heap_size</strong> process flag,
see <a href="#process_flag_max_heap_size">process_flag_max_heap_size</a>.</p> </dd><dt><a name="system_info_message_queue_data"></a> <strong>message_queue_data</strong></dt><dd> <p>Returns the default value of the <strong>message_queue_data</strong>
process flag, which is either <strong>off_heap</strong> or <strong>on_heap</strong>.
This default is set by command-line argument
<a href="./erl#+hmqd">erl#+hmqd</a> in
<strong>erl(1)</strong>. For more information on the
<strong>message_queue_data</strong> process flag, see documentation of
<a href="#process_flag_message_queue_data">process_flag_message_queue_data</a>.</p> </dd><dt><a name="system_info_min_heap_size"></a> <strong>min_heap_size</strong></dt><dd> <p>Returns <strong>{min_heap_size, <span class="anno">MinHeapSize</span>}</strong>,
where <strong><span class="anno">MinHeapSize</span></strong> is the current
system-wide minimum heap size for spawned processes.</p> </dd><dt><a name="system_info_min_bin_vheap_size"></a> <strong>min_bin_vheap_size</strong></dt><dd> <p>Returns <strong>{min_bin_vheap_size, <span class="anno">MinBinVHeapSize</span>}</strong>, where
<strong><span class="anno">MinBinVHeapSize</span></strong> is the current system-wide
minimum binary virtual heap size for spawned processes.</p> </dd><dt><a name="system_info_procs"></a> <strong>procs</strong></dt><dd> <p>Returns a binary containing a string of process and port
information formatted as in Erlang crash dumps. For more
information, see section <a href="./crash_dump"> How to interpret the Erlang crash dumps</a>
in the User's Guide.</p> </dd></dl><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><p>Information about various system limits.</p><a name="system_info_limits"></a><p>Returns information about the current system
(emulator) limits as specified by <strong><span class="anno">Item</span></strong>:</p><dl><dt><a name="system_info_atom_count"></a> <strong>atom_count</strong></dt><dd> <p>Returns the number of atoms currently existing at the
local node. The value is given as an integer.</p> </dd><dt><a name="system_info_atom_limit"></a> <strong>atom_limit</strong></dt><dd> <p>Returns the maximum number of atoms allowed.
This limit can be increased at startup by passing
command-line flag
<a href="../erts/erl#+t">erts/erl#+t</a> to
<strong>erl(1)</strong>.
</p> </dd><dt><a name="system_info_ets_count"></a> <strong>ets_count</strong></dt><dd> <p>Returns the number of ETS tables currently existing at the
local node.</p> </dd><dt><a name="system_info_ets_limit"></a> <strong>ets_limit</strong></dt><dd> <p>Returns the limit for number of ETS tables. This limit is
<a href="../stdlib/ets#max_ets_tables">partially obsolete</a>
and number of tables are only limited by available memory.</p> </dd><dt><a name="system_info_port_count"></a><strong>port_count</strong></dt><dd> <p>Returns the number of ports currently existing at the
local node. The value is given as an integer. This is
the same value as returned by
<strong>length(erlang:ports())</strong>, but more efficient.</p> </dd><dt><a name="system_info_port_limit"></a> <strong>port_limit</strong></dt><dd> <p>Returns the maximum number of simultaneously existing
ports at the local node as an integer. This limit can be
configured at startup by using command-line flag
<a href="./erl#+Q">erl#+Q</a> in <strong>erl(1)</strong>.</p> </dd><dt><a name="system_info_process_count"></a> <strong>process_count</strong></dt><dd> <p>Returns the number of processes currently existing at the
local node. The value is given as an integer. This is
the same value as returned by
<strong>length(processes())</strong>, but more efficient.</p> </dd><dt><a name="system_info_process_limit"></a> <strong>process_limit</strong></dt><dd> <p>Returns the maximum number of simultaneously existing
processes at the local node. The value is given as an
integer. This limit can be configured at startup by using
command-line flag <a href="./erl#+P">erl#+P</a>
in <strong>erl(1)</strong>.</p> </dd></dl><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><p>Information about system time.</p><a name="system_info_time_tags"></a><p>Returns information about the current system
(emulator) time as specified by <strong><span class="anno">Item</span></strong>:</p><dl><dt><a name="system_info_end_time"></a><strong>end_time</strong></dt><dd> <p>The last <a href="#monotonic_time/0">Erlang monotonic time</a> in <strong>native</strong>
<a href="#type_time_unit">time unit</a> that
can be represented internally in the current Erlang runtime system
instance. The time between the
<a href="#system_info_start_time">start time</a> and
the end time is at least a quarter of a millennium.</p> </dd><dt><a name="system_info_os_monotonic_time_source"></a> <strong>os_monotonic_time_source</strong></dt><dd> <p>Returns a list containing information about the source of
<a href="../erts/time_correction#OS_Monotonic_Time">OS monotonic time</a> that is used by the runtime system.</p> <p>If <strong>[]</strong> is returned, no OS monotonic time is
available. The list contains two-tuples with <strong>Key</strong>s
as first element, and <strong>Value</strong>s as second element. The
order of these tuples is undefined. The following
tuples can be part of the list, but more tuples can be
introduced in the future:</p> <dl><dt><strong>{function, Function}</strong></dt><dd><p><strong>Function</strong> is the name of the function
used. This tuple always exists if OS monotonic time is
available to the runtime system.</p> </dd><dt><strong>{clock_id, ClockId}</strong></dt><dd><p>This tuple only exists if <strong>Function</strong>
can be used with different clocks. <strong>ClockId</strong>
corresponds to the clock identifier used when calling
<strong>Function</strong>.</p> </dd><dt><strong>{resolution, OsMonotonicTimeResolution}</strong></dt><dd><p>Highest possible
<a href="./time_correction#Time_Resolution"> resolution</a>
of current OS monotonic time source as parts per
second. If no resolution information can be retrieved
from the OS, <strong>OsMonotonicTimeResolution</strong> is
set to the resolution of the time unit of
<strong>Function</strong>s return value. That is, the actual
resolution can be lower than
<strong>OsMonotonicTimeResolution</strong>. Notice that
the resolution does not say anything about the
<a href="./time_correction#Time_Accuracy"> accuracy</a> or whether the
<a href="./time_correction#Time_Precision"> precision</a> aligns with the resolution. You do,
however, know that the precision is not better than
<strong>OsMonotonicTimeResolution</strong>.</p> </dd><dt><strong>{extended, Extended}</strong></dt><dd><p><strong>Extended</strong> equals <strong>yes</strong> if
the range of time values has been extended;
otherwise <strong>Extended</strong> equals <strong>no</strong>. The
range must be extended if <strong>Function</strong>
returns values that wrap fast. This typically
is the case when the return value is a 32-bit value.</p> </dd><dt><strong>{parallel, Parallel}</strong></dt><dd><p><strong>Parallel</strong> equals <strong>yes</strong> if
<strong>Function</strong> is called in parallel from multiple
threads. If it is not called in parallel, because
calls must be serialized, <strong>Parallel</strong> equals
<strong>no</strong>.</p> </dd><dt><strong>{time, OsMonotonicTime}</strong></dt><dd><p><strong>OsMonotonicTime</strong> equals current OS
monotonic time in <strong>native</strong>
<a href="#type_time_unit">time unit</a>.</p> </dd></dl> </dd><dt><a name="system_info_os_system_time_source"></a> <strong>os_system_time_source</strong></dt><dd> <p>Returns a list containing information about the source of
<a href="../erts/time_correction#OS_System_Time">OS system time</a> that is used by the runtime system.</p> <p>The list contains two-tuples with <strong>Key</strong>s
as first element, and <strong>Value</strong>s as second element. The
order of these tuples is undefined. The following
tuples can be part of the list, but more tuples can be
introduced in the future:</p> <dl><dt><strong>{function, Function}</strong></dt><dd><p><strong>Function</strong> is the name of the funcion used.</p> </dd><dt><strong>{clock_id, ClockId}</strong></dt><dd><p>Exists only if <strong>Function</strong>
can be used with different clocks. <strong>ClockId</strong>
corresponds to the clock identifier used when calling
<strong>Function</strong>.</p> </dd><dt><strong>{resolution, OsSystemTimeResolution}</strong></dt><dd><p>Highest possible
<a href="./time_correction#Time_Resolution"> resolution</a>
of current OS system time source as parts per
second. If no resolution information can be retrieved
from the OS, <strong>OsSystemTimeResolution</strong> is
set to the resolution of the time unit of
<strong>Function</strong>s return value. That is, the actual
resolution can be lower than
<strong>OsSystemTimeResolution</strong>. Notice that
the resolution does not say anything about the
<a href="./time_correction#Time_Accuracy"> accuracy</a> or whether the
<a href="./time_correction#Time_Precision"> precision</a> do align with the resolution. You do,
however, know that the precision is not better than
<strong>OsSystemTimeResolution</strong>.</p> </dd><dt><strong>{parallel, Parallel}</strong></dt><dd><p><strong>Parallel</strong> equals <strong>yes</strong> if
<strong>Function</strong> is called in parallel from multiple
threads. If it is not called in parallel, because
calls needs to be serialized, <strong>Parallel</strong> equals
<strong>no</strong>.</p> </dd><dt><strong>{time, OsSystemTime}</strong></dt><dd><p><strong>OsSystemTime</strong> equals current OS
system time in <strong>native</strong>
<a href="#type_time_unit">time unit</a>.</p> </dd></dl> </dd><dt><a name="system_info_start_time"></a><strong>start_time</strong></dt><dd> <p>The <a href="#monotonic_time/0">Erlang monotonic time</a> in <strong>native</strong>
<a href="#type_time_unit">time unit</a> at the
time when current Erlang runtime system instance started.</p> <p>See also <a href="#system_info_end_time">system_info_end_time</a>.</p> </dd><dt><a name="system_info_time_correction"></a> <strong>time_correction</strong></dt><dd> <p>Returns a boolean value indicating whether
<a href="./time_correction#Time_Correction"> time correction</a> is enabled or not.</p> </dd><dt><a name="system_info_time_offset"></a> <strong>time_offset</strong></dt><dd> <p>Returns the state of the time offset:</p> <dl><dt><strong>preliminary</strong></dt><dd> <p>The time offset is preliminary, and will be changed
and finalized later. The preliminary time offset
is used during the preliminary phase of the
<a href="./time_correction#Single_Time_Warp_Mode"> single time warp mode</a>.</p> </dd><dt><strong>final</strong></dt><dd> <p>The time offset is final. This either because
<a href="./time_correction#No_Time_Warp_Mode"> no time warp mode</a> is used, or because the time
offset have been finalized when
<a href="./time_correction#Single_Time_Warp_Mode"> single time warp mode</a> is used.</p> </dd><dt><strong>volatile</strong></dt><dd> <p>The time offset is volatile. That is, it can
change at any time. This is because
<a href="./time_correction#Multi_Time_Warp_Mode"> multi-time warp mode</a> is used.</p> </dd></dl> </dd><dt><a name="system_info_time_warp_mode"></a> <strong>time_warp_mode</strong></dt><dd> <p>Returns a value identifying the
<a href="./time_correction#Time_Warp_Modes"> time warp mode</a> that is used:</p> <dl><dt><strong>no_time_warp</strong></dt><dd>The <a href="./time_correction#No_Time_Warp_Mode"> no time warp mode</a> is used. </dd><dt><strong>single_time_warp</strong></dt><dd>The <a href="./time_correction#Single_Time_Warp_Mode"> single time warp mode</a> is used. </dd><dt><strong>multi_time_warp</strong></dt><dd>The <a href="./time_correction#Multi_Time_Warp_Mode"> multi-time warp mode</a> is used. </dd></dl> </dd><dt><a name="system_info_tolerant_timeofday"></a> <strong>tolerant_timeofday</strong></dt><dd> <p>Returns whether a pre ERTS 7.0 backwards compatible
compensation for sudden changes of system time is <strong>enabled</strong>
or <strong>disabled</strong>. Such compensation is <strong>enabled</strong> when the
<a href="#system_info_time_offset">time offset</a>
is <strong>final</strong>, and
<a href="#system_info_time_correction"> time correction</a> is enabled.</p> </dd></dl><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><p>Information about system schedulers.</p><a name="system_info_scheduler_tags"></a><p>Returns information about schedulers, scheduling and threads in the
current system as specified by <strong><span class="anno">Item</span></strong>:</p><dl><dt><a name="system_info_dirty_cpu_schedulers"></a> <strong>dirty_cpu_schedulers</strong></dt><dd> <p>Returns the number of dirty CPU scheduler threads used by
the emulator. Dirty CPU schedulers execute CPU-bound
native functions, such as NIFs, linked-in driver code,
and BIFs that cannot be managed cleanly by the normal
emulator schedulers.</p> <p>The number of dirty CPU scheduler threads is determined
at emulator boot time and cannot be changed after that.
However, the number of dirty CPU scheduler threads online
can be changed at any time. The number of dirty CPU
schedulers can be set at startup by passing
command-line flag
<a href="../erts/erl#+SDcpu">erts/erl#+SDcpu</a> or
<a href="../erts/erl#+SDPcpu">erts/erl#+SDPcpu</a> in
<strong>erl(1)</strong>.</p> <p>See also
<a href="#system_flag_dirty_cpu_schedulers_online">system_flag_dirty_cpu_schedulers_online</a>,
<a href="#system_info_dirty_cpu_schedulers_online">system_info_dirty_cpu_schedulers_online</a>,
<a href="#system_info_dirty_io_schedulers">system_info_dirty_io_schedulers</a>,
<a href="#system_info_schedulers">system_info_schedulers</a>,
<a href="#system_info_schedulers_online">system_info_schedulers_online</a>, and
<a href="#system_flag_schedulers_online">system_flag_schedulers_online</a>.</p> </dd><dt><a name="system_info_dirty_cpu_schedulers_online"></a> <strong>dirty_cpu_schedulers_online</strong></dt><dd> <p>Returns the number of dirty CPU schedulers online.
The return value satisfies
<strong>1 &lt;= DirtyCPUSchedulersOnline &lt;= N</strong>,
where <strong>N</strong> is the smallest of the return values of
<strong>erlang:system_info(dirty_cpu_schedulers)</strong> and
<strong>erlang:system_info(schedulers_online)</strong>.</p> <p>The number of dirty CPU schedulers online can be set at
startup by passing command-line flag
<a href="../erts/erl#+SDcpu">erts/erl#+SDcpu</a> in
<strong>erl(1)</strong>.</p> <p>For more information, see
<a href="#system_info_dirty_cpu_schedulers">system_info_dirty_cpu_schedulers</a>,
<a href="#system_info_dirty_io_schedulers">system_info_dirty_io_schedulers</a>,
<a href="#system_info_schedulers_online">system_info_schedulers_online</a>, and
<a href="#system_flag_dirty_cpu_schedulers_online">system_flag_dirty_cpu_schedulers_online</a>.</p> </dd><dt><a name="system_info_dirty_io_schedulers"></a> <strong>dirty_io_schedulers</strong></dt><dd> <p>Returns the number of dirty I/O schedulers as an integer.
Dirty I/O schedulers execute I/O-bound native functions,
such as NIFs and linked-in driver code, which cannot be
managed cleanly by the normal emulator schedulers.</p> <p>This value can be set at startup by passing command-line
argument <a href="../erts/erl#+SDio">erts/erl#+SDio</a>
in <strong>erl(1)</strong>.</p> <p>For more information, see
<a href="#system_info_dirty_cpu_schedulers">system_info_dirty_cpu_schedulers</a>,
<a href="#system_info_dirty_cpu_schedulers_online">system_info_dirty_cpu_schedulers_online</a>,
and <a href="#system_flag_dirty_cpu_schedulers_online">system_flag_dirty_cpu_schedulers_online</a>.</p> </dd><dt><a name="system_info_multi_scheduling"></a> <strong>multi_scheduling</strong></dt><dd> <p>Returns one of the following:</p> <dl><dt><strong>disabled</strong></dt><dd> <p>The emulator has been started with only one scheduler thread.</p> </dd><dt><strong>blocked</strong></dt><dd> <p>The emulator has more than one scheduler thread,
but all scheduler threads except one are blocked.
That is, only one scheduler thread schedules
Erlang processes and executes Erlang code.</p> </dd><dt><strong>blocked_normal</strong></dt><dd> <p>The emulator has more than one scheduler thread,
but all normal scheduler threads except one are
blocked. Notice that dirty schedulers are not
blocked, and can schedule Erlang processes and
execute native code.</p> </dd><dt><strong>enabled</strong></dt><dd> <p>The emulator has more than one scheduler thread,
and no scheduler threads are blocked. That is,
all available scheduler threads schedule
Erlang processes and execute Erlang code.</p> </dd></dl> <p>See also
<a href="#system_flag_multi_scheduling">system_flag_multi_scheduling</a>,
<a href="#system_info_multi_scheduling_blockers">system_info_multi_scheduling_blockers</a>,
<a href="#system_info_normal_multi_scheduling_blockers">system_info_normal_multi_scheduling_blockers</a>,
and <a href="#system_info_schedulers">system_info_schedulers</a>.</p> </dd><dt><a name="system_info_multi_scheduling_blockers"></a> <strong>multi_scheduling_blockers</strong></dt><dd> <p>Returns a list of <strong><span class="anno">Pid</span></strong>s when
multi-scheduling is blocked, otherwise the empty list is
returned. The <strong><span class="anno">Pid</span></strong>s in the list
represent all the processes currently
blocking multi-scheduling. A <strong><span class="anno">Pid</span></strong> occurs
only once in the list, even if the corresponding
process has blocked multiple times.</p> <p>See also
<a href="#system_flag_multi_scheduling">system_flag_multi_scheduling</a>,
<a href="#system_info_multi_scheduling">system_info_multi_scheduling</a>,
<a href="#system_info_normal_multi_scheduling_blockers">system_info_normal_multi_scheduling_blockers</a>,
and <a href="#system_info_schedulers">system_info_schedulers</a>.</p> </dd><dt><a name="system_info_normal_multi_scheduling_blockers"></a> <strong>normal_multi_scheduling_blockers</strong></dt><dd> <p>Returns a list of <strong><span class="anno">Pid</span></strong>s when
normal multi-scheduling is blocked (that is, all normal schedulers
but one is blocked), otherwise the empty list is returned.
The <strong><span class="anno">Pid</span></strong>s in the list represent all the
processes currently blocking normal multi-scheduling.
A <strong><span class="anno">Pid</span></strong> occurs only once in the list, even if
the corresponding process has blocked multiple times.</p> <p>See also
<a href="#system_flag_multi_scheduling">system_flag_multi_scheduling</a>,
<a href="#system_info_multi_scheduling">system_info_multi_scheduling</a>,
<a href="#system_info_multi_scheduling_blockers">system_info_multi_scheduling_blockers</a>,
and <a href="#system_info_schedulers">system_info_schedulers</a>.</p> </dd><dt><a name="system_info_scheduler_bind_type"></a> <strong>scheduler_bind_type</strong></dt><dd> <p>Returns information about how the user has requested
schedulers to be bound or not bound.</p> <p>Notice that although a user has requested
schedulers to be bound, they can silently have failed
to bind. To inspect the scheduler bindings, call
<a href="#system_info_scheduler_bindings">system_info_scheduler_bindings</a>.</p> <p>For more information, see command-line argument
<a href="../erts/erl#+sbt">erts/erl#+sbt</a>
in <strong>erl(1)</strong> and
<a href="#system_info_scheduler_bindings">system_info_scheduler_bindings</a>.</p> </dd><dt><a name="system_info_scheduler_bindings"></a> <strong>scheduler_bindings</strong></dt><dd> <p>Returns information about the currently used scheduler
bindings.</p> <p>A tuple of a size equal to
<a href="#system_info_schedulers">system_info_schedulers</a>
is returned. The tuple elements are integers
or the atom <strong>unbound</strong>. Logical processor identifiers
are represented as integers. The <strong>N</strong>th
element of the tuple equals the current binding for
the scheduler with the scheduler identifier equal to
<strong>N</strong>. For example, if the schedulers are bound,
<strong>element(erlang:system_info(scheduler_id), erlang:system_info(scheduler_bindings))</strong> returns
the identifier of the logical processor that the calling
process is executing on.</p> <p>Notice that only schedulers online can be bound to logical
processors.</p> <p>For more information, see command-line argument
<a href="../erts/erl#+sbt">erts/erl#+sbt</a>
in <strong>erl(1)</strong> and
<a href="#system_info_schedulers_online">system_info_schedulers_online</a>.</p> </dd><dt><a name="system_info_scheduler_id"></a> <strong>scheduler_id</strong></dt><dd> <p>Returns the scheduler ID (<strong>SchedulerId</strong>) of the
scheduler thread that the calling process is executing
on. <strong><span class="anno">SchedulerId</span></strong> is a positive integer,
where <strong>1 &lt;= SchedulerId &lt;= erlang:system_info(schedulers)</strong>.</p> <p>See also
<a href="#system_info_schedulers">system_info_schedulers</a>.</p> </dd><dt><a name="system_info_schedulers"></a> <strong>schedulers</strong></dt><dd> <p>Returns the number of scheduler threads used by
the emulator. Scheduler threads online schedules Erlang
processes and Erlang ports, and execute Erlang code
and Erlang linked-in driver code.</p> <p>The number of scheduler threads is determined at
emulator boot time and cannot be changed later.
However, the number of schedulers online can
be changed at any time.</p> <p>See also
<a href="#system_flag_schedulers_online">system_flag_schedulers_online</a>,
<a href="#system_info_schedulers_online">system_info_schedulers_online</a>,
<a href="#system_info_scheduler_id">system_info_scheduler_id</a>,
<a href="#system_flag_multi_scheduling">system_flag_multi_scheduling</a>,
<a href="#system_info_multi_scheduling">system_info_multi_scheduling</a>,
<a href="#system_info_normal_multi_scheduling_blockers">system_info_normal_multi_scheduling_blockers</a>
and <a href="#system_info_multi_scheduling_blockers">system_info_multi_scheduling_blockers</a>.
</p> </dd><dt><a name="system_info_schedulers_online"></a> <strong>schedulers_online</strong></dt><dd> <p>Returns the number of schedulers online. The scheduler
identifiers of schedulers online satisfy the relationship
<strong>1 &lt;= SchedulerId &lt;= erlang:system_info(schedulers_online)</strong>.</p> <p>For more information, see
<a href="#system_info_schedulers">system_info_schedulers</a> and
<a href="#system_flag_schedulers_online">system_flag_schedulers_online</a>.</p> </dd><dt><a name="system_info_smp_support"></a> <strong>smp_support</strong></dt><dd> <p>Returns <strong>true</strong>.</p> </dd><dt><a name="system_info_threads"></a> <strong>threads</strong></dt><dd> <p>Returns <strong>true</strong>.</p> </dd><dt><a name="system_info_thread_pool_size"></a> <strong>thread_pool_size</strong></dt><dd> <a name="system_info_thread_pool_size"></a> <p>Returns the number of async threads in the async thread
pool used for asynchronous driver calls
(<a href="../erts/erl_driver#driver_async">erts/erl_driver#driver_async</a>).
The value is given as an integer.</p> </dd></dl><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><p>Information about erlang distribution.</p><a name="system_info_dist_tags"></a><p>Returns information about Erlang Distribution in the
current system as specified by <strong><span class="anno">Item</span></strong>:</p><dl><dt><a name="system_info_creation"></a> <strong>creation</strong></dt><dd> <p>Returns the creation of the local node as an integer.
The creation is changed when a node is restarted. The
creation of a node is stored in process identifiers, port
identifiers, and references. This makes it (to some
extent) possible to distinguish between identifiers from
different incarnations of a node. The valid
creations are integers in the range 1..3, but this will
probably change in a future release. If the node is not
alive, <strong>0</strong> is returned.</p> </dd><dt><a name="system_info_delayed_node_table_gc"></a> <strong>delayed_node_table_gc</strong></dt><dd> <p>Returns the amount of time in seconds garbage collection
of an entry in a node table is delayed. This limit can be set
on startup by passing command-line flag
<a href="../erts/erl#+zdntgc">erts/erl#+zdntgc</a>
to <strong>erl(1)</strong>. For more information, see the documentation of
the command-line flag.</p> </dd><dt><a name="system_info_dist"></a> <strong>dist</strong></dt><dd> <p>Returns a binary containing a string of distribution
information formatted as in Erlang crash dumps. For more
information, see section <a href="./crash_dump"> How to interpret the Erlang crash dumps</a>
in the User's Guide.</p> </dd><dt><a name="system_info_dist_buf_busy_limit"></a> <strong>dist_buf_busy_limit</strong></dt><dd> <p>Returns the value of the distribution buffer busy limit
in bytes. This limit can be set at startup by passing
command-line flag
<a href="../erts/erl#+zdbbl">erts/erl#+zdbbl</a>
to <strong>erl(1)</strong>.</p> </dd><dt><a name="system_info_dist_ctrl"></a> <strong>dist_ctrl</strong></dt><dd> <p>Returns a list of tuples
<strong>{<span class="anno">Node</span>, <span class="anno">ControllingEntity</span>}</strong>,
one entry for each connected remote node.
<strong><span class="anno">Node</span></strong> is the node name
and <strong><span class="anno">ControllingEntity</span></strong> is the port or process
identifier responsible for the communication to that node.
More specifically, <strong><span class="anno">ControllingEntity</span></strong> for
nodes connected through TCP/IP (the normal case) is the socket
used in communication with the specific node.</p> </dd></dl><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><h2>system_info/1</h2><p>Information about the system.</p><a name="system_info_misc_tags"></a><p>Returns various information about the current system
(emulator) as specified by <strong><span class="anno">Item</span></strong>:</p><dl><dt><a name="system_info_build_type"></a> <strong>build_type</strong></dt><dd> <p>Returns an atom describing the build type of the runtime
system. This is normally the atom <strong>opt</strong> for optimized.
Other possible return values are <strong>debug</strong>, <strong>purify</strong>,
<strong>quantify</strong>, <strong>purecov</strong>, <strong>gcov</strong>, <strong>valgrind</strong>,
<strong>gprof</strong>, and <strong>lcnt</strong>. Possible return values
can be added or removed at any time without prior notice.</p> </dd><dt><a name="system_info_c_compiler_used"></a> <strong>c_compiler_used</strong></dt><dd> <p>Returns a two-tuple describing the C compiler used when
compiling the runtime system. The first element is an
atom describing the name of the compiler, or <strong>undefined</strong>
if unknown. The second element is a term describing the
version of the compiler, or <strong>undefined</strong> if unknown.</p> </dd><dt><a name="system_info_check_io"></a> <strong>check_io</strong></dt><dd> <p>Returns a list containing miscellaneous information
about the emulators internal I/O checking. Notice that
the content of the returned list can vary between
platforms and over time. It is only guaranteed
that a list is returned.</p> </dd><dt><a name="system_info_compat_rel"></a> <strong>compat_rel</strong></dt><dd> <p>Returns the compatibility mode of the local node as
an integer. The integer returned represents the
Erlang/OTP release that the current emulator has been
set to be backward compatible with. The compatibility
mode can be configured at startup by using command-line flag
<a href="../erts/erl#compat_rel">erts/erl#compat_rel</a> in
<strong>erl(1)</strong>.</p> </dd><dt><a name="system_info_debug_compiled"></a> <strong>debug_compiled</strong></dt><dd> <p>Returns <strong>true</strong> if the emulator has been
debug-compiled, otherwise <strong>false</strong>.</p> </dd><dt><a name="system_info_driver_version"></a> <strong>driver_version</strong></dt><dd> <p>Returns a string containing the Erlang driver version
used by the runtime system. It has the form
<a href="../erts/erl_driver#version_management"> "&lt;major ver&gt;.&lt;minor ver&gt;"</a>.</p> </dd><dt><a name="system_info_dynamic_trace"></a> <strong>dynamic_trace</strong></dt><dd> <p>Returns an atom describing the dynamic trace framework
compiled into the virtual machine. It can be
<strong>dtrace</strong>, <strong>systemtap</strong>, or <strong>none</strong>. For a
commercial or standard build, it is always <strong>none</strong>.
The other return values indicate a custom configuration
(for example, <strong>./configure --with-dynamic-trace=dtrace</strong>).
For more information about dynamic tracing, see
<a href="./dyntrace">runtime_tools/dyntrace</a> manual page and the
<strong>README.dtrace</strong>/<strong>README.systemtap</strong> files in the
Erlang source code top directory.</p> </dd><dt><a name="system_info_dynamic_trace_probes"></a> <strong>dynamic_trace_probes</strong></dt><dd> <p>Returns a <strong>boolean()</strong> indicating if dynamic trace
probes (<strong>dtrace</strong> or <strong>systemtap</strong>) are built into
the emulator. This can only be <strong>true</strong> if the virtual
machine was built for dynamic tracing (that is,
<strong>system_info(dynamic_trace)</strong> returns
<strong>dtrace</strong> or <strong>systemtap</strong>).</p> </dd><dt><a name="system_info_info"></a> <strong>info</strong></dt><dd> <p>Returns a binary containing a string of miscellaneous
system information formatted as in Erlang crash dumps.
For more information, see section
<a href="./crash_dump"> How to interpret the Erlang crash dumps</a>
in the User's Guide.</p> </dd><dt><a name="system_info_kernel_poll"></a> <strong>kernel_poll</strong></dt><dd> <p>Returns <strong>true</strong> if the emulator uses some kind of
kernel-poll implementation, otherwise <strong>false</strong>.</p> </dd><dt><a name="system_info_loaded"></a> <strong>loaded</strong></dt><dd> <p>Returns a binary containing a string of loaded module
information formatted as in Erlang crash dumps. For more
information, see section
<a href="./crash_dump">How to interpret the Erlang crash dumps</a> in the User's Guide.</p> </dd><dt><a name="system_info_machine"></a> <strong>machine</strong></dt><dd> <p>Returns a string containing the Erlang machine name.</p> </dd><dt><a name="system_info_modified_timing_level"></a> <strong>modified_timing_level</strong></dt><dd> <p>Returns the modified timing-level (an integer) if
modified timing is enabled, otherwise <strong>undefined</strong>.
For more information about modified timing, see
command-line flag
<a href="../erts/erl#+T">erts/erl#+T</a>
in <strong>erl(1)</strong></p> </dd><dt><a name="system_info_nif_version"></a> <strong>nif_version</strong></dt><dd> <p>Returns a string containing the version of the Erlang NIF
interface used by the runtime system. It is on the form
"&lt;major ver&gt;.&lt;minor ver&gt;".</p> </dd><dt><a name="system_info_otp_release"></a> <strong>otp_release</strong></dt><dd> <a name="system_info_otp_release"></a> <p>Returns a string containing the OTP release number of the
OTP release that the currently executing ERTS application
is part of.</p> <p>As from Erlang/OTP 17, the OTP release number corresponds to
the major OTP version number. No
<strong>erlang:system_info()</strong> argument gives the exact OTP
version. This is because the exact OTP version in the general case
is difficult to determine. For more information, see the
description of versions in
<a href="./versions"> System principles</a> in System Documentation.</p> </dd><dt><a name="system_info_port_parallelism"></a> <strong>port_parallelism</strong></dt><dd> <p>Returns the default port parallelism scheduling hint used.
For more information, see command-line argument
<a href="./erl#+spp">erl#+spp</a>
in <strong>erl(1)</strong>.</p> </dd><dt><a name="system_info_system_architecture"></a> <strong>system_architecture</strong></dt><dd> <p>Returns a string containing the processor and OS
architecture the emulator is built for.</p> </dd><dt><a name="system_info_system_logger"></a> <strong>system_logger</strong></dt><dd> <p>Returns the current <strong>system_logger</strong> as set by
<a href="#system_flag/2">system_flag/2</a>.</p> </dd><dt><a name="system_info_system_version"></a> <strong>system_version</strong></dt><dd> <p>Returns a string containing version number and
some important properties, such as the number of schedulers.</p> </dd><dt><a name="system_info_trace_control_word"></a> <strong>trace_control_word</strong></dt><dd> <p>Returns the value of the node trace control word. For
more information, see function <strong>get_tcw</strong> in section
<a href="../erts/match_spec#get_tcw"> Match Specifications in Erlang</a> in the User's Guide.</p> </dd><dt><a name="system_info_version"></a> <strong>version</strong></dt><dd> <p>Returns a string containing the version number of the
emulator.</p> </dd><dt><a name="system_info_wordsize"></a> <strong>wordsize</strong></dt><dd> <p>Same as <strong>{wordsize, internal}</strong>.</p> </dd><dt><strong>{wordsize, internal}</strong></dt><dd> <p>Returns the size of Erlang term words in bytes as an
integer, that is, 4 is returned on a 32-bit architecture,
and 8 is returned on a pure 64-bit architecture. On a
halfword 64-bit emulator, 4 is returned, as the Erlang
terms are stored using a virtual word size of half the
system word size.</p> </dd><dt><strong>{wordsize, external}</strong></dt><dd> <p>Returns the true word size of the emulator, that is,
the size of a pointer. The value is given in bytes
as an integer. On a pure 32-bit architecture, 4 is
returned. On both a half word and on a pure
64-bit architecture, 8 is returned.</p> </dd></dl><h2>system_monitor/0</h2><p>Current system performance monitoring settings.</p><ul><li>system_monitor_option</li></ul><p>Returns the current system monitoring settings set by
<a href="#system_monitor/2">system_monitor/2</a>
as <strong>{<span class="anno">MonitorPid</span>, <span class="anno">Options</span>}</strong>,
or <strong>undefined</strong> if no settings exist. The order of the
options can be different from the one that was set.</p><h2>system_monitor/1</h2><p>Set or clear system performance monitoring options.</p><ul><li>system_monitor_option</li></ul><p>When called with argument <strong>undefined</strong>, all
system performance monitoring settings are cleared.</p><p>Calling the function with <strong>{<span class="anno">MonitorPid</span>, <span class="anno">Options</span>}</strong> as argument is the same as calling
<a href="#system_monitor/2">system_monitor/2</a>.</p><p>Returns the previous system monitor settings just like
<a href="#system_monitor/0">system_monitor/0</a>.</p><h2>system_monitor/2</h2><p>Set system performance monitoring options.</p><ul><li>system_monitor_option</li></ul><p>Sets the system performance monitoring options.
<strong><span class="anno">MonitorPid</span></strong> is a local process identifier (pid)
receiving system monitor messages. The
second argument is a list of monitoring options:</p><dl><dt><strong>{long_gc, Time}</strong></dt><dd> <p>If a garbage collection in the system takes at least
<strong>Time</strong> wall clock milliseconds, a message
<strong>{monitor, GcPid, long_gc, Info}</strong> is sent to
<strong><span class="anno">MonitorPid</span></strong>. <strong>GcPid</strong> is the pid that
was garbage collected. <strong>Info</strong> is a list of two-element
tuples describing the result of the garbage collection.</p> <p>One of the tuples is <strong>{timeout, GcTime}</strong>, where
<strong>GcTime</strong> is the time for the garbage
collection in milliseconds. The other tuples are
tagged with <strong>heap_size</strong>, <strong>heap_block_size</strong>,
<strong>stack_size</strong>, <strong>mbuf_size</strong>, <strong>old_heap_size</strong>,
and <strong>old_heap_block_size</strong>. These tuples are
explained in the description of trace message
<a href="#gc_minor_start">gc_minor_start</a>
(see <a href="#trace/3">trace/3</a>).
New tuples can be added, and the order of the tuples in
the <strong>Info</strong> list can be changed at any time without
prior notice.</p> </dd><dt><strong>{long_schedule, Time}</strong></dt><dd> <p>If a process or port in the system runs uninterrupted
for at least <strong>Time</strong> wall clock milliseconds, a
message <strong>{monitor, PidOrPort, long_schedule, Info}</strong>
is sent to <strong>MonitorPid</strong>. <strong>PidOrPort</strong> is the
process or port that was running. <strong>Info</strong> is a
list of two-element tuples describing the event.</p> <p>If a <strong>pid()</strong>, the tuples <strong>{timeout, Millis}</strong>,
<strong>{in, Location}</strong>, and <strong>{out, Location}</strong> are
present, where <strong>Location</strong> is either an MFA
(<strong>{Module, Function, Arity}</strong>) describing the
function where the process was scheduled in/out, or the
atom <strong>undefined</strong>.</p> <p>If a <strong>port()</strong>, the
tuples <strong>{timeout, Millis}</strong> and <strong>{port_op,Op}</strong>
are present. <strong>Op</strong> is one of <strong>proc_sig</strong>,
<strong>timeout</strong>, <strong>input</strong>, <strong>output</strong>,
<strong>event</strong>, or <strong>dist_cmd</strong>, depending on which
driver callback was executing.</p> <p><strong>proc_sig</strong> is an
internal operation and is never to appear, while the
others represent the corresponding driver callbacks
<strong>timeout</strong>, <strong>ready_input</strong>, <strong>ready_output</strong>,
<strong>event</strong>, and <strong>outputv</strong> (when the port
is used by distribution). Value <strong>Millis</strong> in
tuple <strong>timeout</strong> informs about the
uninterrupted execution time of the process or port, which
always is equal to or higher than the <strong>Time</strong> value
supplied when starting the trace. New tuples can be
added to the <strong>Info</strong> list in a future release. The
order of the tuples in the list can be changed at any
time without prior notice.</p> <p>This can be used to detect problems with NIFs or
drivers that take too long to execute. 1 ms is
considered a good maximum time for a driver callback
or a NIF. However, a time-sharing system is usually to
consider everything &lt; 100 ms as "possible" and
fairly "normal". However, longer schedule times can
indicate swapping or a misbehaving NIF/driver.
Misbehaving NIFs and drivers can cause bad resource
utilization and bad overall system performance.</p> </dd><dt><strong>{large_heap, Size}</strong></dt><dd> <p>If a garbage collection in the system results in
the allocated size of a heap being at least <strong>Size</strong>
words, a message <strong>{monitor, GcPid, large_heap, Info}</strong>
is sent to <strong><span class="anno">MonitorPid</span></strong>.
<strong>GcPid</strong> and <strong>Info</strong>
are the same as for <strong>long_gc</strong> earlier, except that
the tuple tagged with <strong>timeout</strong> is not present.</p> <p>The monitor message is sent if the sum of the sizes of
all memory blocks allocated for all heap generations after
a garbage collection is equal to or higher than <strong>Size</strong>.</p> <p>When a process is killed by
<a href="#process_flag_max_heap_size">process_flag_max_heap_size</a>, it is killed before the
garbage collection is complete and thus no large heap message
is sent.</p> </dd><dt><strong>busy_port</strong></dt><dd> <p>If a process in the system gets suspended because it
sends to a busy port, a message
<strong>{monitor, SusPid, busy_port, Port}</strong> is sent to
<strong><span class="anno">MonitorPid</span></strong>. <strong>SusPid</strong> is the pid
that got suspended when sending to <strong>Port</strong>.</p> </dd><dt><strong>busy_dist_port</strong></dt><dd> <p>If a process in the system gets suspended because it
sends to a process on a remote node whose inter-node
communication was handled by a busy port, a message
<strong>{monitor, SusPid, busy_dist_port, Port}</strong> is sent to
<strong><span class="anno">MonitorPid</span></strong>. <strong>SusPid</strong> is the pid
that got suspended when sending through the inter-node
communication port <strong>Port</strong>.</p> </dd></dl><p>Returns the previous system monitor settings just like
<a href="#system_monitor/0">system_monitor/0</a>.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>If a monitoring process gets so large that it itself
starts to cause system monitor messages when garbage
collecting, the messages enlarge the process
message queue and probably make the problem worse.</p><p>Keep the monitoring process neat and do not set the system
monitor limits too tight.</p></div><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">MonitorPid</span></strong> does not exist.</dd><dt><strong>badarg</strong></dt><dd>If <strong><span class="anno">MonitorPid</span></strong> is not a local process.</dd></dl><h2>system_profile/0</h2><p>Current system profiling settings.</p><ul><li>system_profile_option</li></ul><p>Returns the current system profiling settings set by
<a href="#system_profile/2">system_profile/2</a>
as <strong>{<span class="anno">ProfilerPid</span>, <span class="anno">Options</span>}</strong>,
or <strong>undefined</strong> if there
are no settings. The order of the options can be different
from the one that was set.</p><h2>system_profile/2</h2><p>Current system profiling settings.</p><ul><li>system_profile_option</li></ul><p>Sets system profiler options. <strong><span class="anno">ProfilerPid</span></strong>
is a local process identifier (pid) or port receiving profiling
messages. The receiver is excluded from all profiling.
The second argument is a list of profiling options:</p><dl><dt><strong>exclusive</strong></dt><dd> <p>If a synchronous call to a port from a process is done, the
calling process is considered not runnable during the call
runtime to the port. The calling process is notified as
<strong>inactive</strong>, and later <strong>active</strong> when the port
callback returns.</p> </dd><dt><strong>monotonic_timestamp</strong></dt><dd> <p>Time stamps in profile messages use
<a href="./time_correction#Erlang_Monotonic_Time">Erlang monotonic time</a>. The time stamp (Ts) has the same
format and value as produced by
<strong>erlang:monotonic_time(nanosecond)</strong>.</p> </dd><dt><strong>runnable_procs</strong></dt><dd> <p>If a process is put into or removed from the run queue, a
message, <strong>{profile, Pid, State, Mfa, Ts}</strong>, is sent to
<strong><span class="anno">ProfilerPid</span></strong>. Running processes that
are reinserted into the run queue after having been
pre-empted do not trigger this message.</p> </dd><dt><strong>runnable_ports</strong></dt><dd> <p>If a port is put into or removed from the run queue, a 
message, <strong>{profile, Port, State, 0, Ts}</strong>, is sent to
<strong><span class="anno">ProfilerPid</span></strong>.</p> </dd><dt><strong>scheduler</strong></dt><dd> <p>If a scheduler is put to sleep or awoken, a message,
<strong>{profile, scheduler, Id, State, NoScheds, Ts}</strong>, is
sent to <strong><span class="anno">ProfilerPid</span></strong>.</p> </dd><dt><strong>strict_monotonic_timestamp</strong></dt><dd> <p>Time stamps in profile messages consist of
<a href="./time_correction#Erlang_Monotonic_Time">Erlang monotonic time</a> and a monotonically increasing
integer. The time stamp (Ts) has the same format and value
as produced by <strong>{erlang:monotonic_time(nanosecond), erlang:unique_integer([monotonic])}</strong>.</p> </dd><dt><strong>timestamp</strong></dt><dd> <p>Time stamps in profile messages include a
time stamp (Ts) that has the same form as returned by
<strong>erlang:now()</strong>. This is also the default if no
time stamp flag is specified. If <strong>cpu_timestamp</strong> has
been enabled through
<a href="#trace/3">trace/3</a>,
this also effects the time stamp produced in profiling messages
when flag <strong>timestamp</strong> is enabled.</p> </dd></dl><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p><strong>erlang:system_profile</strong> behavior can change
in a future release.</p></div><h2>system_time/0</h2><p>Current Erlang system time.</p><p>Returns current
<a href="./time_correction#Erlang_System_Time"> Erlang system time</a> in <strong>native</strong>
<a href="#type_time_unit">time unit</a>.</p><p>Calling <strong>erlang:system_time()</strong> is equivalent to
<a href="#monotonic_time/0">monotonic_time/0</a><strong> + </strong><a href="#time_offset/0">time_offset/0</a>.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>This time is <em>not</em> a monotonically increasing time
in the general case. For more information, see the documentation of
<a href="./time_correction#Time_Warp_Modes"> time warp modes</a> in the User's Guide.</p></div><h2>system_time/1</h2><p>Current Erlang system time.</p><p>Returns current
<a href="./time_correction#Erlang_System_Time"> Erlang system time</a>
converted into the <strong><span class="anno">Unit</span></strong> passed as argument.</p><p>Calling <strong>erlang:system_time(<span class="anno">Unit</span>)</strong> is equivalent
to <a href="#convert_time_unit/3">convert_time_unit/3</a><strong>(</strong><a href="#system_time/0">system_time/0</a><strong>, native, <span class="anno">Unit</span>)</strong>.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>This time is <em>not</em> a monotonically increasing time
in the general case. For more information, see the documentation of
<a href="./time_correction#Time_Warp_Modes"> time warp modes</a> in the User's Guide.</p></div><h2>term_to_binary/1</h2><p>Encode a term to an Erlang external term format binary. </p><p>Returns a binary data object that is the result of encoding
<strong><span class="anno">Term</span></strong> according to the
<a href="./erl_ext_dist">Erlang external term format.</a></p><p>This can be used for various purposes, for example,
writing a term to a file in an efficient way, or sending an
Erlang term to some type of communications channel not
supported by distributed Erlang.</p><pre>
&gt; <span class="input">Bin = term_to_binary(hello).</span>
&lt;&lt;131,100,0,5,104,101,108,108,111&gt;&gt;
&gt; <span class="input">hello = binary_to_term(Bin).</span>
hello
</pre><p>See also <a href="#binary_to_term/1">binary_to_term/1</a>.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>There is no guarantee that this function will return
the same encoded representation for the same term.</p></div><h2>term_to_binary/2</h2><p>Encode a term to en Erlang external term format binary. </p><p>Returns a binary data object that is the result of encoding
<strong><span class="anno">Term</span></strong> according to the Erlang external
term format.</p><p>If option <strong>compressed</strong> is provided, the external term
format is compressed. The compressed format is automatically
recognized by <strong>binary_to_term/1</strong> as from Erlang/OTP R7B.</p><p>A compression level can be specified by giving option
<strong>{compressed, <span class="anno">Level</span>}</strong>.
<strong><span class="anno">Level</span></strong> is an integer
with range 0..9, where:</p><ul><li><p><strong>0</strong> - No compression is done (it is the same as
giving no <strong>compressed</strong> option).</p></li><li><p><strong>1</strong> - Takes least time but may not compress
as well as the higher levels.</p></li><li><p><strong>6</strong> - Default level when option <strong>compressed</strong>
is provided.</p></li><li><p><strong>9</strong> - Takes most time and tries to produce a smaller
result. Notice "tries" in the preceding sentence; depending
on the input term, level 9 compression either does or does
not produce a smaller result than level 1 compression.</p></li></ul><p>Option <strong>{minor_version, <span class="anno">Version</span>}</strong>
can be used to control some
encoding details. This option was introduced in Erlang/OTP R11B-4.
The valid values for <strong><span class="anno">Version</span></strong> are:</p><dl><dt><strong>0</strong></dt><dd> <p>Floats are encoded using a textual representation.
This option is useful to ensure that releases before Erlang/OTP
R11B-4 can decode resulting binary.</p> <p>This version encode atoms that can be represented by a
latin1 string using latin1 encoding while only atoms that
cannot be represented by latin1 are encoded using utf8.</p> </dd><dt><strong>1</strong></dt><dd> <p>This is as of Erlang/OTP 17.0 the default. It forces any floats
in the term to be encoded in a more space-efficient and exact way
(namely in the 64-bit IEEE format, rather than converted to a
textual representation). As from Erlang/OTP R11B-4,
<strong>binary_to_term/1</strong> can decode this representation.</p> <p>This version encode atoms that can be represented by a
latin1 string using latin1 encoding while only atoms that
cannot be represented by latin1 are encoded using utf8.</p> </dd><dt><strong>2</strong></dt><dd> <p>Drops usage of the latin1 atom encoding and unconditionally
use utf8 encoding for all atoms. This will be changed to the
default in a future major release of Erlang/OTP. Erlang/OTP
systems as of R16B can decode this representation.</p> </dd></dl><p>See also <a href="#binary_to_term/1">binary_to_term/1</a>.</p><h2>throw/1</h2><p>Throw an exception.</p><p>A non-local return from a function. If evaluated within a
<strong>catch</strong>, <strong>catch</strong> returns value <strong><span class="anno">Any</span></strong>.
Example:</p><pre>
&gt; <span class="input">catch throw({hello, there}).</span>
{hello,there}</pre><p>Failure: <strong>nocatch</strong> if not evaluated within a catch.</p><h2>time/0</h2><p>Current time.</p><p>Returns the current time as <strong>{Hour, Minute, Second}</strong>.</p><p>The time zone and Daylight Saving Time correction depend on
the underlying OS. Example:</p><pre>
&gt; <span class="input">time().</span>
{9,42,44}</pre><h2>time_offset/0</h2><p>Current time offset.</p><p>Returns the current time offset between
<a href="./time_correction#Erlang_Monotonic_Time"> Erlang monotonic time</a> and
<a href="./time_correction#Erlang_System_Time"> Erlang system time</a> in
<strong>native</strong> <a href="#type_time_unit">time unit</a>.
Current time offset added to an Erlang monotonic time gives
corresponding Erlang system time.</p><p>The time offset may or may not change during operation depending
on the <a href="./time_correction#Time_Warp_Modes">time warp mode</a> used.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>A change in time offset can be observed at slightly
different points in time by different processes.</p><p>If the runtime system is in
<a href="./time_correction#Multi_Time_Warp_Mode">multi-time warp mode</a>, the time offset is changed when
the runtime system detects that the
<a href="./time_correction#OS_System_Time">OS system time</a> has changed. The runtime system will, however,
not detect this immediately when it occurs. A task checking
the time offset is scheduled to execute at least once a minute;
so, under normal operation this is to be detected within a
minute, but during heavy load it can take longer time.</p></div><h2>time_offset/1</h2><p>Current time offset.</p><p>Returns the current time offset between
<a href="./time_correction#Erlang_Monotonic_Time"> Erlang monotonic time</a> and
<a href="./time_correction#Erlang_System_Time"> Erlang system time</a>
converted into the <strong><span class="anno">Unit</span></strong> passed as argument.</p><p>Same as calling
<a href="#convert_time_unit/3">convert_time_unit/3</a><strong>(</strong><a href="#time_offset/0">time_offset/0</a><strong>, native, <span class="anno">Unit</span>)</strong>
however optimized for commonly used <strong><span class="anno">Unit</span></strong>s.</p><h2>timestamp/0</h2><p>Current Erlang System time.</p><ul><li>timestamp</li></ul><p>Returns current
<a href="./time_correction#Erlang_System_Time"> Erlang system time</a>
on the format <strong>{MegaSecs, Secs, MicroSecs}</strong>. This format is 
the same as <a href="../kernel/os#timestamp/0">kernel/os#timestamp/0</a>
and the deprecated <a href="#now/0">now/0</a>
use. The reason for the existence of <strong>erlang:timestamp()</strong> is
purely to simplify use for existing code that assumes this time stamp
format. Current Erlang system time can more efficiently be retrieved
in the time unit of your choice using
<a href="#system_time/1">system_time/1</a>.</p><p>The <strong>erlang:timestamp()</strong> BIF is equivalent to:</p><pre><code class="">
timestamp() -&gt;
    ErlangSystemTime = erlang:system_time(microsecond),
    MegaSecs = ErlangSystemTime div 1000000000000,
    Secs = ErlangSystemTime div 1000000 - MegaSecs*1000000,
    MicroSecs = ErlangSystemTime rem 1000000,
    {MegaSecs, Secs, MicroSecs}.</code></pre><p>It, however, uses a native implementation that does
not build garbage on the heap and with slightly better
performance.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>This time is <em>not</em> a monotonically increasing time
in the general case. For more information, see the documentation of
<a href="./time_correction#Time_Warp_Modes"> time warp modes</a> in the User's Guide.</p></div><h2>tl/1</h2><p>Tail of a list.</p><p>Returns the tail of <strong><span class="anno">List</span></strong>, that is,
the list minus the first element, for example:</p><pre>
&gt; <span class="input">tl([geesties, guilies, beasties]).</span>
[guilies, beasties]</pre><p>Allowed in guard tests.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">List</span></strong>
is the empty list <strong>[]</strong>.</p><h2>trace/3</h2><p>Set trace flags for a process or processes.</p><ul><li>trace_flag</li></ul><p>Turns on (if <strong><span class="anno">How</span> == true</strong>) or off (if
<strong><span class="anno">How</span> == false</strong>) the trace flags in
<strong><span class="anno">FlagList</span></strong> for
the process or processes represented by
<strong><span class="anno">PidPortSpec</span></strong>.</p><p><strong><span class="anno">PidPortSpec</span></strong> is either a process identifier
(pid) for a local process, a port identifier,
or one of the following atoms:</p><dl><dt><strong>all</strong></dt><dd>All currently existing processes and ports and all that will be created in the future. </dd><dt><strong>processes</strong></dt><dd>All currently existing processes and all that will be created in the future. </dd><dt><strong>ports</strong></dt><dd>All currently existing ports and all that will be created in the future. </dd><dt><strong>existing</strong></dt><dd>All currently existing processes and ports. </dd><dt><strong>existing_processes</strong></dt><dd>All currently existing processes. </dd><dt><strong>existing_ports</strong></dt><dd>All currently existing ports. </dd><dt><strong>new</strong></dt><dd>All processes and ports that will be created in the future. </dd><dt><strong>new_processes</strong></dt><dd>All processes that will be created in the future. </dd><dt><strong>new_ports</strong></dt><dd>All ports that will be created in the future. </dd></dl><p><strong><span class="anno">FlagList</span></strong> can contain any number of the
following flags (the "message tags" refers to the list of
<a href="#trace_3_trace_messages">trace_3_trace_messages</a>):</p><dl><dt><strong>all</strong></dt><dd> <p>Sets all trace flags except <strong>tracer</strong> and
<strong>cpu_timestamp</strong>, which are in their nature different
than the others.</p> </dd><dt><strong>send</strong></dt><dd> <p>Traces sending of messages.</p> <p>Message tags:
<a href="#trace_3_trace_messages_send">trace_3_trace_messages_send</a> and
<a href="#trace_3_trace_messages_send_to_non_existing_process">trace_3_trace_messages_send_to_non_existing_process</a>.</p> </dd><dt><strong>'receive'</strong></dt><dd> <p>Traces receiving of messages.</p> <p>Message tags:
<a href="#trace_3_trace_messages_receive">trace_3_trace_messages_receive</a>.</p> </dd><dt><strong>call</strong></dt><dd> <p>Traces certain function calls. Specify which function
calls to trace by calling <a href="#trace_pattern/3">trace_pattern/3</a>.</p> <p>Message tags:
<a href="#trace_3_trace_messages_call">trace_3_trace_messages_call</a> and
<a href="#trace_3_trace_messages_return_from">trace_3_trace_messages_return_from</a>.</p> </dd><dt><strong>silent</strong></dt><dd> <p>Used with the <strong>call</strong> trace flag.
The <strong>call</strong>, <strong>return_from</strong>, and <strong>return_to</strong>
trace messages are inhibited if this flag is set, but they
are executed as normal if there are match specifications.</p> <p>Silent mode is inhibited by executing
<strong>erlang:trace(_, false, [silent|_])</strong>,
or by a match specification executing the function
<strong>{silent, false}</strong>.</p> <p>The <strong>silent</strong> trace flag facilitates setting up
a trace on many or even all processes in the system.
The trace can then be activated and deactivated using the match
specification function <strong>{silent,Bool}</strong>, giving
a high degree of control of which functions with which 
arguments that trigger the trace.</p> <p>Message tags:
<a href="#trace_3_trace_messages_call">trace_3_trace_messages_call</a>,
<a href="#trace_3_trace_messages_return_from">trace_3_trace_messages_return_from</a>, and
<a href="#trace_3_trace_messages_return_to">trace_3_trace_messages_return_to</a>. Or rather, the absence of.</p> </dd><dt><strong>return_to</strong></dt><dd> <p>Used with the <strong>call</strong> trace flag.
Traces the return from a traced function back to
its caller. Only works for functions traced with
option <strong>local</strong> to <a href="#trace_pattern/3">trace_pattern/3</a>.</p> <p>The semantics is that a trace message is sent when a
call traced function returns, that is, when a
chain of tail recursive calls ends. Only one trace
message is sent per chain of tail recursive calls,
so the properties of tail recursiveness for
function calls are kept while tracing with this flag.
Using <strong>call</strong> and <strong>return_to</strong> trace together
makes it possible to know exactly in which function a
process executes at any time.</p> <p>To get trace messages containing return values from
functions, use the <strong>{return_trace}</strong> match
specification action instead.</p> <p>Message tags:
<a href="#trace_3_trace_messages_return_to">trace_3_trace_messages_return_to</a>.</p> </dd><dt><strong>procs</strong></dt><dd> <p>Traces process-related events.</p> <p>Message tags:
<a href="#trace_3_trace_messages_spawn">trace_3_trace_messages_spawn</a>,
<a href="#trace_3_trace_messages_spawned">trace_3_trace_messages_spawned</a>,
<a href="#trace_3_trace_messages_exit">trace_3_trace_messages_exit</a>,
<a href="#trace_3_trace_messages_register">trace_3_trace_messages_register</a>,
<a href="#trace_3_trace_messages_unregister">trace_3_trace_messages_unregister</a>,
<a href="#trace_3_trace_messages_link">trace_3_trace_messages_link</a>,
<a href="#trace_3_trace_messages_unlink">trace_3_trace_messages_unlink</a>,
<a href="#trace_3_trace_messages_getting_linked">trace_3_trace_messages_getting_linked</a>, and
<a href="#trace_3_trace_messages_getting_unlinked">trace_3_trace_messages_getting_unlinked</a>.</p> </dd><dt><strong>ports</strong></dt><dd> <p>Traces port-related events.</p> <p>Message tags:
<a href="#trace_3_trace_messages_open">trace_3_trace_messages_open</a>,
<a href="#trace_3_trace_messages_closed">trace_3_trace_messages_closed</a>,
<a href="#trace_3_trace_messages_register">trace_3_trace_messages_register</a>,
<a href="#trace_3_trace_messages_unregister">trace_3_trace_messages_unregister</a>,
<a href="#trace_3_trace_messages_getting_linked">trace_3_trace_messages_getting_linked</a>, and
<a href="#trace_3_trace_messages_getting_unlinked">trace_3_trace_messages_getting_unlinked</a>.</p> </dd><dt><strong>running</strong></dt><dd> <p>Traces scheduling of processes.</p> <p>Message tags:
<a href="#trace_3_trace_messages_in_proc">trace_3_trace_messages_in_proc</a> and
<a href="#trace_3_trace_messages_out_proc">trace_3_trace_messages_out_proc</a>.</p> </dd><dt><strong>exiting</strong></dt><dd> <p>Traces scheduling of exiting processes.</p> <p>Message tags:
<a href="#trace_3_trace_messages_in_exiting_proc">trace_3_trace_messages_in_exiting_proc</a>,
<a href="#trace_3_trace_messages_out_exiting_proc">trace_3_trace_messages_out_exiting_proc</a>, and
<a href="#trace_3_trace_messages_out_exited_proc">trace_3_trace_messages_out_exited_proc</a>.</p> </dd><dt><strong>running_procs</strong></dt><dd> <p>Traces scheduling of processes just like <strong>running</strong>.
However, this option also includes schedule events when the
process executes within the context of a port without
being scheduled out itself.</p> <p>Message tags:
<a href="#trace_3_trace_messages_in_proc">trace_3_trace_messages_in_proc</a> and
<a href="#trace_3_trace_messages_out_proc">trace_3_trace_messages_out_proc</a>.</p> </dd><dt><strong>running_ports</strong></dt><dd> <p>Traces scheduling of ports.</p> <p>Message tags:
<a href="#trace_3_trace_messages_in_port">trace_3_trace_messages_in_port</a> and
<a href="#trace_3_trace_messages_out_port">trace_3_trace_messages_out_port</a>.</p> </dd><dt><strong>garbage_collection</strong></dt><dd> <p>Traces garbage collections of processes.</p> <p>Message tags:
<a href="#trace_3_trace_messages_gc_minor_start">trace_3_trace_messages_gc_minor_start</a>,
<a href="#trace_3_trace_messages_gc_max_heap_size">trace_3_trace_messages_gc_max_heap_size</a>, and
<a href="#trace_3_trace_messages_gc_minor_end">trace_3_trace_messages_gc_minor_end</a>.</p> </dd><dt><strong>timestamp</strong></dt><dd> <p>Includes a time stamp in all trace messages. The
time stamp (Ts) has the same form as returned by
<strong>erlang:now()</strong>.</p> </dd><dt><strong>cpu_timestamp</strong></dt><dd> <p>A global trace flag for the Erlang node that makes all
trace time stamps using flag <strong>timestamp</strong> to be
in CPU time, not wall clock time. That is, <strong>cpu_timestamp</strong>
is not be used if <strong>monotonic_timestamp</strong> or
<strong>strict_monotonic_timestamp</strong> is enabled.
Only allowed with <strong><span class="anno">PidPortSpec</span>==all</strong>. If the
host machine OS does not support high-resolution
CPU time measurements, <strong>trace/3</strong> exits with
<strong>badarg</strong>. Notice that most OS do
not synchronize this value across cores, so be prepared
that time can seem to go backwards when using this option.</p> </dd><dt><strong>monotonic_timestamp</strong></dt><dd> <p>Includes an
<a href="./time_correction#Erlang_Monotonic_Time">Erlang monotonic time</a> time stamp in all trace messages. The
time stamp (Ts) has the same format and value as produced by
<a href="#monotonic_time-1">monotonic_time-1</a>.
This flag overrides flag <strong>cpu_timestamp</strong>.</p> </dd><dt><strong>strict_monotonic_timestamp</strong></dt><dd> <p>Includes an time stamp consisting of
<a href="./time_correction#Erlang_Monotonic_Time">Erlang monotonic time</a> and a monotonically increasing
integer in all trace messages. The time stamp (Ts) has the
same format and value as produced by <strong>{</strong>
<a href="#monotonic_time-1">monotonic_time-1</a><strong>,</strong>
<a href="#unique_integer-1">unique_integer-1</a><strong>}</strong>.
This flag overrides flag <strong>cpu_timestamp</strong>.</p> </dd><dt><strong>arity</strong></dt><dd> <p>Used with the <strong>call</strong> trace flag.
<strong>{M, F, Arity}</strong> is specified instead of
<strong>{M, F, Args}</strong> in call trace messages.</p> </dd><dt><strong>set_on_spawn</strong></dt><dd> <p>Makes any process created by a traced process inherit
its trace flags, including flag <strong>set_on_spawn</strong>.</p> </dd><dt><strong>set_on_first_spawn</strong></dt><dd> <p>Makes the first process created by a traced process
inherit its trace flags, excluding flag
<strong>set_on_first_spawn</strong>.</p> </dd><dt><strong>set_on_link</strong></dt><dd> <p>Makes any process linked by a traced process inherit its
trace flags, including flag <strong>set_on_link</strong>.</p> </dd><dt><strong>set_on_first_link</strong></dt><dd> <p>Makes the first process linked to by a traced process
inherit its trace flags, excluding flag
<strong>set_on_first_link</strong>.</p> </dd><dt><strong>{tracer, Tracer}</strong></dt><dd> <p>Specifies where to send the trace messages. <strong>Tracer</strong>
must be the process identifier of a local process
or the port identifier of a local port.</p> </dd><dt><strong>{tracer, TracerModule, TracerState}</strong></dt><dd> <p>Specifies that a tracer module is to be called
instead of sending a trace message. The tracer module
can then ignore or change the trace message. For more details
on how to write a tracer module, see
<a href="./erl_tracer">erts/erl_tracer</a>.</p> </dd></dl><p>If no <strong>tracer</strong> is specified, the calling process
receives all the trace messages.</p><p>The effect of combining <strong>set_on_first_link</strong> with
<strong>set_on_link</strong> is the same as
<strong>set_on_first_link</strong> alone. Likewise for
<strong>set_on_spawn</strong> and <strong>set_on_first_spawn</strong>.</p><p>The tracing process receives the <em>trace messages</em> described
in the following list. <strong>Pid</strong> is the process identifier of the
traced process in which the traced event has occurred. The
third tuple element is the message tag.</p><p>If flag <strong>timestamp</strong>, <strong>strict_monotonic_timestamp</strong>, or
<strong>monotonic_timestamp</strong> is specified, the first tuple
element is <strong>trace_ts</strong> instead, and the time stamp
is added as an extra element last in the message tuple. If
multiple time stamp flags are passed, <strong>timestamp</strong> has
precedence over <strong>strict_monotonic_timestamp</strong>, which
in turn has precedence over <strong>monotonic_timestamp</strong>. All
time stamp flags are remembered, so if two are passed
and the one with highest precedence later is disabled,
the other one becomes active.</p><p>Trace messages:</p><a name="trace_3_trace_messages"></a><dl><dt> <a name="trace_3_trace_messages_send"></a> <strong>{trace, PidPort, send, Msg, To}</strong> </dt><dd> <p>When <strong>PidPort</strong> sends message <strong>Msg</strong> to
process <strong>To</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_send_to_non_existing_process"></a> <strong>{trace, PidPort, send_to_non_existing_process, Msg, To}</strong> </dt><dd> <p>When <strong>PidPort</strong> sends message <strong>Msg</strong> to
the non-existing process <strong>To</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_receive"></a> <strong>{trace, PidPort, 'receive', Msg}</strong> </dt><dd> <p>When <strong>PidPort</strong> receives message <strong>Msg</strong>.
If <strong>Msg</strong> is set to time-out, a receive
statement can have timed out, or the process received
a message with the payload <strong>timeout</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_call"></a> <strong>{trace, Pid, call, {M, F, Args}}</strong> </dt><dd> <p>When <strong>Pid</strong> calls a traced function. The return
values of calls are never supplied, only the call and its
arguments.</p> <p>Trace flag <strong>arity</strong> can be used to
change the contents of this message, so that <strong>Arity</strong>
is specified instead of <strong>Args</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_return_to"></a> <strong>{trace, Pid, return_to, {M, F, Arity}}</strong> </dt><dd> <p>When <strong>Pid</strong> returns <em>to</em> the specified
function. This trace message is sent if both
the flags <strong>call</strong> and <strong>return_to</strong> are set,
and the function is set to be traced on <em>local</em>
function calls. The message is only sent when returning
from a chain of tail recursive function calls, where at
least one call generated a <strong>call</strong> trace message
(that is, the functions match specification matched, and
<strong>{message, false}</strong> was not an action).</p> </dd><dt> <a name="trace_3_trace_messages_return_from"></a> <strong>{trace, Pid, return_from, {M, F, Arity}, ReturnValue}</strong> </dt><dd> <p>When <strong>Pid</strong> returns <em>from</em> the specified
function. This trace message is sent if flag <strong>call</strong>
is set, and the function has a match specification
with a <strong>return_trace</strong> or <strong>exception_trace</strong> action.</p> </dd><dt> <a name="trace_3_trace_messages_exception_from"></a> <strong>{trace, Pid, exception_from, {M, F, Arity}, {Class, Value}}</strong> </dt><dd> <p>When <strong>Pid</strong> exits <em>from</em> the specified
function because of an exception. This trace message is
sent if flag <strong>call</strong> is set, and the function has 
a match specification with an <strong>exception_trace</strong> action.</p> </dd><dt> <a name="trace_3_trace_messages_spawn"></a> <strong>{trace, Pid, spawn, Pid2, {M, F, Args}}</strong> </dt><dd> <p>When <strong>Pid</strong> spawns a new process <strong>Pid2</strong> with
the specified function call as entry point.</p> <p><strong>Args</strong> is supposed to be the argument list,
but can be any term if the spawn is erroneous.</p> </dd><dt> <a name="trace_3_trace_messages_spawned"></a> <strong>{trace, Pid, spawned, Pid2, {M, F, Args}}</strong> </dt><dd> <p>When <strong>Pid</strong> is spawned by process <strong>Pid2</strong> with
the specified function call as entry point.</p> <p><strong>Args</strong> is supposed to be the argument list,
but can be any term if the spawn is erroneous.</p> </dd><dt> <a name="trace_3_trace_messages_exit"></a> <strong>{trace, Pid, exit, Reason}</strong> </dt><dd> <p>When <strong>Pid</strong> exits with reason <strong>Reason</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_register"></a> <strong>{trace, PidPort, register, RegName}</strong> </dt><dd> <p>When <strong>PidPort</strong> gets the name <strong>RegName</strong> registered.</p> </dd><dt> <a name="trace_3_trace_messages_unregister"></a> <strong>{trace, PidPort, unregister, RegName}</strong> </dt><dd> <p>When <strong>PidPort</strong> gets the name <strong>RegName</strong> unregistered.
This is done automatically when a registered
process or port exits.</p> </dd><dt> <a name="trace_3_trace_messages_link"></a> <strong>{trace, Pid, link, Pid2}</strong> </dt><dd> <p>When <strong>Pid</strong> links to a process <strong>Pid2</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_unlink"></a> <strong>{trace, Pid, unlink, Pid2}</strong> </dt><dd> <p>When <strong>Pid</strong> removes the link from a process
<strong>Pid2</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_getting_linked"></a> <strong>{trace, PidPort, getting_linked, Pid2}</strong> </dt><dd> <p>When <strong>PidPort</strong> gets linked to a process <strong>Pid2</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_getting_unlinked"></a> <strong>{trace, PidPort, getting_unlinked, Pid2}</strong> </dt><dd> <p>When <strong>PidPort</strong> gets unlinked from a process <strong>Pid2</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_exit"></a> <strong>{trace, Pid, exit, Reason}</strong> </dt><dd> <p>When <strong>Pid</strong> exits with reason <strong>Reason</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_open"></a> <strong>{trace, Port, open, Pid, Driver}</strong> </dt><dd> <p>When <strong>Pid</strong> opens a new port <strong>Port</strong> with
the running <strong>Driver</strong>.</p> <p><strong>Driver</strong> is the name of the driver as an atom.</p> </dd><dt> <a name="trace_3_trace_messages_closed"></a> <strong>{trace, Port, closed, Reason}</strong> </dt><dd> <p>When <strong>Port</strong> closes with <strong>Reason</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_in_proc"></a> <a name="trace_3_trace_messages_in_exiting_proc"></a> <strong>{trace, Pid, in | in_exiting, {M, F, Arity} | 0}</strong> </dt><dd> <p>When <strong>Pid</strong> is scheduled to run. The process
runs in function <strong>{M, F, Arity}</strong>. On some rare
occasions, the current function cannot be determined,
then the last element is <strong>0</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_out_proc"></a> <a name="trace_3_trace_messages_out_exiting_proc"></a> <a name="trace_3_trace_messages_out_exited_proc"></a> <strong>{trace, Pid, out | out_exiting | out_exited, {M, F, Arity} | 0}</strong> </dt><dd> <p>When <strong>Pid</strong> is scheduled out. The process was
running in function {M, F, Arity}. On some rare occasions,
the current function cannot be determined, then the last
element is <strong>0</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_in_port"></a> <strong>{trace, Port, in, Command | 0}</strong> </dt><dd> <p>When <strong>Port</strong> is scheduled to run. <strong>Command</strong> is the
first thing the port will execute, it can however run several
commands before being scheduled out. On some rare
occasions, the current function cannot be determined,
then the last element is <strong>0</strong>.</p> <p>The possible commands are <strong>call</strong>, <strong>close</strong>,
<strong>command</strong>, <strong>connect</strong>, <strong>control</strong>, <strong>flush</strong>,
<strong>info</strong>, <strong>link</strong>, <strong>open</strong>, and <strong>unlink</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_out_port"></a> <strong>{trace, Port, out, Command | 0}</strong> </dt><dd> <p>When <strong>Port</strong> is scheduled out. The last command run
was <strong>Command</strong>. On some rare occasions,
the current function cannot be determined, then the last
element is <strong>0</strong>. <strong>Command</strong> can contain the same
commands as <strong>in</strong></p> </dd><dt> <a name="trace_3_trace_messages_gc_minor_start"></a> <strong>{trace, Pid, gc_minor_start, Info}</strong> </dt><dd> <a name="gc_minor_start"></a> <p>Sent when a young garbage collection is about to be started.
<strong>Info</strong> is a list of two-element tuples, where
the first element is a key, and the second is the value.
Do not depend on any order of the tuples.
The following keys are defined:</p> <dl><dt><strong>heap_size</strong></dt><dd>The size of the used part of the heap.</dd><dt><strong>heap_block_size</strong></dt><dd>The size of the memory block used for storing the heap and the stack.</dd><dt><strong>old_heap_size</strong></dt><dd>The size of the used part of the old heap.</dd><dt><strong>old_heap_block_size</strong></dt><dd>The size of the memory block used for storing the old heap.</dd><dt><strong>stack_size</strong></dt><dd>The size of the stack.</dd><dt><strong>recent_size</strong></dt><dd>The size of the data that survived the previous garbage collection.</dd><dt><strong>mbuf_size</strong></dt><dd>The combined size of message buffers associated with the process.</dd><dt><strong>bin_vheap_size</strong></dt><dd>The total size of unique off-heap binaries referenced from the process heap.</dd><dt><strong>bin_vheap_block_size</strong></dt><dd>The total size of binaries allowed in the virtual heap in the process before doing a garbage collection.</dd><dt><strong>bin_old_vheap_size</strong></dt><dd>The total size of unique off-heap binaries referenced from the process old heap.</dd><dt><strong>bin_old_vheap_block_size</strong></dt><dd>The total size of binaries allowed in the virtual old heap in the process before doing a garbage collection.</dd></dl> <p>All sizes are in words.</p> </dd><dt> <a name="trace_3_trace_messages_gc_max_heap_size"></a> <strong>{trace, Pid, gc_max_heap_size, Info}</strong> </dt><dd> <p>Sent when the <a href="#process_flag_max_heap_size">process_flag_max_heap_size</a>
is reached during garbage collection. <strong>Info</strong> contains the
same kind of list as in message <strong>gc_start</strong>,
but the sizes reflect the sizes that triggered
<strong>max_heap_size</strong> to be reached.</p> </dd><dt> <a name="trace_3_trace_messages_gc_minor_end"></a> <strong>{trace, Pid, gc_minor_end, Info}</strong> </dt><dd> <p>Sent when young garbage collection is finished. <strong>Info</strong>
contains the same kind of list as in message
<strong>gc_minor_start</strong>,
but the sizes reflect the new sizes after
garbage collection.</p> </dd><dt> <a name="trace_3_trace_messages_gc_major_start"></a> <strong>{trace, Pid, gc_major_start, Info}</strong> </dt><dd> <p>Sent when fullsweep garbage collection is about to be started.
<strong>Info</strong> contains the same kind of list as in message
<strong>gc_minor_start</strong>.</p> </dd><dt> <a name="trace_3_trace_messages_gc_major_end"></a> <strong>{trace, Pid, gc_major_end, Info}</strong> </dt><dd> <p>Sent when fullsweep garbage collection is finished. <strong>Info</strong>
contains the same kind of list as in message
<strong>gc_minor_start</strong>, but the sizes reflect the new sizes after
a fullsweep garbage collection.</p> </dd></dl><p>If the tracing process/port dies or the tracer module returns
<strong>remove</strong>, the flags are silently removed.</p><p>Each process can only be traced by one tracer. Therefore,
attempts to trace an already traced process fail.</p><p>Returns a number indicating the number of processes that
matched <strong><span class="anno">PidPortSpec</span></strong>.
If <strong><span class="anno">PidPortSpec</span></strong> is a process
identifier, the return value is <strong>1</strong>.
If <strong><span class="anno">PidPortSpec</span></strong>
is <strong>all</strong> or <strong>existing</strong>, the return value is
the number of processes running.
If <strong><span class="anno">PidPortSpec</span></strong> is <strong>new</strong>, the return value is
<strong>0</strong>.</p><p>Failure: <strong>badarg</strong> if the specified arguments are
not supported. For example, <strong>cpu_timestamp</strong> is not
supported on all platforms.</p><h2>trace_delivered/1</h2><p>Notification when trace has been delivered.</p><p>The delivery of trace messages (generated by
<a href="#trace/3">trace/3</a>,
<a href="./seq_trace">kernel/seq_trace</a>,
or <a href="#system_profile/2">system_profile/2</a>)
is dislocated on the time-line
compared to other events in the system. If you know that
<strong><span class="anno">Tracee</span></strong> has passed some specific point
in its execution,
and you want to know when at least all trace messages
corresponding to events up to this point have reached the
tracer, use <strong>erlang:trace_delivered(<span class="anno">Tracee</span>)</strong>.</p><p>When it is guaranteed that all trace messages are delivered to
the tracer up to the point that <strong><span class="anno">Tracee</span></strong> reached
at the time of the call to
<strong>erlang:trace_delivered(<span class="anno">Tracee</span>)</strong>, then a
<strong>{trace_delivered, <span class="anno">Tracee</span>, <span class="anno">Ref</span>}</strong>
message is sent to the caller of
<strong>erlang:trace_delivered(<span class="anno">Tracee</span>)</strong> .</p><p>Notice that message <strong>trace_delivered</strong> does <em>not</em>
imply that trace messages have been delivered.
Instead it implies that all trace messages that
<em>are to be delivered</em> have been delivered.
It is not an error if <strong><span class="anno">Tracee</span></strong> is not, and
has not been traced by someone, but if this is the case,
<em>no</em> trace messages have been delivered when the
<strong>trace_delivered</strong> message arrives.</p><p>Notice that <strong><span class="anno">Tracee</span></strong> must refer
to a process currently
or previously existing on the same node as the caller of
<strong>erlang:trace_delivered(<span class="anno">Tracee</span>)</strong> resides on.
The special <strong><span class="anno">Tracee</span></strong> atom <strong>all</strong>
denotes all processes that currently are traced in the node.</p><p>When used together with a <a href="./erl_tracer"> Tracer Module</a>, any message sent in the trace callback
is guaranteed to have reached its recipient before the
<strong>trace_delivered</strong> message is sent.</p><p>Example: Process <strong>A</strong> is <strong><span class="anno">Tracee</span></strong>,
port <strong>B</strong> is tracer, and process <strong>C</strong> is the port
owner of <strong>B</strong>. <strong>C</strong> wants to close <strong>B</strong> when
<strong>A</strong> exits. To ensure that the trace is not truncated,
<strong>C</strong> can call <strong>erlang:trace_delivered(A)</strong> when
<strong>A</strong> exits, and wait for message <strong>{trace_delivered, A, <span class="anno">Ref</span>}</strong> before closing <strong>B</strong>.</p><p>Failure: <strong>badarg</strong> if <strong><span class="anno">Tracee</span></strong>
does not refer to a
process (dead or alive) on the same node as the caller of
<strong>erlang:trace_delivered(<span class="anno">Tracee</span>)</strong> resides on.</p><h2>trace_info/2</h2><p>Trace information about a process or function.</p><ul><li>trace_info_return</li></ul><ul><li>trace_info_item_result</li></ul><ul><li>trace_info_flag</li></ul><ul><li>trace_match_spec</li></ul><ul><li>match_variable</li></ul> Approximation of '$1' | '$2' | '$3' | ... <p>Returns trace information about a port, process, function, or
event.</p><p><em>To get information about a port or process</em>,
<strong><span class="anno">PidPortFuncEvent</span></strong> is to
be a process identifier (pid), port identifier, or one of
the atoms <strong>new</strong>, <strong>new_processes</strong>, or <strong>new_ports</strong>. The
atom <strong>new</strong> or <strong>new_processes</strong> means that the default trace
state for processes to be created is returned. The atom
<strong>new_ports</strong> means that the default trace state for ports to be
created is returned.</p><p>Valid <strong>Item</strong>s for ports and processes:</p><dl><dt><strong>flags</strong></dt><dd> <p>Returns a list of atoms indicating what kind of traces is
enabled for the process. The list is empty if no
traces are enabled, and one or more of the followings
atoms if traces are enabled: <strong>send</strong>,
<strong>'receive'</strong>, <strong>set_on_spawn</strong>, <strong>call</strong>,
<strong>return_to</strong>, <strong>procs</strong>, <strong>ports</strong>,
<strong>set_on_first_spawn</strong>,
<strong>set_on_link</strong>, <strong>running</strong>, <strong>running_procs</strong>,
<strong>running_ports</strong>, <strong>silent</strong>, <strong>exiting</strong>,
<strong>monotonic_timestamp</strong>, <strong>strict_monotonic_timestamp</strong>,
<strong>garbage_collection</strong>, <strong>timestamp</strong>, and
<strong>arity</strong>. The order is arbitrary.</p> </dd><dt><strong>tracer</strong></dt><dd> <p>Returns the identifier for process, port, or a tuple containing
the tracer module and tracer state tracing this
process. If this process is not traced, the return
value is <strong>[]</strong>.</p> </dd></dl><p><em>To get information about a function</em>,
<strong><span class="anno">PidPortFuncEvent</span></strong> is to
be the three-element tuple <strong>{Module, Function, Arity}</strong> or
the atom <strong>on_load</strong>. No wildcards are allowed. Returns
<strong>undefined</strong> if the function does not exist, or
<strong>false</strong> if the function is not traced.
If <strong><span class="anno">PidPortFuncEvent</span></strong>
is <strong>on_load</strong>, the information returned refers to
the default value for code that will be loaded.</p><p>Valid <strong>Item</strong>s for functions:</p><dl><dt><strong>traced</strong></dt><dd> <p>Returns <strong>global</strong> if this function is traced on
global function calls, <strong>local</strong> if this function is
traced on local function calls (that is, local and global
function calls), and <strong>false</strong> if local or
global function calls are not traced.</p> </dd><dt><strong>match_spec</strong></dt><dd> <p>Returns the match specification for this function, if it
has one. If the function is locally or globally traced but
has no match specification defined, the returned value
is <strong>[]</strong>.</p> </dd><dt><strong>meta</strong></dt><dd> <p>Returns the meta-trace tracer process, port, or trace module
for this function, if it has one. If the function is not
meta-traced, the returned value is <strong>false</strong>. If
the function is meta-traced but has once detected that
the tracer process is invalid, the returned value is
<strong>[]</strong>.</p> </dd><dt><strong>meta_match_spec</strong></dt><dd> <p>Returns the meta-trace match specification for this
function, if it has one. If the function is meta-traced
but has no match specification defined, the returned
value is <strong>[]</strong>.</p> </dd><dt><strong>call_count</strong></dt><dd> <p>Returns the call count value for this function or
<strong>true</strong> for the pseudo function <strong>on_load</strong> if call
count tracing is active. Otherwise <strong>false</strong> is returned.</p> <p>See also <a href="#trace_pattern/3">trace_pattern/3</a>.</p> </dd><dt><strong>call_time</strong></dt><dd> <p>Returns the call time values for this function or
<strong>true</strong> for the pseudo function <strong>on_load</strong> if call
time tracing is active. Otherwise <strong>false</strong> is returned.
The call time values returned, <strong>[{Pid, Count, S, Us}]</strong>,
is a list of each process that executed the function
and its specific counters.</p> <p>See also
<a href="#trace_pattern/3">trace_pattern/3</a>.</p> </dd><dt><strong>all</strong></dt><dd> <p>Returns a list containing the
<strong>{<span class="anno">Item</span>, Value}</strong> tuples
for all other items, or returns <strong>false</strong> if no tracing
is active for this function.</p> </dd></dl><p><em>To get information about an event</em>,
<strong><span class="anno">PidPortFuncEvent</span></strong> is to
be one of the atoms <strong>send</strong> or <strong>'receive'</strong>.</p><p>One valid <strong>Item</strong> for events exists:</p><dl><dt><strong>match_spec</strong></dt><dd> <p>Returns the match specification for this event, if it
has one, or <strong>true</strong> if no match specification has been
set.</p> </dd></dl><p>The return value is <strong>{<span class="anno">Item</span>, Value}</strong>, where
<strong>Value</strong> is the requested information as described earlier.
If a pid for a dead process was specified, or the name of a
non-existing function, <strong>Value</strong> is <strong>undefined</strong>.</p><h2>trace_pattern/2</h2><p>Set trace patterns for call, send, or 'receive' tracing. </p><ul><li>trace_pattern_mfa</li></ul><ul><li>trace_match_spec</li></ul> Approximation of '$1' | '$2' | '$3' | ... <ul><li>match_variable</li></ul><p>The same as
<a href="#trace_pattern/3">trace_pattern/3</a>,
retained for backward compatibility.</p><h2>trace_pattern/3</h2><p>Set trace pattern for message sending.</p><ul><li>trace_match_spec</li></ul><ul><li>match_variable</li></ul> Approximation of '$1' | '$2' | '$3' | ... <p>Sets trace pattern for <em>message sending</em>.
Must be combined with
<a href="#trace/3">trace/3</a>
to set the <strong>send</strong> trace flag for one or more processes.
By default all messages sent from <strong>send</strong> traced processes
are traced. To limit
traced send events based on the message content, the sender
and/or the receiver, use <strong>erlang:trace_pattern/3</strong>.</p><p>Argument <strong><span class="anno">MatchSpec</span></strong> can take the
following forms:</p><dl><dt><strong><span class="anno">MatchSpecList</span></strong></dt><dd> <p>A list of match specifications. The matching is done
on the list <strong>[Receiver, Msg]</strong>. <strong>Receiver</strong>
is the process or port identity of the receiver and
<strong>Msg</strong> is the message term. The pid of the sending
process can be accessed with the guard function
<strong>self/0</strong>. An empty list is the same as <strong>true</strong>.
For more information, see section
<a href="./match_spec"> Match Specifications in Erlang</a> in the User's Guide.</p> </dd><dt><strong>true</strong></dt><dd> <p>Enables tracing for all sent messages (from <strong>send</strong>
traced processes). Any match specification is
removed. <em>This is the default</em>.</p> </dd><dt><strong>false</strong></dt><dd> <p>Disables tracing for all sent messages.
Any match specification is removed.</p> </dd></dl><p>Argument <strong><span class="anno">FlagList</span></strong> must be <strong>[]</strong>
for send tracing.</p><p>The return value is always <strong>1</strong>.</p><p>Examples:</p><p>Only trace messages to a specific process <strong>Pid</strong>:</p><pre>
&gt; <span class="input">erlang:trace_pattern(send, [{[Pid, '_'],[],[]}], []).</span>
1</pre><p>Only trace messages matching <strong>{reply, _}</strong>:</p><pre>
&gt; <span class="input">erlang:trace_pattern(send, [{['_', {reply,'_'}],[],[]}], []).</span>
1</pre><p>Only trace messages sent to the sender itself:</p><pre>
&gt; <span class="input">erlang:trace_pattern(send, [{['$1', '_'],[{'=:=','$1',{self}}],[]}], []).</span>
1</pre><p>Only trace messages sent to other nodes:</p><pre>
&gt; <span class="input">erlang:trace_pattern(send, [{['$1', '_'],[{'=/=',{node,'$1'},{node}}],[]}], []).</span>
1</pre><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>A match specification for <strong>send</strong> trace can use
all guard and body functions except <strong>caller</strong>.</p></div><h2>trace_pattern/3</h2><p>Set trace pattern for tracing of message receiving.</p><ul><li>trace_match_spec</li></ul><ul><li>match_variable</li></ul> Approximation of '$1' | '$2' | '$3' | ... <p>Sets trace pattern for <em>message receiving</em>.
Must be combined with
<a href="#trace/3">trace/3</a>
to set the <strong>'receive'</strong> trace flag for one or more processes.
By default all messages received by <strong>'receive'</strong> traced
processes are traced. To limit
traced receive events based on the message content, the sender
and/or the receiver, use <strong>erlang:trace_pattern/3</strong>.</p><p>Argument <strong><span class="anno">MatchSpec</span></strong> can take the
following forms:</p><dl><dt><strong><span class="anno">MatchSpecList</span></strong></dt><dd> <p>A list of match specifications. The matching is done
on the list <strong>[Node, Sender, Msg]</strong>. <strong>Node</strong>
is the node name of the sender. <strong>Sender</strong> is the
process or port identity of the sender, or the atom
<strong>undefined</strong> if the sender is not known (which can
be the case for remote senders). <strong>Msg</strong> is the
message term. The pid of the receiving process can be
accessed with the guard function <strong>self/0</strong>. An empty
list is the same as <strong>true</strong>. For more information, see
section <a href="./match_spec"> Match Specifications in Erlang</a> in the User's Guide.</p> </dd><dt><strong>true</strong></dt><dd> <p>Enables tracing for all received messages (to <strong>'receive'</strong>
traced processes). Any match specification is
removed. <em>This is the default</em>.</p> </dd><dt><strong>false</strong></dt><dd> <p>Disables tracing for all received messages.
Any match specification is removed.</p> </dd></dl><p>Argument <strong><span class="anno">FlagList</span></strong> must be <strong>[]</strong>
for receive tracing.</p><p>The return value is always <strong>1</strong>.</p><p>Examples:</p><p>Only trace messages from a specific process <strong>Pid</strong>:</p><pre>
&gt; <span class="input">erlang:trace_pattern('receive', [{['_',Pid, '_'],[],[]}], []).</span>
1</pre><p>Only trace messages matching <strong>{reply, _}</strong>:</p><pre>
&gt; <span class="input">erlang:trace_pattern('receive', [{['_','_', {reply,'_'}],[],[]}], []).</span>
1</pre><p>Only trace messages from other nodes:</p><pre>
&gt; <span class="input">erlang:trace_pattern('receive', [{['$1', '_', '_'],[{'=/=','$1',{node}}],[]}], []).</span>
1</pre><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>A match specification for <strong>'receive'</strong> trace can
use all guard and body functions except <strong>caller</strong>,
<strong>is_seq_trace</strong>, <strong>get_seq_token</strong>, <strong>set_seq_token</strong>,
<strong>enable_trace</strong>, <strong>disable_trace</strong>, <strong>trace</strong>,
<strong>silent</strong>, and <strong>process_dump</strong>.</p></div><h2>trace_pattern/3</h2><p>Set trace patterns for tracing of function calls.</p><ul><li>trace_pattern_mfa</li></ul><ul><li>trace_match_spec</li></ul><ul><li>trace_pattern_flag</li></ul><ul><li>match_variable</li></ul> Approximation of '$1' | '$2' | '$3' | ... <p>Enables or disables <em>call tracing</em> for one or more functions.
Must be combined with
<a href="#trace/3">trace/3</a>
to set the <strong>call</strong> trace flag
for one or more processes.</p><p>Conceptually, call tracing works as follows. Inside
the Erlang virtual machine, a set of processes and
a set of functions are to be traced. If a traced process
calls a traced function, the trace action is taken.
Otherwise, nothing happens.</p><p>To add or remove one or more processes to the set of traced
processes, use
<a href="#trace/3">trace/3</a>.</p><p>To add or remove functions to the set of traced
functions, use <strong>erlang:trace_pattern/3</strong>.</p><p>The BIF <strong>erlang:trace_pattern/3</strong> can also add match
specifications to a function. A match specification
comprises a pattern that the function arguments must
match, a guard expression that must evaluate to <strong>true</strong>,
and an action to be performed. The default action is to send a
trace message. If the pattern does not match or the guard
fails, the action is not executed.</p><p>Argument <strong><span class="anno">MFA</span></strong> is to be a tuple, such as
<strong>{Module, Function, Arity}</strong>, or the atom <strong>on_load</strong>
(described below). It can be the module, function,
and arity for a function (or a BIF in any module).
The atom <strong>'_'</strong> can be used as a wildcard in any of the
following ways:</p><dl><dt><strong>{Module,Function,'_'}</strong></dt><dd> <p>All functions of any arity named <strong>Function</strong>
in module <strong>Module</strong>.</p> </dd><dt><strong>{Module,'_','_'}</strong></dt><dd> <p>All functions in module <strong>Module</strong>.</p> </dd><dt><strong>{'_','_','_'}</strong></dt><dd> <p>All functions in all loaded modules.</p> </dd></dl><p>Other combinations, such as <strong>{Module,'_',Arity}</strong>, are
not allowed. Local functions match wildcards only if
option <strong>local</strong> is in <strong><span class="anno">FlagList</span></strong>.</p><p>If argument <strong><span class="anno">MFA</span></strong> is the atom <strong>on_load</strong>,
the match specification and flag list are used on all
modules that are newly loaded.</p><p>Argument <strong><span class="anno">MatchSpec</span></strong> can take the
following forms:</p><dl><dt><strong>false</strong></dt><dd> <p>Disables tracing for the matching functions.
Any match specification is removed.</p> </dd><dt><strong>true</strong></dt><dd> <p>Enables tracing for the matching functions.
Any match specification is removed.</p> </dd><dt><strong><span class="anno">MatchSpecList</span></strong></dt><dd> <p>A list of match specifications. An empty list is
equivalent to <strong>true</strong>. For a description of match
specifications, see section <a href="./match_spec"> Match Specifications in Erlang</a> in the User's Guide.</p> </dd><dt><strong>restart</strong></dt><dd> <p>For the <strong><span class="anno">FlagList</span></strong> options <strong>call_count</strong>
and <strong>call_time</strong>: restarts
the existing counters. The behavior is undefined
for other <strong><span class="anno">FlagList</span></strong> options.</p> </dd><dt><strong>pause</strong></dt><dd> <p>For the <strong><span class="anno">FlagList</span></strong> options
<strong>call_count</strong> and <strong>call_time</strong>: pauses
the existing counters. The behavior is undefined for
other <strong><span class="anno">FlagList</span></strong> options.</p> </dd></dl><p>Parameter <strong><span class="anno">FlagList</span></strong> is a list of options.
The following are the valid options:</p><dl><dt><strong>global</strong></dt><dd> <p>Turns on or off call tracing for global function calls
(that is, calls specifying the module explicitly). Only
exported functions match and only global calls
generate trace messages. <em>This is the default</em>.</p> </dd><dt><strong>local</strong></dt><dd> <p>Turns on or off call tracing for all types of function
calls. Trace messages are sent whenever any of
the specified functions are called, regardless of how they
are called. If flag <strong>return_to</strong> is set for
the process, a <strong>return_to</strong> message is also sent
when this function returns to its caller.</p> </dd><dt><strong>meta | {meta, <span class="anno">Pid</span>} | {meta, <span class="anno">TracerModule</span>, <span class="anno">TracerState</span>}</strong> </dt><dd> <p>Turns on or off meta-tracing for all types of function
calls. Trace messages are sent to the tracer whenever any of
the specified functions are called. If no tracer is specified,
<strong>self()</strong> is used as a default tracer process.</p> <p>Meta-tracing traces all processes and does not care
about the process trace flags set by <strong>erlang:trace/3</strong>,
the trace flags are instead fixed to
<strong>[call, timestamp]</strong>.</p> <p>The match specification function <strong>{return_trace}</strong>
works with meta-trace and sends its trace message to the
same tracer.</p> </dd><dt><strong>call_count</strong></dt><dd> <p>Starts (<strong><span class="anno">MatchSpec</span> == true</strong>) or stops
(<strong><span class="anno">MatchSpec</span> == false</strong>)
call count tracing for all
types of function calls. For every function, a counter is
incremented when the function is called, in any process.
No process trace flags need to be activated.</p> <p>If call count tracing is started while already running,
the count is restarted from zero. To pause running
counters, use <strong><span class="anno">MatchSpec</span> == pause</strong>.
Paused and running counters can be restarted from zero with
<strong><span class="anno">MatchSpec</span> == restart</strong>.</p> <p>To read the counter value, use
<a href="#trace_info/2">trace_info/2</a>.</p> </dd><dt><strong>call_time</strong></dt><dd> <p>Starts (<strong><span class="anno">MatchSpec</span> == true</strong>) or stops
(<strong><span class="anno">MatchSpec</span> == false</strong>) call time
tracing for all
types of function calls. For every function, a counter is
incremented when the function is called.
Time spent in the function is accumulated in
two other counters, seconds and microseconds.
The counters are stored for each call traced process.</p> <p>If call time tracing is started while already running,
the count and time restart from zero. To pause
running counters, use <strong><span class="anno">MatchSpec</span> == pause</strong>.
Paused and running counters can be restarted from zero with
<strong><span class="anno">MatchSpec</span> == restart</strong>.</p> <p>To read the counter value, use
<a href="#trace_info/2">trace_info/2</a>.</p> </dd></dl><p>The options <strong>global</strong> and <strong>local</strong> are mutually
exclusive, and <strong>global</strong> is the default (if no options are
specified). The options <strong>call_count</strong> and <strong>meta</strong>
perform a kind of local tracing, and cannot be combined
with <strong>global</strong>. A function can be globally or
locally traced. If global tracing is specified for a
set of functions, then local, meta, call time, and call count
tracing for the matching set of local functions is
disabled, and conversely.</p><p>When disabling trace, the option must match the type of trace
set on the function. That is, local tracing must be
disabled with option <strong>local</strong> and global tracing with
option <strong>global</strong> (or no option), and so on.</p><p>Part of a match specification list cannot be changed directly.
If a function has a match specification, it can be replaced
with a new one. To change an existing match specification,
use the BIF
<a href="#trace_info/2">trace_info/2</a>
to retrieve the existing match specification.</p><p>Returns the number of functions matching
argument <strong><span class="anno">MFA</span></strong>. This is zero if none matched.</p><h2>trunc/1</h2><p>Return an integer by truncating a number.</p><p>Returns an integer by truncating <strong><span class="anno">Number</span></strong>,
for example:</p><pre>
&gt; <span class="input">trunc(5.5).</span>
5</pre><p>Allowed in guard tests.</p><h2>tuple_size/1</h2><p>Return the size of a tuple.</p><p>Returns an integer that is the number of elements in
<strong><span class="anno">Tuple</span></strong>, for example:</p><pre>
&gt; <span class="input">tuple_size({morni, mulle, bwange}).</span>
3</pre><p>Allowed in guard tests.</p><h2>tuple_to_list/1</h2><p>Convert a tuple to a list.</p><p>Returns a list corresponding to <strong><span class="anno">Tuple</span></strong>.
<strong><span class="anno">Tuple</span></strong> can contain any Erlang terms.
Example:</p><pre>
&gt; <span class="input">tuple_to_list({share, {'Ericsson_B', 163}}).</span>
[share,{'Ericsson_B',163}]</pre><h2>unique_integer/0</h2><p>Get a unique integer value.</p><p>Generates and returns an
<a href="../doc/efficiency_guide/advanced#unique_integers"> integer unique on current runtime system instance</a>.
The same as calling
<a href="#unique_integer/1">unique_integer/1</a>.</p><h2>unique_integer/1</h2><p>Get a unique integer value.</p><p>Generates and returns an
<a href="../doc/efficiency_guide/advanced#unique_integers"> integer unique on current runtime system instance</a>. The integer is unique in the
sense that this BIF, using the same set of
modifiers, does not return the same integer more
than once on the current runtime system instance.
Each integer value can of course be constructed
by other means.</p><p>By default, when <strong>[]</strong> is passed as
<strong><span class="anno">ModifierList</span></strong>, both negative and
positive integers can be returned. This
to use the range of integers that do
not need heap memory allocation as much as possible.
By default the returned integers are also only
guaranteed to be unique, that is, any returned integer
can be smaller or larger than previously
returned integers.</p><p><strong><span class="anno">Modifier</span></strong>s:</p><dl><dt>positive</dt><dd> <p>Returns only positive integers.</p> <p>Notice that by passing the <strong>positive</strong> modifier
you will get heap allocated integers (bignums) quicker.</p> </dd><dt>monotonic</dt><dd> <p>Returns <a href="./time_correction#Strictly_Monotonically_Increasing"> strictly monotonically increasing</a> integers
corresponding to creation time. That is, the integer
returned is always larger than previously
returned integers on the current runtime system
instance.</p> <p>These values can be used to determine order between events
on the runtime system instance. That is, if both
<strong>X = erlang:unique_integer([monotonic])</strong> and
<strong>Y = erlang:unique_integer([monotonic])</strong> are
executed by different processes (or the same
process) on the same runtime system instance and
<strong>X &lt; Y</strong>, we know that <strong>X</strong> was created
before <strong>Y</strong>.</p> <div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>Strictly monotonically increasing values
are inherently quite expensive to generate and scales
poorly. This is because the values need to be synchronized
between CPU cores. That is, do not pass the <strong>monotonic</strong>
modifier unless you really need strictly monotonically
increasing values.</p></div> </dd></dl><p>All valid <strong><span class="anno">Modifier</span></strong>s
can be combined. Repeated (valid)
<strong><span class="anno">Modifier</span></strong>s in the <strong>ModifierList</strong>
are ignored.</p><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>The set of integers returned by
<strong>erlang:unique_integer/1</strong> using different sets of
<strong><span class="anno">Modifier</span></strong>s <em>will overlap</em>.
For example, by calling <strong>unique_integer([monotonic])</strong>,
and <strong>unique_integer([positive, monotonic])</strong>
repeatedly, you will eventually see some integers that are
returned by both calls.</p></div><p>Failures:</p><dl><dt><strong>badarg</strong></dt><dd>if <strong><span class="anno">ModifierList</span></strong> is not a proper list.</dd><dt><strong>badarg</strong></dt><dd>if <strong><span class="anno">Modifier</span></strong> is not a valid modifier.</dd></dl><h2>universaltime/0</h2><p>Current date and time according to Universal Time Coordinated (UTC).</p><p>Returns the current date and time according to Universal
Time Coordinated (UTC) in the form
<strong>{{Year, Month, Day}, {Hour, Minute, Second}}</strong> if
supported by the underlying OS.
Otherwise <strong>erlang:universaltime()</strong> is equivalent to
<strong>erlang:localtime()</strong>. Example:</p><pre>
&gt; <span class="input">erlang:universaltime().</span>
{{1996,11,6},{14,18,43}}</pre><h2>universaltime_to_localtime/1</h2><p>Convert from Universal Time Coordinated (UTC) to local date and time.</p><p>Converts Universal Time Coordinated (UTC) date and time to
local date and time in the form
<strong>{{Year, Month, Day}, {Hour, Minute, Second}}</strong> if
supported by the underlying OS.
Otherwise no conversion is done, and
<strong><span class="anno">Universaltime</span></strong> is returned. Example:</p><pre>
&gt; <span class="input">erlang:universaltime_to_localtime({{1996,11,6},{14,18,43}}).</span>
{{1996,11,7},{15,18,43}}</pre><p>Failure: <strong>badarg</strong> if <strong>Universaltime</strong> denotes
an invalid date and time.</p><h2>unlink/1</h2><p>Remove a link to another process or port.</p><p>Removes the link, if there is one, between the calling
process and the process or port referred to by
<strong><span class="anno">Id</span></strong>.</p><p>Returns <strong>true</strong> and does not fail, even if there is no
link to <strong><span class="anno">Id</span></strong>, or if <strong><span class="anno">Id</span></strong>
does not exist.</p><p>Once <strong>unlink(<span class="anno">Id</span>)</strong> has returned,
it is guaranteed that
the link between the caller and the entity referred to by
<strong><span class="anno">Id</span></strong> has no effect on the caller
in the future (unless
the link is setup again). If the caller is trapping exits, an
<strong>{'EXIT', <span class="anno">Id</span>, _}</strong> message from the link
can have been placed in the caller's message queue before
the call.</p><p>Notice that the <strong>{'EXIT', <span class="anno">Id</span>, _}</strong>
message can be the
result of the link, but can also be the result of <strong>Id</strong>
calling <strong>exit/2</strong>. Therefore, it <em>can</em> be
appropriate to clean up the message queue when trapping exits
after the call to <strong>unlink(<span class="anno">Id</span>)</strong>, as follows:</p><pre><code class="">
unlink(Id),
receive
    {'EXIT', Id, _} -&gt;
        true
after 0 -&gt;
        true
end</code></pre><div class="alert alert-info"><h4 class="alert-heading">Note</h4><p>Before Erlang/OTP R11B (ERTS 5.5) <strong>unlink/1</strong>
behaved completely asynchronously, that is, the link was active
until the "unlink signal" reached the linked entity. This
had an undesirable effect, as you could never know when
you were guaranteed <em>not</em> to be effected by the link.</p><p>The current behavior can be viewed as two combined operations:
asynchronously send an "unlink signal" to the linked entity
and ignore any future results of the link.</p></div><h2>unregister/1</h2><p>Remove the registered name for a process (or port).</p><p>Removes the registered name <strong><span class="anno">RegName</span></strong>
associated with a
process identifier or a port identifier, for example:</p><pre>
&gt; <span class="input">unregister(db).</span>
true</pre><p>Users are advised not to unregister system processes.</p><p>Failure: <strong>badarg</strong> if <strong>RegName</strong> is not a registered
name.</p><h2>whereis/1</h2><p>Get the pid (or port) with a specified registered name. </p><p>Returns the process identifier or port identifier with
the registered name <strong>RegName</strong>. Returns <strong>undefined</strong>
if the name is not registered. Example:</p><pre>
&gt; <span class="input">whereis(db).</span>
&lt;0.43.0&gt;</pre><h2>yield/0</h2><p>Let other processes get a chance to execute.</p><p>Voluntarily lets other processes (if any) get a chance to
execute. Using this function is similar to
<strong>receive after 1 -&gt; ok end</strong>, except that <strong>yield()</strong>
is faster.</p><div class="alert alert-warning"><h4 class="alert-heading">Warning</h4><p>There is seldom or never any need to use this BIF
as other processes have a chance to run in another scheduler
thread anyway.
Using this BIF without a thorough grasp of how the scheduler
works can cause performance degradation.</p></div></body></html>