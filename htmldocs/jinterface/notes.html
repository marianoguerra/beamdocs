<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>Jinterface Release Notes</h1><p>This document describes the changes made to the Jinterface application.</p><h2>Jinterface 1.9.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Improved documentation.</p> <p>
Own Id: OTP-15190</p> </li></ul><h2>Jinterface 1.9</h2><h2>Improvements and New Features</h2><ul><li> <p>
Add module package name for Java 9</p> <p>
Own Id: OTP-14844</p> </li></ul><h2>Jinterface 1.8.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p> Removed all old unused files in the documentation.
</p> <p>
Own Id: OTP-14475 Aux Id: ERL-409, PR-1493 </p> </li></ul><h2>Jinterface 1.8</h2><h2>Improvements and New Features</h2><ul><li> <p>
Remove generation of atoms in old latin1 external format
in the distribution between erlang nodes,
<strong>erl_interface</strong>, and <strong>jinterface</strong>. The new utf8
format for atoms was introduced in OTP R16. An OTP 20
node can therefore not connect to nodes older than R16.</p> <p>
Atoms that can be encoded using latin1 are still encoded
by <strong>term_to_binary()</strong> using latin1 encoding. Note
that all atoms will by default be encoded using utf8 in a
future Erlang/OTP release. For more information see the
documentation of <a href="../erts/erlang#term_to_binary/2">erts/erlang#term_to_binary/2</a>.</p> <p>
Own Id: OTP-14337</p> </li></ul><h2>Jinterface 1.7.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Update build scripts to not make assumtions about where
env, cp and perl are located.</p> <p>
Own Id: OTP-13800</p> </li></ul><h2>Jinterface 1.7</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fix Jinterface build on Maven</p> <p>
Own Id: OTP-13482</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>
Handle terms (pids,ports and refs) from nodes with a
'creation' value larger than 3. This is a preparation of
the distribution protocol to allow OTP 19 nodes to
correctly communicate with future nodes (20 or higher).
The 'creation' value differentiates different
incarnations of the same node (name).</p> <p>
Own Id: OTP-13488</p> </li></ul><h2>Jinterface 1.6.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Add missing Term tag matching switch statement that was
missing an external fun tag.</p> <p>
Own Id: OTP-13106</p> </li><li> <p>
fixed writing small compressed values.</p> <p>
Own Id: OTP-13165</p> </li></ul><h2>Jinterface 1.6</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Reformat the sources for JInterface uniformly and
according to the standard Java style guidelines. Provide
description of the rules applied in Eclipse format (for
other editors one can check the settings against these).</p> <p>
In short, the formatting style is: * indentation uses
only spaces; each level is 4 positions * no trailing
whitespace * mostly default Java style formatting (any
difference is minor) * always use {} blocks * use 'final'
as much as possible</p> <p>
Own Id: OTP-12333</p> </li><li> <p>
Remove extra @param in javadoc as this gives an error
when building the docs in java 1.8</p> <p>
Own Id: OTP-12746</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>
Add basic transport factory implementation. This makes
possible creating connections between nodes using ssh
channels for example.</p> <p>
Own Id: OTP-12686</p> </li><li> <p>
Add Jinterface generic match and bind methods to provide
low level interface base methods sufficient for variety
of higher level pattern matching/variable binding
implementations.</p> <p>
Own Id: OTP-12691</p> </li><li> <p>
Minimal Java version is now 1.6</p> <p>
Own Id: OTP-12715</p> </li></ul><h2>Jinterface 1.5.12</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
handle empty .erlang.cookie without crashing and
OtpErlangList.clone must not return null</p> <p>
Own Id: OTP-12210</p> </li><li> <p>
This fixes all the compilation warnings in the Java code</p> <p>
Own Id: OTP-12211</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>
Added an .appup file for the application.</p> <p>
Own Id: OTP-12358 Aux Id: OTP-12178 </p> </li></ul><h2>Jinterface 1.5.11</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Added a <strong>.app</strong> file for the application.</p> <p>
Own Id: OTP-12178</p> </li></ul><h2>Jinterface 1.5.10</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Array now show meaningful values in exceptions.</p> <p>
Own Id: OTP-12049</p> </li><li> <p>
Documentation improvements.</p> <p>
Own Id: OTP-12050</p> </li><li> <p>
Include the cause when raising a new IOException, which
should make the reason for the exception clearer.</p> <p>
Own Id: OTP-12075</p> </li><li> <p>
Arrays (here: md5 and freeVars) must not be compared with
equals, which is broken (compares identity).</p> <p>
Own Id: OTP-12121</p> </li></ul><h2>Jinterface 1.5.9</h2><h2>Improvements and New Features</h2><ul><li> <p>
Implement support for Maps</p> <p>
The API and implementation are simplistic, like for lists
and tuples, using arrays and without any connection to
java.util.Map. (Thanks to Vlad Dumitrescu)</p> <p>
Own Id: OTP-11703</p> </li></ul><h2>Jinterface 1.5.8</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Fixed a bug in OtpErlangTuple constructor. Thanks to Vlad
Dumitrescu.</p> <p>
Own Id: OTP-10819</p> </li><li> <p>
Fixed finding cookie file on windows. Thanks to Vlad
Dumitrescu</p> <p>
Own Id: OTP-10821</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>
Don't compress external binary format if this increases
the size. Thanks to Nico Kruber.</p> <p>
Own Id: OTP-10822</p> </li></ul><h2>Jinterface 1.5.7</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
fix reading compressed binary terms from Java (Thanks to
Nico Kruber)</p> <p>
Own Id: OTP-10505</p> </li><li> <p>
OtpEpmd.lokupNames() no longer hangs when badly
configured (Thanks to Vlad Dumitrescu)</p> <p>
Own Id: OTP-10579</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>Where necessary a comment stating encoding has been
added to Erlang files. The comment is meant to be removed
in Erlang/OTP R17B when UTF-8 becomes the default
encoding. </p> <p>
Own Id: OTP-10630</p> </li><li> <p>
Limited support for unicode atoms in the external format
and in the internal representation of the vm. This is a
preparative feature in order to support communication
with future releases of Erlang/OTP that may create
unicode atoms.</p> <p>
Own Id: OTP-10753</p> </li></ul><h2>Jinterface 1.5.6</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Correct spelling of registered (Thanks to Richard
Carlsson)</p> <p>
Own Id: OTP-9925</p> </li><li> <p>
Java 1.5 has a bug where detecting codepoint offsets in
strings that are created by String.substring() gives
wrong results. The new implementation uses a different
method, avoinding the issue. (Thanks to Vlad Dumitrescu)</p> <p>
Own Id: OTP-9927</p> </li><li> <p>
Improve error message when creating a too long
OtpErlangAtom. Also print the value that we tried to use
for the atom. (Thanks to Vlad Dumitrescu)</p> <p>
Own Id: OTP-9928</p> </li></ul><h2>Jinterface 1.5.5</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
JInterface: improve OtpOutputStream buffer allocation</p> <p>
Previously, the buffer was increased linearly by 2048
bytes. I now propose to use an exponential increase
function (similar to Javas ArrayList, e.g. always at
least +50%). This significantly increases performance of
e.g. doRPC for large parameters. (Thanks to Nico Kruber)</p> <p>
Own Id: OTP-9806</p> </li></ul><h2>Jinterface 1.5.4</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Some malformed distribution messages could cause VM to
crash, this is now corrected.</p> <p>
Own Id: OTP-8993</p> </li></ul><h2>Jinterface 1.5.3.2</h2><h2>Improvements and New Features</h2><ul><li> <p>
The OtpMbox class did not have a hash() method, which it
should have because it overrides equals().</p> <p>
Own Id: OTP-8854</p> </li></ul><h2>Jinterface 1.5.3.1</h2><h2>Improvements and New Features</h2><ul><li> <p>
An pom.xml file is now generated. (Thanks to Gabor
Liptak.)</p> <p>
Own Id: OTP-8841</p> </li></ul><h2>Jinterface 1.5.3</h2><h2>Improvements and New Features</h2><ul><li> <p>The documentation is now possible to build in an open
source environment after a number of bugs are fixed and
some features are added in the documentation build
process. </p> <p>- The arity calculation is updated.</p> <p>- The module prefix used in the function names for
bif's are removed in the generated links so the links
will look like
"http://www.erlang.org/doc/man/erlang.html#append_element-2"
instead of
"http://www.erlang.org/doc/man/erlang.html#erlang:append_element-2".</p> <p>- Enhanced the menu positioning in the html
documentation when a new page is loaded.</p> <p>- A number of corrections in the generation of man
pages (thanks to Sergei Golovan)</p> <p>- The legal notice is taken from the xml book file so
OTP's build process can be used for non OTP
applications.</p> <p>
Own Id: OTP-8343</p> </li></ul><h2>Jinterface 1.5.2</h2><h2>Improvements and New Features</h2><ul><li> <p>
The documentation is now built with open source tools
(xsltproc and fop) that exists on most platforms. One
visible change is that the frames are removed.</p> <p>
Own Id: OTP-8201</p> </li></ul><h2>Jinterface 1.5.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Many Erlang classes, e.g. OtpErlangRef, was missing an
implementation of the hashCode() method, making it futile
to put them in hash structures such as HashMap. Bug and
patch provided by Paul Guyot. We extended the patch to
all classes and improved (?) on the hash algorithm.</p> <p>
Own Id: OTP-7899</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>
jinterface uses the new environment variable
ERL_EPMD_PORT the same way that erl, epmd and
erl_interface do since R13A.</p> <p>
Own Id: OTP-7885</p> </li></ul><h2>Jinterface 1.5</h2><h2>Improvements and New Features</h2><ul><li> <p>
A number of fixes and improvements from the ErlIDE group;
Vlad Dumitrescu and Jakob Cederlund: JDK 1.5 is now a
minimal requirement for building Jinterface. New method:
OtpEpmd.lookupNames. OtpErlangList is now iterable.
Non-proper lists are now allowed - you have to test if a
list is proper or not. Non-proper lists can also be
created. New methods: isProper, getHead, getTail and
getNthTail. The get tail methods creates a sublist object
that re-uses the original list. OtpErlangPid is now
Comparable. Empty atoms can now be constructed, a missing
feature pointed out by Sebastien Boisgerault on
erlang-questions.</p> <p>
*** POTENTIAL INCOMPATIBILITY ***</p> <p>
Own Id: OTP-7832</p> </li></ul><h2>Jinterface 1.4.2</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
A bug when Jinterface did not detect remote node
disconnects has been corrected.</p> <p>
Own Id: OTP-7624</p> </li></ul><h2>Jinterface 1.4.1</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>
Jinterface has been fixed to use the loopback interface
when connecting to the Erlang Port Mapper Daemon - epmd.
This facilitates firewall configuration and saves
resources.</p> <p>
Own Id: OTP-7103</p> </li><li> <p>Jinterface now refuses to connect to another node that
does not agree on the other node's name. This has been a
problem in that a connection was set up, but not used on
a following send, which caused a second erroneous
connection attempt to fail since the other (Erlang) node
rejects a connection due to name disagreement.</p> <p>Problem reported and dissected by Alexander Lamb</p> <p>
Own Id: OTP-7330</p> </li></ul><h2>Jinterface 1.4</h2><h2>Improvements and New Features</h2><ul><li> <p>Jinterface has been updated to handle compressed
terms, bitstring, new (IEEE) floats and bignums. This has
caused a few incompatibilities.</p> <p>com.ericsson.otp.erlang.OtpOutputStream now extends
java.io.ByteArrayOutputStream, previously
java.lang.Object, and hence the method size() now return
the number of bytes in the stream as dictated by the new
parent class and not the buffer length as before. The new
method length() returns what the old size() did return.
The method count() is deprecated as it returns the same
as the new size().</p> <p>com.ericsson.otp.erlang.OtpErlangLong now can handle
larger values than 64-bit. Previously when larger than
64-bit integers were sent to a Jinterface node, it caused
an com.ericsson.otp.erlang.OtpDecodeException. Now the
integer is accepted, but the return value of longValue()
is silently truncated, as opposed to the return value of
intValue() that now and previously raises an
com.ericsson.otp.erlang.OtpRangeException for
unrepresentable values. The new methods isLong() and
isULong() can be used to determine if the value fits in a
long.</p> <p>
*** POTENTIAL INCOMPATIBILITY ***</p> <p>
Own Id: OTP-6809</p> </li></ul><h2>Jinterface 1.3</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p><strong>OtpMbox.receive()</strong> and <strong>OtpMbox.receive(long timeout)</strong> can now throw
<strong>OtpErlangDecodeException</strong> if the received message
cannot be decoded. <strong>null</strong> is now only returned from
<strong>OtpMbox.receive(long timeout)</strong> if a timeout occurs.
<strong>OtpMbox.receive()</strong> will never return <strong>null</strong>.</p> <p>*** POTENTIAL INCOMPATIBILITY ***</p> <p>Own Id: OTP-3932 Aux Id: seq5196 </p> </li><li> <p>Strings longer than 65535 bytes were encoded wrong by
jinterface.</p> <p>Own Id: OTP-4883 Aux Id: OTP-4865 </p> </li><li> <p>Misc bugfixes: </p> <ul><li> <p>A node pinging itself does no
longer cause the java program to hang.</p>  </li><li> <p><strong>OtpMbox.close()</strong> uses exit reason
<strong>'normal'</strong> (atom) instead of <strong>"normal"</strong>
(string).</p>  </li><li> <p>Added <strong>OtpNode.closeMbox(OtpMbox mbox, OtpErlangObject reason)</strong>.</p>  </li><li> <p>Added <strong>OtpMbox.exit(OtpErlangObject reason)</strong>
and <strong>OtpMbox.exit(String reason)</strong>.</p>  </li><li> <p>Added <strong>OtpMbox.exit(OtpErlangPid to, OtpErlangObject reason)</strong>.</p>  </li><li> <p><strong>OtpMbox.exit(OtpErlangPid to, String reason)</strong>
is now equivalent to <strong>OtpMbox.exit(to, new OtpErlangAtom(reason))</strong>.</p>  </li><li>Exit signals from an Erlang node can now contain any erlang term as reason, not only atoms. </li></ul> <p>Own Id: OTP-5088</p> </li><li> <p>For java versions 1.3.1 or later, <strong>localStatus</strong> was
not sent to registered status handler when
<strong>OtpNode.close()</strong> was called. This is now corrected.</p> <p>Own Id: OTP-5169</p> </li></ul><h2>Improvements and New Features</h2><ul><li> <p>Process identifiers and port identifiers have been
made more unique. Previously 18 bits were used as id in
the internal representation of process and port
identifiers. Now 28 bits are used. </p> <p>The maximum
limit on the number of concurrently existing processes
due to the representation of pids has been increased to
268435456 processes. The same is true for ports. This
limit will at least on a 32-bit architecture be
impossible to reach due to memory shortage. </p> <p><em>NOTE:</em> By default, the <strong>ERTS</strong>, and the
<strong>erl_interface</strong>, <strong>ei</strong>, and <strong>jinterface</strong>
libraries are now only guaranteed to be compatible with
other Erlang/OTP components from the same release. It is
possible to set each component in compatibility mode of
an earlier release, though. See the documentation for
respective component on how to set it in compatibility
mode. </p> <p>*** POTENTIAL INCOMPATIBILITY ***</p> <p>Own Id: OTP-4968 Aux Id: OTP-4196 </p> </li></ul><h2>Jinterface 1.2.1.2</h2><h2>Fixed Bugs and Malfunctions</h2><ul><li> <p>Output of Java long was truncated to 32 bits. IDL long
long and unsigned long long could not be used in a struct
for the Java backend. All unsigned integer types for the
Java backend had broken marshalling for large values.
These bugs has now been fixed.</p> <p>Own Id: OTP-4763 Aux Id: seq8024 </p> </li></ul></body></html>