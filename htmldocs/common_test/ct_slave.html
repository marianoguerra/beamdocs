<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>ct_slave</h1><h1>ct_slave</h1><p>Common Test framework functions for starting and stopping
    nodes for Large-Scale Testing.</p><p><strong>Common Test</strong> framework functions for starting and stopping nodes
for Large-Scale Testing.This module exports functions used by the <strong>Common Test</strong>
Master to start and stop "slave" nodes. It is the default callback
module for the <strong>{init, node_start}</strong> term in the Test
Specification.</p><h1>Functions</h1><h2>start(Node) -&gt; Result</h2><p>Starts an Erlang node with name Node on the local host.</p><ul><li><span class="v">Node = atom()</span></li><li><span class="v">Result = {ok, NodeName} | {error, Reason, NodeName}</span></li><li><span class="v">Reason = already_started | started_not_connected | boot_timeout | init_timeout | startup_timeout | not_alive</span></li><li><span class="v">NodeName = atom()</span></li></ul><a name="start-1"></a><p>Starts an Erlang node with name <strong>Node</strong> on the local host.</p><p>See also
<a href="#start-3">start-3</a>.</p><h2>start(HostOrNode, NodeOrOpts) -&gt; Result</h2><p>Starts an Erlang node with default options on a specified host, or on the local host with specified options.</p><ul><li><span class="v">HostOrNode = atom()</span></li><li><span class="v">NodeOrOpts = atom() | list()</span></li><li><span class="v">Result = {ok, NodeName} | {error, Reason, NodeName}</span></li><li><span class="v">Reason = already_started | started_not_connected | boot_timeout | init_timeout | startup_timeout | not_alive</span></li><li><span class="v">NodeName = atom()</span></li></ul><a name="start-2"></a><p>Starts an Erlang node with default options on a specified host, or
on the local host with specified options. That is, the call is
interpreted as <strong>start(Host, Node)</strong> when the second argument is
atom-valued and <strong>start(Node, Opts)</strong> when it is list-valued.</p><p>See also
<a href="#start-3">start-3</a>.</p><h2>start(Host, Node, Opts) -&gt; Result</h2><p>Starts an Erlang node with name Node on host Host as specified by the combination of options in Opts.</p><ul><li><span class="v">Node = atom()</span></li><li><span class="v">Host = atom()</span></li><li><span class="v">Opts = [OptTuples]</span></li><li><span class="v">OptTuples = {username, Username} | {password, Password} | {boot_timeout, BootTimeout} | {init_timeout, InitTimeout} | {startup_timeout, StartupTimeout} | {startup_functions, StartupFunctions} | {monitor_master, Monitor} | {kill_if_fail, KillIfFail} | {erl_flags, ErlangFlags} | {env, [{EnvVar, Value}]}</span></li><li><span class="v">Username = string()</span></li><li><span class="v">Password = string()</span></li><li><span class="v">BootTimeout = integer()</span></li><li><span class="v">InitTimeout = integer()</span></li><li><span class="v">StartupTimeout = integer()</span></li><li><span class="v">StartupFunctions = [StartupFunctionSpec]</span></li><li><span class="v">StartupFunctionSpec = {Module, Function, Arguments}</span></li><li><span class="v">Module = atom()</span></li><li><span class="v">Function = atom()</span></li><li><span class="v">Arguments = [term]</span></li><li><span class="v">Monitor = bool()</span></li><li><span class="v">KillIfFail = bool()</span></li><li><span class="v">ErlangFlags = string()</span></li><li><span class="v">EnvVar = string()</span></li><li><span class="v">Value = string()</span></li><li><span class="v">Result = {ok, NodeName} | {error, Reason, NodeName}</span></li><li><span class="v">Reason = already_started | started_not_connected | boot_timeout | init_timeout | startup_timeout | not_alive</span></li><li><span class="v">NodeName = atom()</span></li></ul><a name="start-3"></a><p>Starts an Erlang node with name <strong>Node</strong> on host <strong>Host</strong> as
specified by the combination of options in <strong>Opts</strong>.</p><p>Options <strong>Username</strong> and <strong>Password</strong> are used to log on to the
remote host <strong>Host</strong>. <strong>Username</strong>, if omitted, defaults to
the current username. <strong>Password</strong> is empty by default.</p><p>A list of functions specified in option <strong>Startup</strong> are
executed after startup of the node. Notice that all used modules
are to be present in the code path on <strong>Host</strong>.</p><p>The time-outs are applied as follows:</p><dl><dt><strong>BootTimeout</strong></dt><dd><p>The time to start the Erlang node, in seconds. Defaults to
3 seconds. If the node is not pingable within this time, the result
<strong>{error, boot_timeout, NodeName}</strong> is returned.</p></dd><dt><strong>InitTimeout</strong></dt><dd><p>The time to wait for the node until it calls the internal
callback function informing master about a successful startup.
Defaults to 1 second. In case of a timed out message, the result
<strong>{error, init_timeout, NodeName}</strong> is returned.</p></dd><dt><strong>StartupTimeout</strong></dt><dd><p>The time to wait until the node stops to run
<strong>StartupFunctions</strong>. Defaults to 1 second. If this time-out
occurs, the result <strong>{error, startup_timeout, NodeName}</strong> is
returned.</p></dd></dl><p><em>Options:</em></p><dl><dt><strong>monitor_master</strong></dt><dd><p>Specifies if the slave node is to be stopped if the
master node stops. Defaults to <strong>false</strong>.</p></dd><dt><strong>kill_if_fail</strong></dt><dd><p>Specifies if the slave node is to be killed if a time-out
occurs during initialization or startup. Defaults to <strong>true</strong>.
Notice that the node can also be still alive it the boot time-out
occurred, but it is not killed in this case.</p></dd><dt><strong>erlang_flags</strong></dt><dd><p>Specifies which flags are added to the parameters of the
executable <strong>erl</strong>.</p></dd><dt><strong>env</strong></dt><dd><p>Specifies a list of environment variables that will extend
the environment.</p></dd></dl><p><em>Special return values:</em></p><ul><li><p><strong>{error, already_started, NodeName}</strong> if the node
with the specified name is already started on a specified
host.</p></li><li><p><strong>{error, started_not_connected, NodeName}</strong> if the
node is started, but not connected to the master node.</p></li><li><p><strong>{error, not_alive, NodeName}</strong> if the node on which
<a href="#start-3">start-3</a> is
called, is not alive. Notice that <strong>NodeName</strong> is the name of
the current node in this case.</p></li></ul><h2>stop(Node) -&gt; Result</h2><p>Stops the running Erlang node with name Node on the local host.</p><ul><li><span class="v">Node = atom()</span></li><li><span class="v">Result = {ok, NodeName} | {error, Reason, NodeName}</span></li><li><span class="v">Reason = not_started | not_connected | stop_timeout</span></li></ul><a name="stop-1"></a><p>Stops the running Erlang node with name <strong>Node</strong> on the local
host.</p><h2>stop(Host, Node) -&gt; Result</h2><p>Stops the running Erlang node with name Node on host Host.</p><ul><li><span class="v">Host = atom()</span></li><li><span class="v">Node = atom()</span></li><li><span class="v">Result = {ok, NodeName} | {error, Reason, NodeName}</span></li><li><span class="v">Reason = not_started | not_connected | stop_timeout</span></li><li><span class="v">NodeName = atom()</span></li></ul><a name="stop-2"></a><p>Stops the running Erlang node with name <strong>Node</strong> on host
<strong>Host</strong>.</p></body></html>