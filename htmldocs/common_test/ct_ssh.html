<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>ct_ssh</h1><h1>ct_ssh</h1><p>SSH/SFTP client module.</p><p>SSH/SFTP client module.This module uses application <strong>SSH</strong>, which provides detailed
information about, for example, functions, types, and options.Argument <strong>Server</strong> in the SFTP functions is only to be used for
SFTP sessions that have been started on existing SSH connections
(that is, when the original connection type is <strong>ssh</strong>). Whenever
the connection type is <strong>sftp</strong>, use the SSH connection reference
only.The following options are valid for specifying an SSH/SFTP
connection (that is, can be used as configuration elements):<pre>
 [{ConnType, Addr},
  {port, Port},
  {user, UserName}
  {password, Pwd}
  {user_dir, String}
  {public_key_alg, PubKeyAlg}
  {connect_timeout, Timeout}
  {key_cb, KeyCallbackMod}]</pre><strong>ConnType = ssh | sftp</strong>.For other types, see
<a href="./ssh">ssh/ssh</a>.All time-out parameters in <strong>ct_ssh</strong> functions are values in
milliseconds.</p><h2>Data Types</h2><a name="types"></a><dl><dt><strong>connection() = handle() | target_name()</strong></dt><dd><a name="type-connection"></a> <p>For <strong>target_name</strong>, see module
<a href="ct">ct</a>.</p></dd><dt><strong>handle() = handle()</strong></dt><dd><a name="type-handle"></a> <p>Handle for a specific SSH/SFTP connection, see module
<a href="ct">ct</a>.</p></dd><dt><strong>ssh_sftp_return() = term()</strong></dt><dd><a name="type-ssh_sftp_return"></a> <p>Return value from an
<a href="./ssh_sftp">ssh/ssh_sftp</a>
function.</p></dd></dl><h1>Functions</h1><h2>apread(SSH, Handle, Position, Length) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="apread-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>apread(SSH, Server, Handle, Position, Length) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="apread-5"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>apwrite(SSH, Handle, Position, Data) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="apwrite-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>apwrite(SSH, Server, Handle, Position, Data) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="apwrite-5"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>aread(SSH, Handle, Len) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="aread-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>aread(SSH, Server, Handle, Len) -&gt; Result</h2><p>For inforamtion and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="aread-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>awrite(SSH, Handle, Data) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="awrite-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>awrite(SSH, Server, Handle, Data) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="awrite-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>close(SSH, Handle) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="close-2"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>close(SSH, Server, Handle) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="close-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>connect(KeyOrName) -&gt; {ok, Handle} | {error, Reason}</h2><p>Equivalent to connect(KeyOrName, host, []).</p><a name="connect-1"></a><p>Equivalent to
<a href="#connect-3">connect-3</a>.</p><h2>connect(KeyOrName, ConnType) -&gt; {ok, Handle} | {error, Reason}</h2><p>Equivalent to connect(KeyOrName, ConnType, []).</p><a name="connect-2"></a><p>Equivalent to
<a href="#connect-3">connect-3</a>.</p><h2>connect(KeyOrName, ConnType, ExtraOpts) -&gt; {ok, Handle} | {error, Reason}</h2><p>Opens an SSH or SFTP connection using the information associated with KeyOrName.</p><ul><li><span class="v">KeyOrName = Key | Name</span></li><li><span class="v">Key = atom()</span></li><li><span class="v">Name = target_name()</span></li><li><span class="v">ConnType = ssh | sftp | host</span></li><li><span class="v">ExtraOpts = ssh_connect_options()</span></li><li><span class="v">Handle = handle()</span></li><li><span class="v">Reason = term()</span></li></ul><a name="connect-3"></a><p>Opens an SSH or SFTP connection using the information associated
with <strong>KeyOrName</strong>.</p><p>If <strong>Name</strong> (an alias name for <strong>Key</strong>) is used to identify
the connection, this name can be used as connection reference for
subsequent calls. Only one open connection at a time associated
with <strong>Name</strong> is possible. If <strong>Key</strong> is used, the returned
handle must be used for subsequent calls (multiple connections can
be opened using the configuration data specified by <strong>Key</strong>).</p><p>For information on how to create a new <strong>Name</strong>, see
<a href="./ct#require-2">ct#require-2</a>.</p><p>For <strong>target_name</strong>, see module
<a href="ct">ct</a>.</p><p><strong>ConnType</strong> always overrides the type specified in the
address tuple in the configuration data (and in <strong>ExtraOpts</strong>).
So it is possible to, for example, open an SFTP connection
directly using data originally specifying an SSH connection. Value
<strong>host</strong> means that the connection type specified by the host
option (either in the configuration data or in <strong>ExtraOpts</strong>)
is used.</p><p><strong>ExtraOpts</strong> (optional) are extra SSH options to be added to
the configuration data for <strong>KeyOrName</strong>. The extra options
override any existing options with the same key in the
configuration data. For details on valid SSH options, see
application <a href="./index">ssh/index</a>.</p><h2>del_dir(SSH, Name) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="del_dir-2"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>del_dir(SSH, Server, Name) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="del_dir-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>delete(SSH, Name) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="delete-2"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>delete(SSH, Server, Name) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="delete-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>disconnect(SSH) -&gt; ok | {error, Reason}</h2><p>Closes an SSH/SFTP connection.</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Reason = term()</span></li></ul><a name="disconnect-1"></a><p>Closes an SSH/SFTP connection.</p><h2>exec(SSH, Command) -&gt; {ok, Data} | {error, Reason}</h2><p>Equivalent to exec(SSH, Command, DefaultTimeout).</p><a name="exec-2"></a><p>Equivalent to
<a href="#exec-3">exec-3</a>.</p><h2>exec(SSH, Command, Timeout) -&gt; {ok, Data} | {error, Reason}</h2><p>Requests server to perform Command.</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Command = string()</span></li><li><span class="v">Timeout = integer()</span></li><li><span class="v">Data = list()</span></li><li><span class="v">Reason = term()</span></li></ul><a name="exec-3"></a><p>Requests server to perform <strong>Command</strong>. A session channel is
opened automatically for the request. <strong>Data</strong> is received from
the server as a result of the command.</p><h2>exec(SSH, ChannelId, Command, Timeout) -&gt; {ok, Data} | {error, Reason}</h2><p>Requests server to perform Command.</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">ChannelId = integer()</span></li><li><span class="v">Command = string()</span></li><li><span class="v">Timeout = integer()</span></li><li><span class="v">Data = list()</span></li><li><span class="v">Reason = term()</span></li></ul><a name="exec-4"></a><p>Requests server to perform <strong>Command</strong>. A previously opened
session channel is used for the request. <strong>Data</strong> is received
from the server as a result of the command.</p><h2>get_file_info(SSH, Handle) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="get_file_info-2"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>get_file_info(SSH, Server, Handle) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="get_file_info-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>list_dir(SSH, Path) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="list_dir-2"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>list_dir(SSH, Server, Path) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="list_dir-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>make_dir(SSH, Name) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="make_dir-2"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>make_dir(SSH, Server, Name) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="make_dir-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>make_symlink(SSH, Name, Target) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="make_symlink-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>make_symlink(SSH, Server, Name, Target) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="make_symlink-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>open(SSH, File, Mode) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="open-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>open(SSH, Server, File, Mode) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="open-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>opendir(SSH, Path) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="opendir-2"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>opendir(SSH, Server, Path) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="opendir-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>position(SSH, Handle, Location) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="position-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>position(SSH, Server, Handle, Location) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="position-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>pread(SSH, Handle, Position, Length) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="pread-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>pread(SSH, Server, Handle, Position, Length) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="pread-5"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>pwrite(SSH, Handle, Position, Data) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="pwrite-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>pwrite(SSH, Server, Handle, Position, Data) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="pwrite-5"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>read(SSH, Handle, Len) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="read-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>read(SSH, Server, Handle, Len) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="read-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>read_file(SSH, File) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="read_file-2"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>read_file(SSH, Server, File) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="read_file-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>read_file_info(SSH, Name) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="read_file_info-2"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>read_file_info(SSH, Server, Name) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="read_file_info-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>read_link(SSH, Name) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="read_link-2"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>read_link(SSH, Server, Name) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="read_link-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>read_link_info(SSH, Name) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="read_link_info-2"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>read_link_info(SSH, Server, Name) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="read_link_info-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>receive_response(SSH, ChannelId) -&gt; {ok, Data} | {error, Reason}</h2><p>Equivalent to receive_response(SSH, ChannelId, close).</p><a name="receive_response-2"></a><p>Equivalent to
<a href="#receive_response-3">receive_response-3</a>.</p><h2>receive_response(SSH, ChannelId, End) -&gt; {ok, Data} | {error, Reason}</h2><p>Equivalent to receive_response(SSH, ChannelId, End, DefaultTimeout).</p><a name="receive_response-3"></a><p>Equivalent to
<a href="#receive_response-4">receive_response-4</a>.</p><h2>receive_response(SSH, ChannelId, End, Timeout) -&gt; {ok, Data} | {timeout, Data} | {error, Reason}</h2><p>Receives expected data from server on the specified session channel.</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">ChannelId = integer()</span></li><li><span class="v">End = Fun | close | timeout</span></li><li><span class="v">Timeout = integer()</span></li><li><span class="v">Data = list()</span></li><li><span class="v">Reason = term()</span></li></ul><a name="receive_response-4"></a><p>Receives expected data from server on the specified session
channel.</p><p>If <strong>End == close</strong>, data is returned to the caller when the
channel is closed by the server. If a time-out occurs before this
happens, the function returns <strong>{timeout,Data}</strong> (where
<strong>Data</strong> is the data received so far).</p><p>If <strong>End == timeout</strong>, a time-out is expected and
<strong>{ok,Data}</strong> is returned both in the case of a time-out and
when the channel is closed.</p><p>If <strong>End</strong> is a fun, this fun is called with one argument, the
data value in a received <strong>ssh_cm</strong> message (see
<a href="./ssh_connection">ssh/ssh_connection</a>.
The fun is to return either <strong>true</strong> to end the receiving
operation (and have the so far collected data returned) or
<strong>false</strong> to wait for more data from the server. Even if a fun
is supplied, the function returns immediately if the server closes
the channel).</p><h2>rename(SSH, OldName, NewName) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="rename-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>rename(SSH, Server, OldName, NewName) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="rename-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>send(SSH, ChannelId, Data) -&gt; ok | {error, Reason}</h2><p>Equivalent to send(SSH, ChannelId, 0, Data, DefaultTimeout).</p><a name="send-3"></a><p>Equivalent to <a href="#send-5">send-5</a>.</p><h2>send(SSH, ChannelId, Data, Timeout) -&gt; ok | {error, Reason}</h2><p>Equivalent to send(SSH, ChannelId, 0, Data, Timeout).</p><a name="send-4"></a><p>Equivalent to <a href="#send-5">send-5</a>.</p><h2>send(SSH, ChannelId, Type, Data, Timeout) -&gt; ok | {error, Reason}</h2><p>Sends data to server on specified session channel.</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">ChannelId = integer()</span></li><li><span class="v">Type = integer()</span></li><li><span class="v">Data = list()</span></li><li><span class="v">Timeout = integer()</span></li><li><span class="v">Reason = term()</span></li></ul><a name="send-5"></a><p>Sends data to server on specified session channel.</p><h2>send_and_receive(SSH, ChannelId, Data) -&gt; {ok, Data} | {error, Reason}</h2><p>Equivalent to send_and_receive(SSH, ChannelId, Data, close).</p><a name="send_and_receive-3"></a><p>Equivalent to
<a href="#send_and_receive-4">send_and_receive-4</a>.</p><h2>send_and_receive(SSH, ChannelId, Data, End) -&gt; {ok, Data} | {error, Reason}</h2><p>Equivalent to send_and_receive(SSH, ChannelId, 0, Data, End, DefaultTimeout).</p><a name="send_and_receive-4"></a><p>Equivalent to
<a href="#send_and_receive-6">send_and_receive-6</a>.</p><h2>send_and_receive(SSH, ChannelId, Data, End, Timeout) -&gt; {ok, Data} | {error, Reason}</h2><p>Equivalent to send_and_receive(SSH, ChannelId, 0, Data, End, Timeout).</p><a name="send_and_receive-5"></a><p>Equivalent to
<a href="#send_and_receive-6">send_and_receive-6</a>.</p><h2>send_and_receive(SSH, ChannelId, Type, Data, End, Timeout) -&gt; {ok, Data} | {error, Reason}</h2><p>Sends data to server on specified session channel and waits to receive the server response.</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">ChannelId = integer()</span></li><li><span class="v">Type = integer()</span></li><li><span class="v">Data = list()</span></li><li><span class="v">End = Fun | close | timeout</span></li><li><span class="v">Timeout = integer()</span></li><li><span class="v">Reason = term()</span></li></ul><a name="send_and_receive-6"></a><p>Sends data to server on specified session channel and waits to
receive the server response.</p><p>For details on argument <strong>End</strong>, see
<a href="#receive_response-4">receive_response-4</a>.</p><h2>session_close(SSH, ChannelId) -&gt; ok | {error, Reason}</h2><p>Closes an SSH session channel.</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">ChannelId = integer()</span></li><li><span class="v">Reason = term()</span></li></ul><a name="session_close-2"></a><p>Closes an SSH session channel.</p><h2>session_open(SSH) -&gt; {ok, ChannelId} | {error, Reason}</h2><p>Equivalent to session_open(SSH, DefaultTimeout).</p><a name="session_open-1"></a><p>Equivalent to
<a href="#session_open-2">session_open-2</a>.</p><h2>session_open(SSH, Timeout) -&gt; {ok, ChannelId} | {error, Reason}</h2><p>Opens a channel for an SSH session.</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Timeout = integer()</span></li><li><span class="v">ChannelId = integer()</span></li><li><span class="v">Reason = term()</span></li></ul><a name="session_open-2"></a><p>Opens a channel for an SSH session.</p><h2>sftp_connect(SSH) -&gt; {ok, Server} | {error, Reason}</h2><p>Starts an SFTP session on an already existing SSH connection.</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Server = pid()</span></li><li><span class="v">Reason = term()</span></li></ul><a name="sftp_connect-1"></a><p>Starts an SFTP session on an already existing SSH connection.
<strong>Server</strong> identifies the new session and must be specified
whenever SFTP requests are to be sent.</p><h2>shell(SSH, ChannelId) -&gt; ok | {error, Reason}</h2><p>Equivalent to shell(SSH, ChannelId, DefaultTimeout).</p><a name="shell-2"></a><p>Equivalent to
<a href="#shell-3">shell-3</a>.</p><h2>shell(SSH, ChannelId, Timeout) -&gt; ok | {error, Reason}</h2><p>Requests that the user default shell is executed at the server end.</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">ChannelId = integer()</span></li><li><span class="v">Timeout = integer()</span></li><li><span class="v">Reason = term()</span></li></ul><a name="shell-3"></a><p>Requests that the user default shell (typically defined in
<strong>/etc/passwd</strong> in Unix systems) is executed at the
server end.</p><h2>subsystem(SSH, ChannelId, Subsystem) -&gt; Status | {error, Reason}</h2><p>Equivalent to subsystem(SSH, ChannelId, Subsystem, DefaultTimeout).</p><a name="subsystem-3"></a><p>Equivalent to
<a href="#subsystem-4">subsystem-4</a>.</p><h2>subsystem(SSH, ChannelId, Subsystem, Timeout) -&gt; Status | {error, Reason}</h2><p>Sends a request to execute a predefined subsystem.</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">ChannelId = integer()</span></li><li><span class="v">Subsystem = string()</span></li><li><span class="v">Timeout = integer()</span></li><li><span class="v">Status = success | failure</span></li><li><span class="v">Reason = term()</span></li></ul><a name="subsystem-4"></a><p>Sends a request to execute a predefined subsystem.</p><h2>write(SSH, Handle, Data) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="write-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>write(SSH, Server, Handle, Data) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="write-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>write_file(SSH, File, Iolist) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="write_file-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>write_file(SSH, Server, File, Iolist) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="write_file-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>write_file_info(SSH, Name, Info) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="write_file_info-3"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p><h2>write_file_info(SSH, Server, Name, Info) -&gt; Result</h2><p>For information and other types, see ssh_sftp(3).</p><ul><li><span class="v">SSH = connection()</span></li><li><span class="v">Result = ssh_sftp_return() | {error, Reason}</span></li><li><span class="v">Reason = term()</span></li></ul><a name="write_file_info-4"></a><p>For information and other types, see
<a href="./ssh_sftp">ssh/ssh_sftp</a>.</p></body></html>