<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>pool</h1><h1>pool</h1><p>Load distribution facility.</p><p>This module can be used to run a set of Erlang nodes as a pool
of computational processors. It is organized as a master and a
set of slave nodes and includes the following features:<ul><li>The slave nodes send regular reports to the master about their current load.</li><li>Queries can be sent to the master to determine which node will have the least load.</li></ul>The BIF <strong>statistics(run_queue)</strong> is used for estimating
future loads. It returns the length of the queue of ready to run
processes in the Erlang runtime system.The slave nodes are started with the
<a href="slave">slave</a> module. This
effects terminal I/O, file I/O, and code loading.If the master node fails, the entire pool exits.</p><h1>Functions</h1><h2>attach/1</h2><p>Ensure that a pool master is running.</p><p>Ensures that a pool master is running and includes
<strong><span class="anno">Node</span></strong> in the pool master's pool of nodes.</p><h2>get_node/0</h2><p>Return the node with the expected lowest future load.</p><p>Returns the node with the expected lowest future load.</p><h2>get_nodes/0</h2><p>Return a list of the current member nodes of the pool. </p><p>Returns a list of the current member nodes of the pool.</p><h2>pspawn/3</h2><p>Spawn a process on the pool node with expected lowest future load.</p><p>Spawns a process on the pool node that is expected to have
the lowest future load.</p><h2>pspawn_link/3</h2><p>Spawn and link to a process on the pool node with expected lowest future load.</p><p>Spawns and links to a process on the pool node that is expected to
have the lowest future load.</p><h2>start/1</h2><h2>start/2</h2><p>&gt;Start a new pool.</p><p>Starts a new pool. The file <strong>.hosts.erlang</strong> is read to
find host names where the pool nodes can be started; see
section <a href="#files">Files</a>. The
startup procedure fails if the file is not found.</p><p>The slave nodes are started with
<a href="./slave#start/2">slave#start/2</a>,
passing along <strong><span class="anno">Name</span></strong> and, if provided,
<strong><span class="anno">Args</span></strong>. <strong><span class="anno">Name</span></strong> is used as the
first part of the node names, <strong><span class="anno">Args</span></strong> is used to
specify command-line arguments.</p><p>Access rights must be set so that all nodes in the pool have
the authority to access each other.</p><p>The function is synchronous and all the nodes, and
all the system servers, are running when it returns a value.</p><h2>stop/0</h2><p>Stop the pool and kill all the slave nodes.</p><p>Stops the pool and kills all the slave nodes.</p><a name="files"></a><h2>Files</h2><p><strong>.hosts.erlang</strong> is used to pick hosts where nodes can
be started. For information about format and location of this file, see
<a href="../kernel/net_adm#host_file/0">kernel/net_adm#host_file/0</a>.</p><p><strong>$HOME/.erlang.slave.out.HOST</strong> is used for all extra I/O
that can come from the slave nodes on standard I/O. If the startup
procedure does not work, this file can indicate the reason.</p></body></html>