<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>digraph</h1><h1>digraph</h1><p>Directed graphs.</p><p>This module provides a version of labeled
directed graphs. What makes the graphs provided here
non-proper directed graphs is that multiple edges between
vertices are allowed. However, the customary definition of
directed graphs is used here.<ul><li> <p>A <a name="digraph"></a><em>directed graph</em> (or just
"digraph") is a pair (V,Â E) of a finite set V of
<a name="vertex"></a><em>vertices</em> and a finite set E of
<a name="edge"></a><em>directed edges</em> (or just "edges").
The set of edges E is a subset of VÂ ÃÂ V (the
Cartesian product of V with itself).</p> <p>In this module, V is allowed to be empty. The so obtained unique
digraph is called the
<a name="empty_digraph"></a><em>empty digraph</em>. Both
vertices and edges are represented by unique Erlang terms.</p> </li><li> <p>Digraphs can be annotated with more information. Such information
can be attached to the vertices and to the edges of the digraph. An
annotated digraph is called a <em>labeled digraph</em>, and the
information attached to a vertex or an edge is called a
<a name="label"></a><em>label</em>. Labels are Erlang
terms.</p> </li><li> <p>An edge eÂ =Â (v,Â w) is said to
<a name="emanate"></a><em>emanate</em> from vertex v and to
be <a name="incident"></a><em>incident</em> on vertex w.</p> </li><li> <p>The <a name="out_degree"></a><em>out-degree</em> of a vertex
is the number of edges emanating from that vertex.</p> </li><li> <p>The <a name="in_degree"></a><em>in-degree</em> of a vertex 
is the number of edges incident on that vertex.</p> </li><li> <p>If an edge is emanating from v and incident on w, then w is
said to be an <a name="out_neighbour"></a>
<em>out-neighbor</em> of v, and v is said to be an
<a name="in_neighbour"></a><em>in-neighbor</em> of w.</p> </li><li> <p>A <a name="path"></a><em>path</em> P from v[1] to v[k]
in a digraph (V,Â E) is a non-empty sequence
v[1],Â v[2],Â ...,Â v[k] of vertices in V such that
there is an edge (v[i],v[i+1]) in E for
1Â &lt;=Â iÂ &lt;Â k.</p> </li><li> <p>The <a name="length"></a><em>length</em> of path P is
k-1.</p> </li><li> <p>Path P is <a name="simple_path"></a><em>simple</em> if all
vertices are distinct, except that the first and the last vertices
can be the same.</p> </li><li> <p>Path P is a <a name="cycle"></a><em>cycle</em> if the
length of P is not zero and v[1] = v[k].</p> </li><li> <p>A <a name="loop"></a><em>loop</em> is a cycle of length
one.</p> </li><li> <p>A <a name="simple_cycle"></a><em>simple cycle</em> is a path
that is both a cycle and simple.</p> </li><li> <p>An <a name="acyclic_digraph"></a><em>acyclic digraph</em>
is a digraph without cycles.</p> </li></ul></p><h1>Data Types</h1><span class="name">d_type</span><span class="name">d_cyclicity</span><span class="name">d_protection</span><span class="name">graph</span><p>A digraph as returned by
<a href="#new/0">new/0</a>.</p><span class="name">edge()</span><span class="name">label</span><span class="name">vertex()</span><h1>Functions</h1><h2>add_edge/3</h2><h2>add_edge/4</h2><h2>add_edge/5</h2><p>Add an edge to a digraph.</p><ul><li>add_edge_err_rsn</li></ul><p><strong>add_edge/5</strong> creates (or modifies) edge <strong><span class="anno">E</span></strong>
of digraph <strong><span class="anno">G</span></strong>, using <strong><span class="anno">Label</span></strong> as
the (new) <a href="#label">label</a> of the edge. The
edge is <a href="#emanate">emanating</a> from
<strong><span class="anno">V1</span></strong> and
<a href="#incident">incident</a>
on <strong><span class="anno">V2</span></strong>. Returns <strong><span class="anno">E</span></strong>.</p><p><strong>add_edge(<span class="anno">G</span>,Â <span class="anno">V1</span>,Â <span class="anno">V2</span>,Â <span class="anno">Label</span>)</strong>
is equivalent to
<strong>add_edge(<span class="anno">G</span>,Â <span class="anno">E</span>,Â <span class="anno">V1</span>,Â <span class="anno">V2</span>,Â <span class="anno">Label</span>)</strong>,
where <strong><span class="anno">E</span></strong> is a created edge. The created edge is
represented by term <strong>['$e'Â |Â N]</strong>, where <strong>N</strong>
is an integerÂ &gt;=Â 0.</p><p><strong>add_edge(<span class="anno">G</span>,Â <span class="anno">V1</span>,Â <span class="anno">V2</span>)</strong>
is equivalent to
<strong>add_edge(<span class="anno">G</span>,Â <span class="anno">V1</span>,Â <span class="anno">V2</span>,Â [])</strong>.
</p><p>If the edge would create a cycle in
an <a href="#acyclic_digraph">acyclic digraph</a>,
<strong>{error,Â {bad_edge,Â <span class="anno">Path</span>}}</strong> is returned.
If <strong><span class="anno">G</span></strong> already has an edge with value
<strong><span class="anno">E</span></strong> connecting a different pair of vertices,
<strong>{error,Â {bad_edge,Â [<span class="anno">V1</span>,Â <span class="anno">V2</span>]}}</strong>
is returned.
If either of <strong><span class="anno">V1</span></strong> or <strong><span class="anno">V2</span></strong> is not
a vertex of digraph <strong><span class="anno">G</span></strong>,
<strong>{error,Â {bad_vertex,Â </strong><span class="anno">V</span><strong>}}</strong> is
returned, <span class="anno">V</span>Â =Â <strong><span class="anno">V1</span></strong> or
<span class="anno">V</span>Â =Â <strong><span class="anno">V2</span></strong>.</p><h2>add_vertex/1</h2><h2>add_vertex/2</h2><h2>add_vertex/3</h2><p>Add or modify a vertex of a digraph.</p><p><strong>add_vertex/3</strong> creates (or modifies) vertex
<strong><span class="anno">V</span></strong> of digraph <strong><span class="anno">G</span></strong>, using
<strong><span class="anno">Label</span></strong> as the (new)
<a href="#label">label</a> of the
vertex. Returns <strong><span class="anno">V</span></strong>.</p><p><strong>add_vertex(<span class="anno">G</span>,Â <span class="anno">V</span>)</strong> is equivalent
to <strong>add_vertex(<span class="anno">G</span>,Â <span class="anno">V</span>,Â [])</strong>.
</p><p><strong>add_vertex/1</strong> creates a vertex using the empty list
as label, and returns the created vertex. The created vertex
is represented by term <strong>['$v'Â |Â N]</strong>,
where <strong>N</strong> is an integerÂ &gt;=Â 0.</p><h2>del_edge/2</h2><p>Delete an edge from a digraph.</p><p>Deletes edge <strong><span class="anno">E</span></strong> from digraph
<strong><span class="anno">G</span></strong>.</p><h2>del_edges/2</h2><p>Delete edges from a digraph.</p><p>Deletes the edges in list <strong><span class="anno">Edges</span></strong> from digraph
<strong><span class="anno">G</span></strong>.</p><h2>del_path/3</h2><p>Delete paths from a digraph.</p><p>Deletes edges from digraph <strong><span class="anno">G</span></strong> until there are no
<a href="#path">paths</a> from vertex
<strong><span class="anno">V1</span></strong> to vertex <strong><span class="anno">V2</span></strong>.</p><p>A sketch of the procedure employed:</p><ul><li> <p>Find an arbitrary
<a href="#simple_path">simple path</a>
v[1],Â v[2],Â ...,Â v[k] from <strong><span class="anno">V1</span></strong>
to <strong><span class="anno">V2</span></strong> in <strong><span class="anno">G</span></strong>.</p> </li><li> <p>Remove all edges of <strong><span class="anno">G</span></strong>
<a href="#emanate">emanating</a> from v[i] and
<a href="#incident">incident</a> to v[i+1] for
1Â &lt;=Â iÂ &lt;Â k (including multiple
edges).</p> </li><li> <p>Repeat until there is no path between <strong><span class="anno">V1</span></strong>
and <strong><span class="anno">V2</span></strong>.</p> </li></ul><h2>del_vertex/2</h2><p>Delete a vertex from a digraph.</p><p>Deletes vertex <strong><span class="anno">V</span></strong> from digraph
<strong><span class="anno">G</span></strong>. Any edges
<a href="#emanate">emanating</a> from
<strong><span class="anno">V</span></strong> or
<a href="#incident">incident</a>
on <strong><span class="anno">V</span></strong> are also deleted.</p><h2>del_vertices/2</h2><p>Delete vertices from a digraph.</p><p>Deletes the vertices in list <strong><span class="anno">Vertices</span></strong> from
digraph <strong><span class="anno">G</span></strong>.</p><h2>delete/1</h2><p>Delete a digraph.</p><p>Deletes digraph <strong><span class="anno">G</span></strong>. This call is important
as digraphs are implemented with ETS. There is
no garbage collection of ETS tables. However, the digraph
is deleted if the process that created the digraph terminates.</p><h2>edge/2</h2><p>Return the vertices and the label of an edge of a digraph. </p><p>Returns
<strong>{<span class="anno">E</span>,Â <span class="anno">V1</span>,Â <span class="anno">V2</span>,Â <span class="anno">Label</span>}</strong>,
where <strong><span class="anno">Label</span></strong> is the
<a href="#label">label</a> of edge
<strong><span class="anno">E</span></strong> <a href="#emanate">emanating</a>
from <strong><span class="anno">V1</span></strong> and
<a href="#incident">incident</a> on
<strong><span class="anno">V2</span></strong> of digraph <strong><span class="anno">G</span></strong>.
If no edge <strong><span class="anno">E</span></strong> of
digraph <strong><span class="anno">G</span></strong> exists, <strong>false</strong> is returned.</p><h2>edges/1</h2><p>Return all edges of a digraph.</p><p>Returns a list of all edges of digraph <strong><span class="anno">G</span></strong>, in
some unspecified order.</p><h2>edges/2</h2><p>Return the edges emanating from or incident on a vertex of a digraph.</p><p>Returns a list of all
edges <a href="#emanate">emanating</a> from or 
<a href="#incident">incident</a> on<strong><span class="anno">V</span></strong>
of digraph <strong><span class="anno">G</span></strong>, in some unspecified order.</p><h2>get_cycle/2</h2><p>Find one cycle in a digraph.</p><p>If a <a href="#simple_cycle">simple cycle</a> of
length two or more exists through vertex <strong><span class="anno">V</span></strong>, the
cycle is returned as a list
<strong>[<span class="anno">V</span>,Â ...,Â <span class="anno">V</span>]</strong> of vertices.
If a <a href="#loop">loop</a> through
<strong><span class="anno">V</span></strong> exists, the loop is returned as a list
<strong>[<span class="anno">V</span>]</strong>. If no cycles through
<strong><span class="anno">V</span></strong> exist, <strong>false</strong> is returned.</p><p><a href="#get_path/3">get_path/3</a> is used
for finding a simple cycle through <strong><span class="anno">V</span></strong>.</p><h2>get_path/3</h2><p>Find one path in a digraph.</p><p>Tries to find
a <a href="#simple_path">simple path</a> from vertex 
<strong><span class="anno">V1</span></strong> to vertex <strong><span class="anno">V2</span></strong> of digraph
<strong><span class="anno">G</span></strong>. Returns the path as a list
<strong>[<span class="anno">V1</span>,Â ...,Â <span class="anno">V2</span>]</strong> of vertices,
or <strong>false</strong> if no simple path from <strong><span class="anno">V1</span></strong> to
<strong><span class="anno">V2</span></strong> of length one or more exists.</p><p>Digraph <strong><span class="anno">G</span></strong> is traversed in a depth-first manner,
and the first found path is returned.</p><h2>get_short_cycle/2</h2><p>Find one short cycle in a digraph.</p><p>Tries to find an as short as possible
<a href="#simple_cycle">simple cycle</a> through
vertex <strong><span class="anno">V</span></strong> of digraph <strong>G</strong>. Returns the cycle
as a list <strong>[<span class="anno">V</span>,Â ...,Â <span class="anno">V</span>]</strong>
of vertices, or
<strong>false</strong> if no simple cycle through <strong><span class="anno">V</span></strong> exists.
Notice that a <a href="#loop">loop</a> through
<strong><span class="anno">V</span></strong> is returned as list
<strong>[<span class="anno">V</span>,Â <span class="anno">V</span>]</strong>.</p><p><a href="#get_short_path/3">get_short_path/3</a>
is used for finding a simple cycle through <strong><span class="anno">V</span></strong>.</p><h2>get_short_path/3</h2><p>Find one short path in a digraph.</p><p>Tries to find an as short as possible
<a href="#simple_path">simple path</a> from vertex
<strong><span class="anno">V1</span></strong> to vertex <strong><span class="anno">V2</span></strong> of digraph
<strong><span class="anno">G</span></strong>. Returns the path as a list
<strong>[<span class="anno">V1</span>,Â ...,Â <span class="anno">V2</span>]</strong> of
vertices, or <strong>false</strong> if no simple path from
<strong><span class="anno">V1</span></strong>
to <strong><span class="anno">V2</span></strong> of length one or more exists.</p><p>Digraph <strong><span class="anno">G</span></strong> is traversed in a breadth-first
manner, and the first found path is returned.</p><h2>in_degree/2</h2><p>Return the in-degree of a vertex of a digraph.</p><p>Returns the <a href="#in_degree">in-degree</a> of
vertex <strong><span class="anno">V</span></strong> of digraph <strong><span class="anno">G</span></strong>.</p><h2>in_edges/2</h2><p>Return all edges incident on a vertex of a digraph.</p><p>Returns a list of all
edges <a href="#incident">incident</a> on
<strong><span class="anno">V</span></strong> of digraph <strong><span class="anno">G</span></strong>,
in some unspecified order.</p><h2>in_neighbours/2</h2><p>Return all in-neighbors of a vertex of  a digraph.</p><p>Returns a list of
all <a href="#in_neighbour">in-neighbors</a> of 
<strong><span class="anno">V</span></strong> of digraph <strong><span class="anno">G</span></strong>,
in some unspecified order.</p><h2>info/1</h2><p>Return information about a digraph.</p><ul><li>d_cyclicity</li></ul><ul><li>d_protection</li></ul><p>Returns a list of <strong>{Tag, Value}</strong> pairs describing
digraph <strong><span class="anno">G</span></strong>. The following pairs are returned:</p><ul><li> <p><strong>{cyclicity, <span class="anno">Cyclicity</span>}</strong>, where
<strong><span class="anno">Cyclicity</span></strong>
is <strong>cyclic</strong> or <strong>acyclic</strong>, according to the
options given to <strong>new</strong>.</p> </li><li> <p><strong>{memory, <span class="anno">NoWords</span>}</strong>, where
<strong><span class="anno">NoWords</span></strong> is
the number of words allocated to the ETS tables.</p> </li><li> <p><strong>{protection, <span class="anno">Protection</span>}</strong>, where
<strong><span class="anno">Protection</span></strong>
is <strong>protected</strong> or <strong>private</strong>, according
to the options given to <strong>new</strong>.</p> </li></ul><h2>new/0</h2><p>Return a protected empty digraph, where cycles are allowed. </p><p>Equivalent to <strong>new([])</strong>.</p><h2>new/1</h2><p>Create a new empty digraph.</p><ul><li>Type</li></ul><ul><li>d_type</li></ul><ul><li>d_cyclicity</li></ul><ul><li>d_protection</li></ul><p>Returns
an <a href="#empty_digraph">empty digraph</a> with 
properties according to the options in <strong><span class="anno">Type</span></strong>:</p><dl><dt><strong>cyclic</strong></dt><dd><p>Allows <a href="#cycle">cycles</a> in the
digraph (default).</p></dd><dt><strong>acyclic</strong></dt><dd><p>The digraph is to be kept
<a href="#acyclic_digraph">acyclic</a>.</p></dd><dt><strong>protected</strong></dt><dd><p>Other processes can read the digraph (default).</p></dd><dt><strong>private</strong></dt><dd><p>The digraph can be read and modified by the creating
process only.</p></dd></dl><p>If an unrecognized type option <strong>T</strong> is specified or
<strong><span class="anno">Type</span></strong>
is not a proper list, a <strong>badarg</strong> exception is raised.</p><h2>no_edges/1</h2><p>Return the number of edges of a digraph.</p><p>Returns the number of edges of digraph <strong><span class="anno">G</span></strong>.</p><h2>no_vertices/1</h2><p>Return the number of vertices of a digraph.</p><p>Returns the number of vertices of digraph <strong><span class="anno">G</span></strong>.</p><h2>out_degree/2</h2><p>Return the out-degree of a vertex of a digraph.</p><p>Returns the <a href="#out_degree">out-degree</a> of
vertex <strong><span class="anno">V</span></strong> of digraph <strong><span class="anno">G</span></strong>.</p><h2>out_edges/2</h2><p>Return all edges emanating from a vertex of a digraph. </p><p>Returns a list of all
edges <a href="#emanate">emanating</a> from
<strong><span class="anno">V</span></strong> of digraph <strong><span class="anno">G</span></strong>,
in some unspecified order.</p><h2>out_neighbours/2</h2><p>Return all out-neighbors of a vertex of a digraph.</p><p>Returns a list of 
all <a href="#out_neighbour">out-neighbors</a> of 
<strong><span class="anno">V</span></strong> of digraph <strong><span class="anno">G</span></strong>,
in some unspecified order.</p><h2>vertex/2</h2><p>Return the label of a vertex of a digraph.</p><p>Returns <strong>{<span class="anno">V</span>,Â <span class="anno">Label</span>}</strong>,
where <strong><span class="anno">Label</span></strong> is the
<a href="#label">label</a> of the vertex
<strong><span class="anno">V</span></strong> of digraph <strong><span class="anno">G</span></strong>,
or <strong>false</strong> if no vertex <strong><span class="anno">V</span></strong>
of digraph <strong><span class="anno">G</span></strong> exists.</p><h2>vertices/1</h2><p>Return all vertices of a digraph.</p><p>Returns a list of all vertices of digraph <strong><span class="anno">G</span></strong>, in
some unspecified order.</p><h2>See Also</h2><p><a href="digraph_utils">digraph_utils</a>,
<a href="ets">ets</a></p></body></html>