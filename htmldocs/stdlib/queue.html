<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>queue</h1><h1>queue</h1><p>Abstract data type for FIFO queues.</p><p>This module provides (double-ended) FIFO queues
in an efficient manner.All functions fail with reason <strong>badarg</strong> if arguments
are of wrong type, for example, queue arguments are not
queues, indexes are not integers, and list arguments are
not lists. Improper lists cause internal crashes.
An index out of range for a queue also causes
a failure with reason <strong>badarg</strong>.Some functions, where noted, fail with reason <strong>empty</strong>
for an empty queue.The data representing a queue as used by this module
is to be regarded as opaque by other modules. Any code
assuming knowledge of the format is running on thin ice.All operations has an amortized O(1) running time, except
<a href="#filter/2">filter/2</a>,
<a href="#join/2">join/2</a>,
<a href="#len/1">len/1</a>,
<a href="#member/2">member/2</a>,
<a href="#split/2">split/2</a> that have O(n).
To minimize the size of a queue minimizing
the amount of garbage built by queue operations, the queues
do not contain explicit length information, and that is
why <strong>len/1</strong> is O(n). If better performance for this
particular operation is essential, it is easy for
the caller to keep track of the length.Queues are double-ended. The mental picture of
a queue is a line of people (items) waiting for
their turn. The queue front is the end with the item
that has waited the longest. The queue rear is the end
an item enters when it starts to wait. If instead using
the mental picture of a list, the front is called head
and the rear is called tail.Entering at the front and exiting at the rear
are reverse operations on the queue.This module has three sets of interface functions: the
"Original API", the "Extended API", and the "Okasaki API".The "Original API" and the "Extended API" both use the
mental picture of a waiting line of items. Both
have reverse operations suffixed "_r".The "Original API" item removal functions return compound
terms with both the removed item and the resulting queue.
The "Extended API" contains alternative functions that build
less garbage and functions for just inspecting the
queue ends. Also the "Okasaki API" functions build less garbage.The "Okasaki API" is inspired by "Purely Functional Data Structures"
by Chris Okasaki. It regards queues as lists.
This API is by many regarded as strange and avoidable.
For example, many reverse operations have lexically reversed names,
some with more readable but perhaps less understandable aliases.</p><h2>Original API</h2><h1>Data Types</h1><span class="name">queue</span><p>As returned by
<a href="#new/0">new/0</a>.</p><span class="name">queue</span><h1>Functions</h1><h2>filter/2</h2><p>Filter a queue.</p><p>Returns a queue <strong><span class="anno">Q2</span></strong> that is the result of calling
<strong><span class="anno">Fun</span>(<span class="anno">Item</span>)</strong> on all items in
<strong><span class="anno">Q1</span></strong>, in order from front to rear.</p><p>If <strong><span class="anno">Fun</span>(<span class="anno">Item</span>)</strong> returns <strong>true</strong>,
<strong>Item</strong> is copied to the result queue. If it returns <strong>false</strong>,
<strong><span class="anno">Item</span></strong> is not copied. If it returns a list,
the list elements are inserted instead of <strong>Item</strong> in the
result queue.</p><p>So, <strong><span class="anno">Fun</span>(<span class="anno">Item</span>)</strong> returning
<strong>[<span class="anno">Item</span>]</strong> is thereby
semantically equivalent to returning <strong>true</strong>, just
as returning <strong>[]</strong> is semantically equivalent to
returning <strong>false</strong>. But returning a list builds
more garbage than returning an atom.</p><h2>from_list/1</h2><p>Convert a list to a queue.</p><p>Returns a queue containing the items in <strong><span class="anno">L</span></strong> in the
same order; the head item of the list becomes the front
item of the queue.</p><h2>in/2</h2><p>Insert an item at the rear of a queue.</p><p>Inserts <strong><span class="anno">Item</span></strong> at the rear of queue
<strong><span class="anno">Q1</span></strong>.
Returns the resulting queue <strong><span class="anno">Q2</span></strong>.</p><h2>in_r/2</h2><p>Insert an item at the front of a queue.</p><p>Inserts <strong><span class="anno">Item</span></strong> at the front of queue
<strong><span class="anno">Q1</span></strong>.
Returns the resulting queue <strong><span class="anno">Q2</span></strong>.</p><h2>is_empty/1</h2><p>Test if a queue is empty.</p><p>Tests if <strong><span class="anno">Q</span></strong> is empty and returns <strong>true</strong> if
so, otherwise <strong>false</strong>.</p><h2>is_queue/1</h2><p>Test if a term is a queue.</p><p>Tests if <strong><span class="anno">Term</span></strong> is a queue and returns <strong>true</strong>
if so, otherwise <strong>false</strong>.</p><h2>join/2</h2><p>Join two queues.</p><p>Returns a queue <strong><span class="anno">Q3</span></strong> that is the result of joining
<strong><span class="anno">Q1</span></strong> and <strong><span class="anno">Q2</span></strong> with
<strong><span class="anno">Q1</span></strong> in front of <strong><span class="anno">Q2</span></strong>.</p><h2>len/1</h2><p>Get the length of a queue.</p><p>Calculates and returns the length of queue <strong><span class="anno">Q</span></strong>.</p><h2>member/2</h2><p>Test if an item is in a queue.</p><p>Returns <strong>true</strong> if <strong><span class="anno">Item</span></strong> matches some element
in <strong><span class="anno">Q</span></strong>, otherwise <strong>false</strong>.</p><h2>new/0</h2><p>Create an empty queue.</p><p>Returns an empty queue.</p><h2>out/1</h2><p>Remove the front item from a queue.</p><p>Removes the item at the front of queue <strong><span class="anno">Q1</span></strong>.
Returns tuple <strong>{{value, <span class="anno">Item</span>}, <span class="anno">Q2</span>}</strong>,
where <strong><span class="anno">Item</span></strong> is the item removed and
<strong><span class="anno">Q2</span></strong> is the resulting queue. If
<strong><span class="anno">Q1</span></strong> is empty, tuple
<strong>{empty, <span class="anno">Q1</span>}</strong> is returned.</p><h2>out_r/1</h2><p>Remove the rear item from a queue.</p><p>Removes the item at the rear of queue <strong><span class="anno">Q1</span></strong>.
Returns tuple <strong>{{value, <span class="anno">Item</span>}, <span class="anno">Q2</span>}</strong>,
where <strong><span class="anno">Item</span></strong> is the item removed and
<strong><span class="anno">Q2</span></strong> is the new queue. If <strong><span class="anno">Q1</span></strong> is
empty, tuple <strong>{empty, <span class="anno">Q1</span>}</strong> is returned.</p><h2>reverse/1</h2><p>Reverse a queue.</p><p>Returns a queue <strong><span class="anno">Q2</span></strong> containing the items of
<strong><span class="anno">Q1</span></strong> in the reverse order.</p><h2>split/2</h2><p>Split a queue in two.</p><p>Splits <strong><span class="anno">Q1</span></strong> in two. The <strong><span class="anno">N</span></strong>
front items are put in <strong><span class="anno">Q2</span></strong> and the rest in
<strong><span class="anno">Q3</span></strong>.</p><h2>to_list/1</h2><p>Convert a queue to a list.</p><p>Returns a list of the items in the queue in the same order;
the front item of the queue becomes the head of the list.</p><h2>Extended API</h2><h1>Functions</h1><h2>drop/1</h2><p>Remove the front item from a queue.</p><p>Returns a queue <strong><span class="anno">Q2</span></strong> that is the result of removing
the front item from <strong><span class="anno">Q1</span></strong>.</p><p>Fails with reason <strong>empty</strong> if <strong><span class="anno">Q1</span></strong> is empty.</p><h2>drop_r/1</h2><p>Remove the rear item from a queue.</p><p>Returns a queue <strong><span class="anno">Q2</span></strong> that is the result of removing
the rear item from <strong><span class="anno">Q1</span></strong>.</p><p>Fails with reason <strong>empty</strong> if <strong><span class="anno">Q1</span></strong> is empty.</p><h2>get/1</h2><p>Return the front item of a queue.</p><p>Returns <strong><span class="anno">Item</span></strong> at the front of queue
<strong><span class="anno">Q</span></strong>.</p><p>Fails with reason <strong>empty</strong> if <strong><span class="anno">Q</span></strong> is empty.</p><h2>get_r/1</h2><p>Return the rear item of a queue.</p><p>Returns <strong><span class="anno">Item</span></strong> at the rear of queue
<strong><span class="anno">Q</span></strong>.</p><p>Fails with reason <strong>empty</strong> if <strong><span class="anno">Q</span></strong> is empty.</p><h2>peek/1</h2><p>Return the front item of a queue.</p><p>Returns tuple <strong>{value, <span class="anno">Item</span>}</strong>, where
<strong><span class="anno">Item</span></strong> is the front item of <strong><span class="anno">Q</span></strong>,
or <strong>empty</strong> if <strong><span class="anno">Q</span></strong> is empty.</p><h2>peek_r/1</h2><p>Return the rear item of a queue.</p><p>Returns tuple <strong>{value, <span class="anno">Item</span>}</strong>, where
<strong><span class="anno">Item</span></strong> is the rear item of <strong><span class="anno">Q</span></strong>,
or <strong>empty</strong> if <strong><span class="anno">Q</span></strong> is empty.</p><h2>Okasaki API</h2><h1>Functions</h1><h2>cons/2</h2><p>Insert an item at the head of a queue.</p><p>Inserts <strong><span class="anno">Item</span></strong> at the head of queue
<strong><span class="anno">Q1</span></strong>. Returns
the new queue <strong><span class="anno">Q2</span></strong>.</p><h2>daeh/1</h2><p>Return the tail item of a queue.</p><p>Returns the tail item of queue <strong><span class="anno">Q</span></strong>.</p><p>Fails with reason <strong>empty</strong> if <strong><span class="anno">Q</span></strong> is empty.</p><h2>head/1</h2><p>Return the item at the head of a queue.</p><p>Returns <strong><span class="anno">Item</span></strong> from the head of queue
<strong><span class="anno">Q</span></strong>.</p><p>Fails with reason <strong>empty</strong> if <strong><span class="anno">Q</span></strong> is empty.</p><h2>init/1</h2><p>Remove the tail item from a queue.</p><p>Returns a queue <strong><span class="anno">Q2</span></strong> that is the result of removing
the tail item from <strong><span class="anno">Q1</span></strong>.</p><p>Fails with reason <strong>empty</strong> if <strong><span class="anno">Q1</span></strong> is empty.</p><h2>lait/1</h2><p>Remove the tail item from a queue.</p><p>Returns a queue <strong><span class="anno">Q2</span></strong> that is the result of removing
the tail item from <strong><span class="anno">Q1</span></strong>.</p><p>Fails with reason <strong>empty</strong> if <strong><span class="anno">Q1</span></strong> is empty.</p><p>The name <strong>lait/1</strong> is a misspelling - do not use it anymore.</p><h2>last/1</h2><p>Return the tail item of a queue.</p><p>Returns the tail item of queue <strong><span class="anno">Q</span></strong>.</p><p>Fails with reason <strong>empty</strong> if <strong><span class="anno">Q</span></strong> is empty.</p><h2>liat/1</h2><p>Remove the tail item from a queue.</p><p>Returns a queue <strong><span class="anno">Q2</span></strong> that is the result of removing
the tail item from <strong><span class="anno">Q1</span></strong>.</p><p>Fails with reason <strong>empty</strong> if <strong><span class="anno">Q1</span></strong> is empty.</p><h2>snoc/2</h2><p>Insert an item at the tail of a queue.</p><p>Inserts <strong><span class="anno">Item</span></strong> as the tail item of queue
<strong><span class="anno">Q1</span></strong>. Returns
the new queue <strong><span class="anno">Q2</span></strong>.</p><h2>tail/1</h2><p>Remove the head item from a queue.</p><p>Returns a queue <strong><span class="anno">Q2</span></strong> that is the result of removing
the head item from <strong><span class="anno">Q1</span></strong>.</p><p>Fails with reason <strong>empty</strong> if <strong><span class="anno">Q1</span></strong> is empty.</p></body></html>