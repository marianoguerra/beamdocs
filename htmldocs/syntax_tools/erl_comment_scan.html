<!doctype html>
<html><head><meta charset="utf-8"><link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.0/css/bootstrap.min.css"></head><body style="margin: 4em 10%"><h1>erl_comment_scan</h1><h1>erl_comment_scan</h1><p>Functions for reading comment lines from Erlang source code.</p><p>Functions for reading comment lines from Erlang source code.</p><h2>DATA TYPES</h2><a name="types"></a><dl><dt><a name="type-comment"></a>comment() = {Line::integer(), Column::integer(), Indentation::integer(), Text::[string()]}</dt><dd> </dd></dl><h1>Functions</h1><h2>file(FileName::) -&gt; [Comment]</h2><p>Extracts comments from an Erlang source code file.</p><ul><li><span class="v">Comment = {Line, Column, Indentation, Text}</span></li><li><span class="v">Line = integer()</span></li><li><span class="v">Column = integer()</span></li><li><span class="v">Indentation = integer()</span></li><li><span class="v">Text = [string()]</span></li></ul><a name="file-1"></a><p>Extracts comments from an Erlang source code file. Returns a
list of entries representing <em>multi-line</em> comments, listed in
order of increasing line-numbers. For each entry, <strong>Text</strong>
is a list of strings representing the consecutive comment lines in
top-down order; the strings contain <em>all</em> characters following
(but not including) the first comment-introducing <strong>%</strong>  
character on the line, up to (but not including) the line-terminating  
newline.</p><p>Furthermore, <strong>Line</strong> is the line number and
<strong>Column</strong> the left column of the comment (i.e., the column
of the comment-introducing <strong>%</strong> character).
<strong>Indent</strong> is the indentation (or padding), measured in
character positions between the last non-whitespace character before
the comment (or the left margin), and the left column of the comment.
<strong>Line</strong> and <strong>Column</strong> are always positive
integers, and <strong>Indentation</strong> is a nonnegative integer.</p><p>Evaluation exits with reason <strong>{read, Reason}</strong> if a read
error occurred, where <strong>Reason</strong> is an atom corresponding to
a Posix error code; see the module <a href="./file">file(3)</a> for details.</p><h2>join_lines(Lines::[CommentLine]) -&gt; [Comment]</h2><p>Joins individual comment lines into multi-line comments.</p><ul><li><span class="v">CommentLine = {Line, Column, Indent, string()}</span></li><li><span class="v">Line = integer()</span></li><li><span class="v">Column = integer()</span></li><li><span class="v">Indent = integer()</span></li><li><span class="v">Comment = {Line, Column, Indent, Text}</span></li><li><span class="v">Text = [string()]</span></li></ul><a name="join_lines-1"></a><p>Joins individual comment lines into multi-line comments. The
input is a list of entries representing individual comment lines,
<em>in order of decreasing line-numbers</em>; see
<a href="#scan_lines-1">scan_lines/1</a> for details. The result is a list of
entries representing <em>multi-line</em> comments, <em>still listed in order of decreasing line-numbers</em>, but where for each entry,
<strong>Text</strong> is a list of consecutive comment lines in order of
<em>increasing</em> line-numbers (i.e., top-down).
</p><p><em>See also:</em> <a href="#scan_lines-1">scan_lines/1</a>.</p><h2>scan_lines(Text::string()) -&gt; [CommentLine]</h2><p>Extracts individual comment lines from a source code string.</p><ul><li><span class="v">CommentLine = {Line, Column, Indent, Text}</span></li><li><span class="v">Line = integer()</span></li><li><span class="v">Column = integer()</span></li><li><span class="v">Indent = integer()</span></li><li><span class="v">Text = string()</span></li></ul><a name="scan_lines-1"></a><p>Extracts individual comment lines from a source code string.
Returns a list of comment lines found in the text, listed in order of
<em>decreasing</em> line-numbers, i.e., the last comment line in the
input is first in the resulting list. <strong>Text</strong> is a single
string, containing all characters following (but not including) the
first comment-introducing <strong>%</strong> character on the line, up
to (but not including) the line-terminating newline. For details on
<strong>Line</strong>, <strong>Column</strong> and <strong>Indent</strong>, see <a href="#file-1">file/1</a>.</p><h2>string(Text::string()) -&gt; [Comment]</h2><p>Extracts comments from a string containing Erlang source code.</p><ul><li><span class="v">Comment = {Line, Column, Indentation, Text}</span></li><li><span class="v">Line = integer()</span></li><li><span class="v">Column = integer()</span></li><li><span class="v">Indentation = integer()</span></li><li><span class="v">Text = [string()]</span></li></ul><a name="string-1"></a><p>Extracts comments from a string containing Erlang source code.
Except for reading directly from a string, the behaviour is the same
as for <a href="#file-1">file/1</a>.
</p><p><em>See also:</em> <a href="#file-1">file/1</a>.</p><h1>Authors</h1><span class="aname">Richard Carlsson</span><span class="email">carlsson.richard@gmail.com</span></body></html>