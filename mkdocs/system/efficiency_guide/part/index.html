<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  <title>Efficiency Guide - Erlang OTP</title>
  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Efficiency Guide";
    var mkdocs_page_input_path = "system/efficiency_guide/part.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> Erlang OTP</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../../..">Erlang/OTP</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Asn1</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../asn1/asn1_getting_started/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../asn1/asn1_introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../asn1/asn1_overview/">ASN.1</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../asn1/asn1_spec/">Specialized Decodes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../asn1/asn1ct/">asn1ct</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../asn1/notes/">asn1 Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Common test</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../common_test/basics_chapter/">Common Test Basics</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/common_test_app/">Common Test</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/config_file_chapter/">External Configuration Data</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/cover_chapter/">Code Coverage Analysis</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct/">ct</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_cover/">ct_cover</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_ftp/">ct_ftp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_hooks/">Common Test Hooks</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_hooks_chapter/">Common Test Hooks</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_master/">ct_master</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_master_chapter/">Using Common Test for Large-Scale Testing</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_netconfc/">ct_netconfc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_property_test/">ct_property_test</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_rpc/">ct_rpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_run/">The ct_run program</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_slave/">ct_slave</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_snmp/">ct_snmp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_ssh/">ct_ssh</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_telnet/">ct_telnet</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_testspec/">ct_testspec</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/dependencies_chapter/">Dependencies between Test Cases and Suites</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/event_handler_chapter/">Event Handling</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/example_chapter/">Examples and Templates</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/getting_started_chapter/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/install_chapter/">Installation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/notes/">Common Test Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/run_test_chapter/">Running Tests and Analyzing Results</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/test_structure_chapter/">Test Structure</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/unix_telnet/">unix_telnet</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/why_test_chapter/">Some Thoughts about Testing</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/write_test_chapter/">Writing Test Suites</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Compiler</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../compiler/cerl/">cerl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../compiler/cerl_clauses/">cerl_clauses</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../compiler/cerl_trees/">cerl_trees</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../compiler/compile/">compile</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../compiler/internal/">Internal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../compiler/notes/">Compiler Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Crypto</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../crypto/algorithm_details/">Algorithm Details</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/crypto/">crypto</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/crypto_app/">crypto</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/engine_keys/">Engine Stored Keys</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/engine_load/">Engine Load</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/fips/">FIPS mode</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/licenses/">Licenses</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/new_api/">New and Old API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/notes/">Crypto Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/usersguide/">Crypto User's Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Debugger</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../debugger/debugger/">debugger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../debugger/debugger_chapter/">Debugger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../debugger/i/">i</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../debugger/int/">int</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../debugger/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../debugger/notes/">Debugger Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Dialyzer</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../dialyzer/dialyzer/">dialyzer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dialyzer/dialyzer_chapter/">Dialyzer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dialyzer/notes/">Dialyzer Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dialyzer/typer/">typer</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Diameter</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../diameter/diameter_examples/">Examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../diameter/diameter_using/">Usage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../diameter/user_man/">Diameter Users Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Edoc</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../edoc/edoc/">edoc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../edoc/edoc_doclet/">edoc_doclet</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../edoc/edoc_extract/">edoc_extract</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../edoc/edoc_layout/">edoc_layout</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../edoc/edoc_lib/">edoc_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../edoc/edoc_run/">edoc_run</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../edoc/notes/">EDoc Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Eldap</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../eldap/eldap/">eldap</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../eldap/notes/">Eldap Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../eldap/usersguide/">Eldap User's Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Erl docgen</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../erl_docgen/block_tags/">Block Tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/character_entities/">Character Entities</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/doc-build/">How to Build OTP like documentation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/erl_docgen_app/">erl_docgen</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/header_tags/">Header Tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/inline_tags/">Inline Tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/notes/">Erl_Docgen Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/overview/">Overview OTP DTDs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/refman_dtds/">Reference Manual DTDs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/user_guide_dtds/">User's Guide DTDs</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Erl interface</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../erl_interface/ei/">ei</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/ei_connect/">ei_connect</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/ei_users_guide/">Erl_Interface User's Guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_call/">erl_call</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_connect/">erl_connect</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_error/">erl_error</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_eterm/">erl_eterm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_format/">erl_format</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_global/">erl_global</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_malloc/">erl_malloc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_marshal/">erl_marshal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/notes/">Erl_interface Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/registry/">registry</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Erts</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../erts/CarrierMigration/">Carrier Migration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/CodeLoading/">Non-Blocking Code Loading</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/CountingInstructions/">Counting Instructions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/DelayedDealloc/">Delayed Dealloc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/GarbageCollection/">Erlang Garbage Collector</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/PTables/">Process and Port Tables</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/PortSignals/">Port Signals</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/ProcessManagementOptimizations/">Process Management Optimizations</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/SuperCarrier/">Super Carrier</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/ThreadProgress/">Thread Progress</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/Tracing/">Non-blocking trace setting</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/absform/">The Abstract Format</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/alt_disco/">How to Implement an Alternative Service Discovery for Erlang Distribution</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/alt_dist/">How to Implement an Alternative Carrier for the Erlang Distribution</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/atomics/">atomics</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/beam_makeops/">The beam_makeops script</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/communication/">Communication in Erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/counters/">counters</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/crash_dump/">How to Interpret the Erlang Crash Dumps</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/driver/">How to Implement a Driver</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/driver_entry/">driver_entry</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/epmd/">epmd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl/">erl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl_dist_protocol/">Distribution Protocol</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl_driver/">erl_driver</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl_ext_dist/">External Term Format</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl_nif/">erl_nif</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl_prim_loader/">erl_prim_loader</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl_tracer/">erl_tracer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erlang/">erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erlc/">erlc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erlsrv/">erlsrv</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erts_alloc/">erts_alloc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/escript/">escript</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/inet_cfg/">Inet Configuration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/init/">init</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/internal/">Internal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/match_spec/">Match Specifications in Erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/net/">net</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/notes/">ERTS Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/persistent_term/">persistent_term</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/run_erl/">run_erl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/socket/">socket</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/socket_usage/">Socket Usage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/start/">start</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/start_erl/">start_erl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/time_correction/">Time and Time Correction in Erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/tty/">tty - A Command-Line Interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/werl/">werl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/zlib/">zlib</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Et</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../et/et/">et</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_collector/">et_collector</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_desc/">Description</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_examples/">Advanced examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_selector/">et_selector</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_tutorial/">Tutorial</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_viewer/">et_viewer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/notes/">Event Tracer (ET) Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Eunit</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../eunit/eunit/">eunit</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../eunit/eunit_surefire/">eunit_surefire</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../eunit/notes/">EUnit Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Ftp</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../ftp/ftp/">ftp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ftp/ftp_client/">FTP Client</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ftp/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ftp/notes/">FTP Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Hipe</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../hipe/hipe_app/">HiPE</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../hipe/notes/">HiPE Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Inets</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../inets/http_client/">HTTP Client</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/http_server/">HTTP server</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/http_uri/">http_uri</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/httpc/">httpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/httpd/">httpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/httpd_custom_api/">httpd_custom_api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/httpd_socket/">httpd_socket</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/httpd_util/">httpd_util</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/inets/">inets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/inets_services/">Inets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/mod_alias/">mod_alias</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/mod_auth/">mod_auth</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/mod_esi/">mod_esi</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/mod_security/">mod_security</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/notes/">Inets Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Jinterface</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../jinterface/jinterface/">jinterface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../jinterface/jinterface_users_guide/">The Jinterface Package</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../jinterface/notes/">Jinterface Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Kernel</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../kernel/app/">app</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/application/">application</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/auth/">auth</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/code/">code</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/config/">config</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/disk_log/">disk_log</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/erl_boot_server/">erl_boot_server</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/erl_ddll/">erl_ddll</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/erl_epmd/">erl_epmd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/erl_prim_loader_stub/">erl_prim_loader</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/erlang_stub/">erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/error_handler/">error_handler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/error_logger/">error_logger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/file/">file</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/gen_sctp/">gen_sctp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/gen_tcp/">gen_tcp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/gen_udp/">gen_udp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/global/">global</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/global_group/">global_group</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/heart/">heart</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/inet/">inet</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/inet_res/">inet_res</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/init_stub/">init</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/introduction_chapter/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/kernel_app/">kernel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/logger/">logger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/logger_chapter/">Logging</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/logger_disk_log_h/">logger_disk_log_h</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/logger_filters/">logger_filters</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/logger_formatter/">logger_formatter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/logger_std_h/">logger_std_h</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/net_adm/">net_adm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/net_kernel/">net_kernel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/notes/">Kernel Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/os/">os</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/pg2/">pg2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/rpc/">rpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/seq_trace/">seq_trace</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/user/">user</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/wrap_log_reader/">wrap_log_reader</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/zlib_stub/">zlib</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Megaco</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../megaco/megaco/">megaco</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_architecture/">Architecture</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_codec_meas/">megaco_codec_meas</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_codec_mstone1/">megaco_codec_mstone1</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_codec_mstone2/">megaco_codec_mstone2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_codec_transform/">megaco_codec_transform</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_debug/">Testing and tools</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_edist_compress/">megaco_encoder</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_encode/">Internal form and its encodings</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_encoder/">megaco_encoder</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_examples/">Implementation examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_flex_scanner/">megaco_flex_scanner</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_mib/">Megaco mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_performance/">Performance comparison</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_run/">Running the stack</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_tcp/">megaco_tcp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_transport/">megaco_transport</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_transport_mechanisms/">Transport mechanisms</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_udp/">megaco_udp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_user/">megaco_user</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/notes/">Megaco Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Mnesia</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_App_A/">Appendix A: Backup Callback Interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_App_B/">Appendix B: Activity Access Callback Interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_App_C/">Appendix C: Fragmented Table Hashing Callback Interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap1/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap2/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap3/">Build a Mnesia Database</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap4/">Transactions and Other Access Contexts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap5/">Miscellaneous Mnesia Features</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap7/">Mnesia System Information</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap8/">Combine Mnesia with SNMP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_overview/">Mnesia</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/mnesia/">mnesia</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/mnesia_frag_hash/">mnesia_frag_hash</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/mnesia_registry/">mnesia_registry</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/notes/">Mnesia Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Observer</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../observer/cdv/">The cdv program</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/crashdump/">crashdump_viewer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/crashdump_ug/">Crashdump Viewer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/etop/">etop</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/etop_ug/">Erlang Top</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/introduction_ug/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/notes/">Observer Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/observer/">Observer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/observer_app/">Observer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/observer_ug/">Observer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/ttb/">ttb</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/ttb_ug/">Trace Tool Builder</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Os mon</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../os_mon/cpu_sup/">cpu_sup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../os_mon/disksup/">disksup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../os_mon/memsup/">memsup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../os_mon/notes/">OS_Mon Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../os_mon/nteventlog/">nteventlog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../os_mon/os_mon_app/">os_mon</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../os_mon/os_sup/">os_sup</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Parsetools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../parsetools/leex/">leex</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../parsetools/notes/">Parsetools Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../parsetools/yecc/">yecc</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Public key</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../public_key/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../public_key/notes/">public_key Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../public_key/public_key/">public_key</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../public_key/public_key_app/">public_key</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../public_key/public_key_records/">Public-Key Records</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../public_key/using_public_key/">Getting Started</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Reltool</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../reltool/notes/">Reltool Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../reltool/reltool/">reltool</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../reltool/reltool_examples/">Examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../reltool/reltool_intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../reltool/reltool_usage/">Usage</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Runtime tools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../runtime_tools/DTRACE/">DTrace and Erlang/OTP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/LTTng/">LTTng and Erlang/OTP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/SYSTEMTAP/">SystemTap and Erlang/OTP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/dbg/">dbg</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/dyntrace/">dyntrace</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/erts_alloc_config/">erts_alloc_config</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/msacc/">Microstate Accounting</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/notes/">Runtime_Tools Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/runtime_tools_app/">runtime_tools</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/scheduler/">Scheduler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/system_information/">System information</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Sasl</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../sasl/alarm_handler/">alarm_handler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/appup/">appup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/error_logging/">SASL Error Logging</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/notes/">SASL Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/rb/">rb</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/rel/">rel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/release_handler/">release_handler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/relup/">relup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/sasl_app/">sasl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/sasl_intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/script/">script</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/systools/">systools</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Snmp</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../snmp/notes/">SNMP Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp/">snmp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_advanced_agent/">Advanced Agent Topics</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_agent_config_files/">Definition of Agent Configuration Files</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_agent_funct_descr/">Agent Functional Description</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_agent_netif/">Definition of Agent Net if</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_app/">snmp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_app_a/">SNMP Appendix A</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_app_b/">SNMP Appendix B</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_audit_trail_log/">Audit Trail Log</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_community_mib/">snmp_community_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_config/">Running the application</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_def_instr_functions/">Definition of Instrumentation Functions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_framework_mib/">snmp_framework_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_generic/">snmp_generic</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_impl_example_agent/">Agent Implementation Example</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_impl_example_manager/">Manager Implementation Example</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_index/">snmp_index</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_instr_functions/">Instrumentation Functions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_intro/">SNMP Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_manager_config_files/">Definition of Manager Configuration Files</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_manager_funct_descr/">Manager Functional Description</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_manager_netif/">Definition of Manager Net if</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_mib_compiler/">The MIB Compiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_notification_mib/">snmp_notification_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_pdus/">snmp_pdus</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_standard_mib/">snmp_standard_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_target_mib/">snmp_target_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_user_based_sm_mib/">snmp_user_based_sm_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_view_based_acm_mib/">snmp_view_based_acm_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa/">snmpa</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_conf/">snmpa_conf</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_discovery_handler/">snmpa_discovery_handler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_error/">snmpa_error</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_error_io/">snmpa_error_io</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_error_logger/">snmpa_error_logger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_error_report/">snmpa_error_report</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_local_db/">snmpa_local_db</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_mib_data/">snmpa_mib_data</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_mib_storage/">snmpa_mib_storage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_mpd/">snmpa_mpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_network_interface/">snmpa_network_interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_network_interface_filter/">snmpa_network_interface_filter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_notification_delivery_info_receiver/">snmpa_notification_delivery_info_receiver</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_notification_filter/">snmpa_notification_filter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_supervisor/">snmpa_supervisor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpc/">snmpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpc_cmd/">snmpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpm/">snmpm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpm_conf/">snmpm_conf</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpm_mpd/">snmpm_mpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpm_network_interface/">snmpm_network_interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpm_network_interface_filter/">snmpm_network_interface_filter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpm_user/">snmpm_user</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Ssh</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../ssh/configure_algos/">Configuring algorithms in SSH</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/notes/">SSH Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh/">ssh</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_app/">SSH</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_client_channel/">ssh_client_channel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_client_key_api/">ssh_client_key_api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_connection/">ssh_connection</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_file/">ssh_file</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_server_channel/">ssh_server_channel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_server_key_api/">ssh_server_key_api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_sftp/">ssh_sftp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_sftpd/">ssh_sftpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/terminology/">Terminology</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/usersguide/">SSH User's Guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/using_ssh/">Getting Started</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Ssl</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../ssl/notes/">SSL Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/refman/">SSL Reference Manual</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl/">ssl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_app/">ssl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_crl_cache/">ssl_crl_cache</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_crl_cache_api/">ssl_crl_cache_api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_distribution/">Using TLS for Erlang Distribution</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_protocol/">TLS/DTLS and TLS Predecessor, SSL</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_session_cache_api/">ssl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/standards_compliance/">Standards Compliance</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/usersguide/">SSL User's Guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/using_ssl/">Using SSL application API</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Stdlib</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../stdlib/array/">array</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/assert_hrl/">assert.hrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/base64/">base64</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/beam_lib/">beam_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/binary/">binary</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/c/">c</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/calendar/">calendar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/dets/">dets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/dict/">dict</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/digraph/">digraph</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/digraph_utils/">digraph_utils</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/epp/">epp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_anno/">erl_anno</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_eval/">erl_eval</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_expand_records/">erl_expand_records</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_id_trans/">erl_id_trans</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_internal/">erl_internal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_lint/">erl_lint</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_parse/">erl_parse</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_pp/">erl_pp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_scan/">erl_scan</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_tar/">erl_tar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/ets/">ets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/file_sorter/">file_sorter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/filelib/">filelib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/filename/">filename</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/gb_sets/">gb_sets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/gb_trees/">gb_trees</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/gen_event/">gen_event</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/gen_fsm/">gen_fsm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/gen_server/">gen_server</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/gen_statem/">gen_statem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/io/">io</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/io_lib/">io_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/io_protocol/">The Erlang I/O Protocol</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/lists/">lists</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/log_mf_h/">log_mf_h</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/maps/">maps</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/math/">math</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/ms_transform/">ms_transform</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/notes/">STDLIB Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/orddict/">orddict</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/ordsets/">ordsets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/pool/">pool</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/proc_lib/">proc_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/proplists/">proplists</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/qlc/">qlc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/queue/">queue</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/rand/">rand</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/random/">random</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/re/">re</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/sets/">sets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/shell/">shell</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/shell_default/">shell_default</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/slave/">slave</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/sofs/">sofs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/stdlib_app/">STDLIB</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/string/">string</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/supervisor/">supervisor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/supervisor_bridge/">supervisor_bridge</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/sys/">sys</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/timer/">timer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/unicode/">unicode</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/unicode_usage/">Using Unicode in Erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/uri_string/">uri_string</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/win32reg/">win32reg</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/zip/">zip</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Syntax tools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../syntax_tools/epp_dodger/">epp_dodger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/erl_comment_scan/">erl_comment_scan</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/erl_prettypr/">erl_prettypr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/erl_recomment/">erl_recomment</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/erl_syntax/">erl_syntax</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/erl_syntax_lib/">erl_syntax_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/erl_tidy/">erl_tidy</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/igor/">igor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/merl/">merl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/merl_transform/">merl_transform</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/notes/">Syntax_Tools Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/prettypr/">prettypr</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">System</span>
    <ul class="subnav">
                <li class="">
                    
    <span class="caption-text">Design principles</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/applications/">Applications</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/appup_cookbook/">Appup Cookbook</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/book/">OTP Design Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/des_princ/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/distributed_applications/">Distributed Applications</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/events/">gen_event Behaviour</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/gen_server_concepts/">gen_server Behaviour</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/included_applications/">Included Applications</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/part/">OTP Design Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/release_handling/">Release Handling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/release_structure/">Releases</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/spec_proc/">sys and proc_lib</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/statem/">gen_statem Behavior</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../design_principles/sup_princ/">Supervisor Behaviour</a>
                </li>
    </ul>
                </li>
                <li class=" current">
                    
    <span class="caption-text">Efficiency guide</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../advanced/">Advanced</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../binaryhandling/">Constructing and Matching Binaries</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../book/">Efficiency Guide</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../commoncaveats/">Common Caveats</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../drivers/">Drivers</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../functions/">Functions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../introduction/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../listhandling/">List Handling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../myths/">The Seven Myths of Erlang Performance</a>
                </li>
                <li class="toctree-l3 current">
                    
    <a class="current" href="./">Efficiency Guide</a>
    <ul class="subnav">
            
    <li class="toctree-l4"><a href="#efficiency-guide">Efficiency Guide</a></li>
    
        <ul>
        
            <li><a class="toctree-l5" href="#purpose">Purpose</a></li>
        
            <li><a class="toctree-l5" href="#prerequisites">Prerequisites</a></li>
        
            <li><a class="toctree-l5" href="#myth-tail-recursive-functions-are-much-faster">Myth: Tail-Recursive Functions are Much Faster</a></li>
        
            <li><a class="toctree-l5" href="#myth-operator-is-always-bad">Myth: Operator "++" is Always Bad</a></li>
        
            <li><a class="toctree-l5" href="#myth-strings-are-slow">Myth: Strings are Slow</a></li>
        
            <li><a class="toctree-l5" href="#myth-repairing-a-dets-file-is-very-slow">Myth: Repairing a Dets File is Very Slow</a></li>
        
            <li><a class="toctree-l5" href="#myth-beam-is-a-stack-based-byte-code-virtual-machine">Myth: BEAM is a Stack-Based Byte-Code Virtual Machine</a></li>
        
            <li><a class="toctree-l5" href="#myth-use-_-to-speed-up-your-program-when-a-variable">Myth: Use "_" to Speed Up Your Program When a Variable</a></li>
        
            <li><a class="toctree-l5" href="#myth-a-nif-always-speeds-up-your-program">Myth: A NIF Always Speeds Up Your Program</a></li>
        
            <li><a class="toctree-l5" href="#timer-module">Timer Module</a></li>
        
            <li><a class="toctree-l5" href="#list_to_atom1">list_to_atom/1</a></li>
        
            <li><a class="toctree-l5" href="#length1">length/1</a></li>
        
            <li><a class="toctree-l5" href="#setelement3">setelement/3</a></li>
        
            <li><a class="toctree-l5" href="#size1">size/1</a></li>
        
            <li><a class="toctree-l5" href="#split_binary2">split_binary/2</a></li>
        
            <li><a class="toctree-l5" href="#how-binaries-are-implemented">How Binaries are Implemented</a></li>
        
            <li><a class="toctree-l5" href="#refc-binaries">Refc Binaries</a></li>
        
            <li><a class="toctree-l5" href="#heap-binaries">Heap Binaries</a></li>
        
            <li><a class="toctree-l5" href="#sub-binaries">Sub Binaries</a></li>
        
            <li><a class="toctree-l5" href="#match-context">Match Context</a></li>
        
            <li><a class="toctree-l5" href="#constructing-binaries">Constructing Binaries</a></li>
        
            <li><a class="toctree-l5" href="#circumstances-that-force-copying">Circumstances That Force Copying</a></li>
        
            <li><a class="toctree-l5" href="#matching-binaries">Matching Binaries</a></li>
        
            <li><a class="toctree-l5" href="#option-bin_opt_info">Option bin_opt_info</a></li>
        
            <li><a class="toctree-l5" href="#unused-variables">Unused Variables</a></li>
        
            <li><a class="toctree-l5" href="#historical-note">Historical Note</a></li>
        
            <li><a class="toctree-l5" href="#creating-a-list">Creating a List</a></li>
        
            <li><a class="toctree-l5" href="#list-comprehensions">List Comprehensions</a></li>
        
            <li><a class="toctree-l5" href="#deep-and-flat-lists">Deep and Flat Lists</a></li>
        
            <li><a class="toctree-l5" href="#port-example">Port Example</a></li>
        
            <li><a class="toctree-l5" href="#append-example">Append Example</a></li>
        
            <li><a class="toctree-l5" href="#recursive-list-functions">Recursive List Functions</a></li>
        
            <li><a class="toctree-l5" href="#pattern-matching">Pattern Matching</a></li>
        
            <li><a class="toctree-l5" href="#function-calls">Function Calls</a></li>
        
            <li><a class="toctree-l5" href="#notes-and-implementation-details">Notes and Implementation Details</a></li>
        
            <li><a class="toctree-l5" href="#memory-usage-in-recursion">Memory Usage in Recursion</a></li>
        
            <li><a class="toctree-l5" href="#ets-dets-and-mnesia">Ets, Dets, and Mnesia</a></li>
        
            <li><a class="toctree-l5" href="#selectmatch-operations">Select/Match Operations</a></li>
        
            <li><a class="toctree-l5" href="#deleting-an-element">Deleting an Element</a></li>
        
            <li><a class="toctree-l5" href="#fetching-data">Fetching Data</a></li>
        
            <li><a class="toctree-l5" href="#non-persistent-database-storage">Non-Persistent Database Storage</a></li>
        
            <li><a class="toctree-l5" href="#tab2list">tab2list</a></li>
        
            <li><a class="toctree-l5" href="#ordered_set-tables">Ordered_set Tables</a></li>
        
            <li><a class="toctree-l5" href="#ets-specific">Ets-Specific</a></li>
        
            <li><a class="toctree-l5" href="#using-keys-of-ets-table">Using Keys of Ets Table</a></li>
        
            <li><a class="toctree-l5" href="#mnesia-specific">Mnesia-Specific</a></li>
        
            <li><a class="toctree-l5" href="#secondary-index">Secondary Index</a></li>
        
            <li><a class="toctree-l5" href="#transactions">Transactions</a></li>
        
            <li><a class="toctree-l5" href="#creating-an-erlang-process">Creating an Erlang Process</a></li>
        
            <li><a class="toctree-l5" href="#initial-heap-size">Initial Heap Size</a></li>
        
            <li><a class="toctree-l5" href="#process-messages">Process Messages</a></li>
        
            <li><a class="toctree-l5" href="#constant-pool">Constant Pool</a></li>
        
            <li><a class="toctree-l5" href="#loss-of-sharing">Loss of Sharing</a></li>
        
            <li><a class="toctree-l5" href="#smp-emulator">SMP Emulator</a></li>
        
            <li><a class="toctree-l5" href="#drivers-and-concurrency">Drivers and Concurrency</a></li>
        
            <li><a class="toctree-l5" href="#avoiding-copying-binaries-when-calling-a-driver">Avoiding Copying Binaries When Calling a Driver</a></li>
        
            <li><a class="toctree-l5" href="#returning-small-binaries-from-a-driver">Returning Small Binaries from a Driver</a></li>
        
            <li><a class="toctree-l5" href="#returning-large-binaries-without-copying-from-a-driver">Returning Large Binaries without Copying from a Driver</a></li>
        
            <li><a class="toctree-l5" href="#memory">Memory</a></li>
        
            <li><a class="toctree-l5" href="#system-limits">System Limits</a></li>
        
            <li><a class="toctree-l5" href="#do-not-guess-about-performance-profile">Do Not Guess About Performance - Profile</a></li>
        
            <li><a class="toctree-l5" href="#memory-profiling">Memory profiling</a></li>
        
            <li><a class="toctree-l5" href="#large-systems">Large Systems</a></li>
        
            <li><a class="toctree-l5" href="#what-to-look-for">What to Look For</a></li>
        
            <li><a class="toctree-l5" href="#tools">Tools</a></li>
        
            <li><a class="toctree-l5" href="#fprof">fprof</a></li>
        
            <li><a class="toctree-l5" href="#eprof">eprof</a></li>
        
            <li><a class="toctree-l5" href="#cprof">cprof</a></li>
        
            <li><a class="toctree-l5" href="#tool-summary">Tool Summary</a></li>
        
            <li><a class="toctree-l5" href="#dbg">dbg</a></li>
        
            <li><a class="toctree-l5" href="#lcnt">lcnt</a></li>
        
            <li><a class="toctree-l5" href="#benchmarking">Benchmarking</a></li>
        
            <li><a class="toctree-l5" href="#myth-funs-are-slow">Myth: Funs are Slow</a></li>
        
            <li><a class="toctree-l5" href="#myth-list-comprehensions-are-slow">Myth: List Comprehensions are Slow</a></li>
        
            <li><a class="toctree-l5" href="#myth-list-subtraction-operator-is-slow">Myth: List subtraction ("--" operator) is slow</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../processes/">Processes</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../profiling/">Profiling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../retired_myths/">Retired Myths</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../tablesDatabases/">Tables and Databases</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Embedded</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../embedded/book/">Embedded Systems</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../embedded/embedded_nt/">Windows NT</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../embedded/embedded_solaris/">Embedded Solaris</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../embedded/part/">Embedded Systems User's Guide</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">General info</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../general_info/book/">General Information</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../general_info/deprecations/">Deprecations</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../general_info/part/">General Information</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../general_info/scheduled_for_removal/">Scheduled for Removal</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Getting started</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/book/">Getting Started with Erlang</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/conc_prog/">Concurrent Programming</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/intro/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/part/">Getting Started With Erlang</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/records_macros/">Records and Macros</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/robustness/">Robustness</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/seq_prog/">Sequential Programming</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Installation guide</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/INSTALL-CROSS/">Cross Compiling Erlang/OTP</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/INSTALL-WIN32/">How to Build Erlang/OTP on Windows</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/INSTALL/">Building and Installing Erlang/OTP</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/OTP-PATCH-APPLY/">Patching OTP Applications</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/book/">Installation Guide</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/install-binary/">Installing the Binary Release</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/part/">Installation Guide</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Oam</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../oam/book/">OAM Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../oam/oam_intro/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../oam/part/">OAM Principles</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Programming examples</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../programming_examples/bit_syntax/">Bit Syntax</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../programming_examples/book/">Programming Examples</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../programming_examples/funs/">Funs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../programming_examples/list_comprehensions/">List Comprehensions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../programming_examples/part/">Programming Examples</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../programming_examples/records/">Records</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Reference manual</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/book/">Erlang Reference Manual</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/character_set/">Character Set and Source File Encoding</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/code_loading/">Compilation and Code Loading</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/data_types/">Data Types</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/distributed/">Distributed Erlang</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/errors/">Errors and Error Handling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/expressions/">Expressions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/functions/">Functions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/introduction/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/macros/">Preprocessor</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/modules/">Modules</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/part/">Erlang Reference Manual</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/patterns/">Pattern Matching</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/ports/">Ports and Port Drivers</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/processes/">Processes</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/records/">Records</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/typespec/">Types and Function Specifications</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">System architecture intro</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system_architecture_intro/book/">System Architecture</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_architecture_intro/part/">Introduction to the System Architecture</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_architecture_intro/sys_arch_intro/">Introduction</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">System principles</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/book/">System Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/create_target/">Creating and Upgrading a Target System</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/error_logging/">Error Logging</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/misc/">Support, Compatibility, Deprecations, and Removal</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/part/">System Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/system_principles/">System Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/upgrade/">Upgrade when Erlang/OTP has Changed</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/versions/">Versions</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Tutorial</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/book/">Interoperability Tutorial</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/c_port/">Ports</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/c_portdriver/">Port Drivers</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/cnode/">C Nodes</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/erl_interface/">Erl_Interface</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/example/">Problem Example</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/introduction/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/nif/">NIFs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/overview/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/part/">Interoperability Tutorial</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tftp</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../tftp/getting_started/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tftp/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tftp/notes/">TFTP Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tftp/tftp/">tftp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tftp/usersguide/">TFTP User's Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../tools/cover/">cover</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/cover_chapter/">cover</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/cprof/">cprof</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/cprof_chapter/">cprof - The Call Count Profiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/eprof/">eprof</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/erlang_mode/">Erlang mode for Emacs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/erlang_mode_chapter/">The Erlang mode for Emacs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/fprof/">fprof</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/fprof_chapter/">fprof - The File Trace Profiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/instrument/">instrument</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/lcnt/">lcnt</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/lcnt_chapter/">lcnt - The Lock Profiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/make/">make</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/notes/">Tools Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/tags/">tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/xref/">xref</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/xref_chapter/">Xref - The Cross Reference Tool</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Wx</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../wx/glu/">glu</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/notes/">wxErlang Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wx/">wx</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAcceleratorEntry/">wxAcceleratorEntry</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAcceleratorTable/">wxAcceleratorTable</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxActivateEvent/">wxActivateEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxArtProvider/">wxArtProvider</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiDockArt/">wxAuiDockArt</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiManager/">wxAuiManager</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiManagerEvent/">wxAuiManagerEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiNotebook/">wxAuiNotebook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiNotebookEvent/">wxAuiNotebookEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiPaneInfo/">wxAuiPaneInfo</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiSimpleTabArt/">wxAuiSimpleTabArt</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiTabArt/">wxAuiTabArt</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBitmap/">wxBitmap</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBitmapButton/">wxBitmapButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBitmapDataObject/">wxBitmapDataObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBoxSizer/">wxBoxSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBrush/">wxBrush</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBufferedDC/">wxBufferedDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBufferedPaintDC/">wxBufferedPaintDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxButton/">wxButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCalendarCtrl/">wxCalendarCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCalendarDateAttr/">wxCalendarDateAttr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCalendarEvent/">wxCalendarEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCaret/">wxCaret</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCheckBox/">wxCheckBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCheckListBox/">wxCheckListBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxChildFocusEvent/">wxChildFocusEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxChoice/">wxChoice</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxChoicebook/">wxChoicebook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxClientDC/">wxClientDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxClipboard/">wxClipboard</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxClipboardTextEvent/">wxClipboardTextEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCloseEvent/">wxCloseEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxColourData/">wxColourData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxColourDialog/">wxColourDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxColourPickerCtrl/">wxColourPickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxColourPickerEvent/">wxColourPickerEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxComboBox/">wxComboBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCommandEvent/">wxCommandEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxContextMenuEvent/">wxContextMenuEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxControl/">wxControl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxControlWithItems/">wxControlWithItems</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCursor/">wxCursor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDC/">wxDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDCOverlay/">wxDCOverlay</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDataObject/">wxDataObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDateEvent/">wxDateEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDatePickerCtrl/">wxDatePickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDialog/">wxDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDirDialog/">wxDirDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDirPickerCtrl/">wxDirPickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDisplay/">wxDisplay</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDisplayChangedEvent/">wxDisplayChangedEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDropFilesEvent/">wxDropFilesEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxEraseEvent/">wxEraseEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxEvent/">wxEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxEvtHandler/">wxEvtHandler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFileDataObject/">wxFileDataObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFileDialog/">wxFileDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFileDirPickerEvent/">wxFileDirPickerEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFilePickerCtrl/">wxFilePickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFindReplaceData/">wxFindReplaceData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFindReplaceDialog/">wxFindReplaceDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFlexGridSizer/">wxFlexGridSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFocusEvent/">wxFocusEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFont/">wxFont</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFontData/">wxFontData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFontDialog/">wxFontDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFontPickerCtrl/">wxFontPickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFontPickerEvent/">wxFontPickerEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFrame/">wxFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGBSizerItem/">wxGBSizerItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGCDC/">wxGCDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGLCanvas/">wxGLCanvas</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGauge/">wxGauge</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGenericDirCtrl/">wxGenericDirCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsBrush/">wxGraphicsBrush</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsContext/">wxGraphicsContext</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsFont/">wxGraphicsFont</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsMatrix/">wxGraphicsMatrix</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsObject/">wxGraphicsObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsPath/">wxGraphicsPath</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsPen/">wxGraphicsPen</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsRenderer/">wxGraphicsRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGrid/">wxGrid</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridBagSizer/">wxGridBagSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellAttr/">wxGridCellAttr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellBoolEditor/">wxGridCellBoolEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellBoolRenderer/">wxGridCellBoolRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellChoiceEditor/">wxGridCellChoiceEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellEditor/">wxGridCellEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellFloatEditor/">wxGridCellFloatEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellFloatRenderer/">wxGridCellFloatRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellNumberEditor/">wxGridCellNumberEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellNumberRenderer/">wxGridCellNumberRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellRenderer/">wxGridCellRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellStringRenderer/">wxGridCellStringRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellTextEditor/">wxGridCellTextEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridEvent/">wxGridEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridSizer/">wxGridSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxHelpEvent/">wxHelpEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxHtmlEasyPrinting/">wxHtmlEasyPrinting</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxHtmlLinkEvent/">wxHtmlLinkEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxHtmlWindow/">wxHtmlWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxIcon/">wxIcon</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxIconBundle/">wxIconBundle</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxIconizeEvent/">wxIconizeEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxIdleEvent/">wxIdleEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxImage/">wxImage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxImageList/">wxImageList</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxInitDialogEvent/">wxInitDialogEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxJoystickEvent/">wxJoystickEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxKeyEvent/">wxKeyEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxLayoutAlgorithm/">wxLayoutAlgorithm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListBox/">wxListBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListCtrl/">wxListCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListEvent/">wxListEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListItem/">wxListItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListItemAttr/">wxListItemAttr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListView/">wxListView</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListbook/">wxListbook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxLocale/">wxLocale</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxLogNull/">wxLogNull</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMDIChildFrame/">wxMDIChildFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMDIClientWindow/">wxMDIClientWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMDIParentFrame/">wxMDIParentFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMask/">wxMask</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMaximizeEvent/">wxMaximizeEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMemoryDC/">wxMemoryDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMenu/">wxMenu</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMenuBar/">wxMenuBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMenuEvent/">wxMenuEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMenuItem/">wxMenuItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMessageDialog/">wxMessageDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMiniFrame/">wxMiniFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMirrorDC/">wxMirrorDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMouseCaptureChangedEvent/">wxMouseCaptureChangedEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMouseCaptureLostEvent/">wxMouseCaptureLostEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMouseEvent/">wxMouseEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMoveEvent/">wxMoveEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMultiChoiceDialog/">wxMultiChoiceDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxNavigationKeyEvent/">wxNavigationKeyEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxNotebook/">wxNotebook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxNotebookEvent/">wxNotebookEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxNotifyEvent/">wxNotifyEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxOverlay/">wxOverlay</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPageSetupDialog/">wxPageSetupDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPageSetupDialogData/">wxPageSetupDialogData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPaintDC/">wxPaintDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPaintEvent/">wxPaintEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPalette/">wxPalette</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPaletteChangedEvent/">wxPaletteChangedEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPanel/">wxPanel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPasswordEntryDialog/">wxPasswordEntryDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPen/">wxPen</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPickerBase/">wxPickerBase</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPopupTransientWindow/">wxPopupTransientWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPopupWindow/">wxPopupWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPostScriptDC/">wxPostScriptDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPreviewCanvas/">wxPreviewCanvas</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPreviewControlBar/">wxPreviewControlBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPreviewFrame/">wxPreviewFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPrintData/">wxPrintData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPrintDialog/">wxPrintDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPrintDialogData/">wxPrintDialogData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPrintPreview/">wxPrintPreview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPrinter/">wxPrinter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPrintout/">wxPrintout</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxProgressDialog/">wxProgressDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxQueryNewPaletteEvent/">wxQueryNewPaletteEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxRadioBox/">wxRadioBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxRadioButton/">wxRadioButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxRegion/">wxRegion</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSashEvent/">wxSashEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSashLayoutWindow/">wxSashLayoutWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSashWindow/">wxSashWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxScreenDC/">wxScreenDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxScrollBar/">wxScrollBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxScrollEvent/">wxScrollEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxScrollWinEvent/">wxScrollWinEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxScrolledWindow/">wxScrolledWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSetCursorEvent/">wxSetCursorEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxShowEvent/">wxShowEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSingleChoiceDialog/">wxSingleChoiceDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSizeEvent/">wxSizeEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSizer/">wxSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSizerFlags/">wxSizerFlags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSizerItem/">wxSizerItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSlider/">wxSlider</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSpinButton/">wxSpinButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSpinCtrl/">wxSpinCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSpinEvent/">wxSpinEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSplashScreen/">wxSplashScreen</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSplitterEvent/">wxSplitterEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSplitterWindow/">wxSplitterWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStaticBitmap/">wxStaticBitmap</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStaticBox/">wxStaticBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStaticBoxSizer/">wxStaticBoxSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStaticLine/">wxStaticLine</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStaticText/">wxStaticText</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStatusBar/">wxStatusBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStdDialogButtonSizer/">wxStdDialogButtonSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStyledTextCtrl/">wxStyledTextCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStyledTextEvent/">wxStyledTextEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSysColourChangedEvent/">wxSysColourChangedEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSystemOptions/">wxSystemOptions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSystemSettings/">wxSystemSettings</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTaskBarIcon/">wxTaskBarIcon</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTaskBarIconEvent/">wxTaskBarIconEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTextAttr/">wxTextAttr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTextCtrl/">wxTextCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTextDataObject/">wxTextDataObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTextEntryDialog/">wxTextEntryDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxToggleButton/">wxToggleButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxToolBar/">wxToolBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxToolTip/">wxToolTip</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxToolbook/">wxToolbook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTopLevelWindow/">wxTopLevelWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTreeCtrl/">wxTreeCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTreeEvent/">wxTreeEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTreebook/">wxTreebook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxUpdateUIEvent/">wxUpdateUIEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxWindow/">wxWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxWindowCreateEvent/">wxWindowCreateEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxWindowDC/">wxWindowDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxWindowDestroyEvent/">wxWindowDestroyEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxXmlResource/">wxXmlResource</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wx_misc/">wx_misc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wx_object/">wx_object</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Xmerl</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../xmerl/notes/">Xmerl Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl/">xmerl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_eventp/">xmerl_eventp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_sax_parser/">xmerl_sax_parser</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_scan/">xmerl_scan</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_ug/">xmerl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_xpath/">xmerl_xpath</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_xs/">xmerl_xs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_xsd/">xmerl_xsd</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">Erlang OTP</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>Efficiency guide &raquo;</li>
        
      
        
          <li>System &raquo;</li>
        
      
    
    <li>Efficiency Guide</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="efficiency-guide">Efficiency Guide</h1>
<h3 id="purpose">Purpose</h3>
<p>"Premature optimization is the root of all evil" (D.E. Knuth)</p>
<p>Efficient code can be well-structured and clean, based on a sound overall architecture and sound algorithms. Efficient code can be highly implementation-code that bypasses documented interfaces and takes advantage of obscure quirks in the current implementation.</p>
<p>Ideally, your code only contains the first type of efficient code. If that turns out to be too slow, profile the application to find out where the performance bottlenecks are and optimize only the bottlenecks. Let other code stay as clean as possible.</p>
<p>This Efficiency Guide cannot really teach you how to write efficient code. It can give you a few pointers about what to avoid and what to use, and some understanding of how certain language features are implemented. This guide does not include general tips about optimization that works in any language, such as moving common calculations out of loops.</p>
<h3 id="prerequisites">Prerequisites</h3>
<p>It is assumed that you are familiar with the Erlang programming language and the OTP concepts.
<a name="myths">myths</a></p>
<p>Some truths seem to live on well beyond their best-before date, perhaps because "information" spreads faster from person-to-person than a single release note that says, for example, that body-recursive calls have become faster.</p>
<p>This section tries to kill the old truths (or semi-truths) that have become myths.</p>
<h3 id="myth-tail-recursive-functions-are-much-faster">Myth: Tail-Recursive Functions are Much Faster</h3>
<pre><code>Than Recursive Functions
</code></pre>
<p><a name="tail_recursive">tail_recursive</a>
According to the myth, using a tail-recursive function that builds a list in reverse followed by a call to
<em>lists:reverse/1</em>
is faster than a body-recursive function that builds the list in correct order; the reason being that body-recursive functions use more memory than tail-recursive functions.</p>
<p>That was true to some extent before R12B. It was even more true before R7B. Today, not so much. A body-recursive function generally uses the same amount of memory as a tail-recursive function. It is generally not possible to predict whether the tail-recursive or the body-recursive version will be faster. Therefore, use the version that makes your code cleaner (hint: it is usually the body-recursive version).</p>
<p>For a more thorough discussion about tail and body recursion, see
<a href="http://ferd.ca/erlang-s-tail-recursion-is-not-a-silver-bullet.html">Erlang's Tail Recursion is Not a Silver Bullet</a>
.</p>
<div class="admonition info">
<p class="admonition-title">Note</p>
</div>
<p>A tail-recursive function that does not need to reverse the list at the end is faster than a body-recursive function, as are tail-recursive functions that do not construct any terms at all (for example, a function that sums all integers in a list).</p>
<h3 id="myth-operator-is-always-bad">Myth: Operator "++" is Always Bad</h3>
<p>The
<em>++</em>
operator has, somewhat undeservedly, got a bad reputation. It probably has something to do with code like the following, which is the most inefficient way there is to reverse a list:</p>
<p><strong>DO NOT</strong></p>
<pre><code class="erl">
naive_reverse([H|T]) -&gt;
    naive_reverse(T)++[H];
naive_reverse([]) -&gt;
    [].
</code></pre>

<p>As the
<em>++</em>
operator copies its left operand, the result is copied repeatedly, leading to quadratic complexity.</p>
<p>But using <em>++</em> as follows is not bad:</p>
<p><strong>OK</strong></p>
<pre><code class="erl">
naive_but_ok_reverse([H|T], Acc) -&gt;
    naive_but_ok_reverse(T, [H]++Acc);
naive_but_ok_reverse([], Acc) -&gt;
    Acc.
</code></pre>

<p>Each list element is copied only once. The growing result
<em>Acc</em>
is the right operand for the
<em>++</em>
operator, and it is
<strong>not</strong>
copied.</p>
<p>Experienced Erlang programmers would write as follows:</p>
<p><strong>DO</strong></p>
<pre><code class="erl">
vanilla_reverse([H|T], Acc) -&gt;
    vanilla_reverse(T, [H|Acc]);
vanilla_reverse([], Acc) -&gt;
    Acc.
</code></pre>

<p>This is slightly more efficient because here you do not build a list element only to copy it directly. (Or it would be more efficient if the compiler did not automatically rewrite
<em>[H]++Acc</em>
to
<em>[H|Acc]</em>
.)</p>
<h3 id="myth-strings-are-slow">Myth: Strings are Slow</h3>
<p>String handling can be slow if done improperly. In Erlang, you need to think a little more about how the strings are used and choose an appropriate representation. If you use regular expressions, use the
<a href="./re">re</a>
module in STDLIB instead of the obsolete
<em>regexp</em>
module.</p>
<h3 id="myth-repairing-a-dets-file-is-very-slow">Myth: Repairing a Dets File is Very Slow</h3>
<p>The repair time is still proportional to the number of records in the file, but Dets repairs used to be much slower in the past. Dets has been massively rewritten and improved.</p>
<h3 id="myth-beam-is-a-stack-based-byte-code-virtual-machine">Myth: BEAM is a Stack-Based Byte-Code Virtual Machine</h3>
<pre><code>(and Therefore Slow)
</code></pre>
<p>BEAM is a register-based virtual machine. It has 1024 virtual registers that are used for holding temporary values and for passing arguments when calling functions. Variables that need to survive a function call are saved to the stack.</p>
<p>BEAM is a threaded-code interpreter. Each instruction is word pointing directly to executable C-code, making instruction dispatching very fast.</p>
<h3 id="myth-use-_-to-speed-up-your-program-when-a-variable">Myth: Use "_" to Speed Up Your Program When a Variable</h3>
<pre><code>is Not Used
</code></pre>
<p>That was once true, but from R6B the BEAM compiler can see that a variable is not used.</p>
<p>Similarly, trivial transformations on the source-code level such as converting a
<em>case</em>
statement to clauses at the top-level of the function seldom makes any difference to the generated code.</p>
<h3 id="myth-a-nif-always-speeds-up-your-program">Myth: A NIF Always Speeds Up Your Program</h3>
<p>Rewriting Erlang code to a NIF to make it faster should be seen as a last resort. It is only guaranteed to be dangerous, but not guaranteed to speed up the program.</p>
<p>Doing too much work in each NIF call will
<a href="../erts/erl_nif#WARNING">degrade responsiveness of the VM</a>
. Doing too little work may mean that the gain of the faster processing in the NIF is eaten up by the overhead of calling the NIF and checking the arguments.</p>
<p>Be sure to read about
<a href="../erts/erl_nif#lengthy_work">Long-running NIFs</a>
before writing a NIF.</p>
<p>This section lists a few modules and BIFs to watch out for, not only from a performance point of view.</p>
<h3 id="timer-module">Timer Module</h3>
<p>Creating timers using
<a href="../erts/erlang#send_after/3">erlang:send_after/3</a>
and
<a href="../erts/erlang#start_timer/3">erlang:start_timer/3</a>
, is much more efficient than using the timers provided by the
<a href="./timer">timer</a>
module in STDLIB. The
<em>timer</em>
module uses a separate process to manage the timers. That process can easily become overloaded if many processes create and cancel timers frequently (especially when using the SMP emulator).</p>
<p>The functions in the
<em>timer</em>
module that do not manage timers (such as
<em>timer:tc/3</em>
or
<em>timer:sleep/1</em>
), do not call the timer-server process and are therefore harmless.</p>
<h3 id="list_to_atom1">list_to_atom/1</h3>
<p>Atoms are not garbage-collected. Once an atom is created, it is never removed. The emulator terminates if the limit for the number of atoms (1,048,576 by default) is reached.</p>
<p>Therefore, converting arbitrary input strings to atoms can be dangerous in a system that runs continuously. If only certain well-defined atoms are allowed as input,
<a href="../erts/erlang#list_to_existing_atom/1">list_to_existing_atom/1</a>
can be used to to guard against a denial-of-service attack. (All atoms that are allowed must have been created earlier, for example, by simply using all of them in a module and loading that module.)</p>
<p>Using
<em>list_to_atom/1</em>
to construct an atom that is passed to
<em>apply/3</em>
as follows, is quite expensive and not recommended in time-critical code:</p>
<pre><code class="erl">
apply(list_to_atom(&quot;some_prefix&quot;++Var), foo, Args)
</code></pre>

<h3 id="length1">length/1</h3>
<p>The time for calculating the length of a list is proportional to the length of the list, as opposed to
<em>tuple_size/1</em>
,
<em>byte_size/1</em>
, and
<em>bit_size/1</em>
, which all execute in constant time.</p>
<p>Normally, there is no need to worry about the speed of
<em>length/1</em>
, because it is efficiently implemented in C. In time-critical code, you might want to avoid it if the input list could potentially be very long.</p>
<p>Some uses of
<em>length/1</em>
can be replaced by matching. For example, the following code:</p>
<pre><code class="erl">
foo(L) when length(L) &gt;= 3 -&gt;
    ...
</code></pre>

<p>can be rewritten to:</p>
<pre><code class="erl">
foo([_,_,_|_]=L) -&gt;
   ...
</code></pre>

<p>One slight difference is that
<em>length(L)</em>
fails if
<em>L</em>
is an improper list, while the pattern in the second code fragment accepts an improper list.</p>
<h3 id="setelement3">setelement/3</h3>
<p><a href="../erts/erlang#setelement/3">setelement/3</a>
copies the tuple it modifies. Therefore, updating a tuple in a loop using
<em>setelement/3</em>
creates a new copy of the tuple every time.</p>
<p>There is one exception to the rule that the tuple is copied. If the compiler clearly can see that destructively updating the tuple would give the same result as if the tuple was copied, the call to
<em>setelement/3</em>
is replaced with a special destructive
<em>setelement</em>
instruction. In the following code sequence, the first
<em>setelement/3</em>
call copies the tuple and modifies the ninth element:</p>
<pre><code class="erl">
multiple_setelement(T0) -&gt;
    T1 = setelement(9, T0, bar),
    T2 = setelement(7, T1, foobar),
    setelement(5, T2, new_value).
</code></pre>

<p>The two following <em>setelement/3</em> calls modify the tuple in place.</p>
<p>For the optimization to be applied,
<strong>all</strong>
the followings conditions must be true:
*
The indices must be integer literals, not variables or expressions.
* The indices must be given in descending order.
*
There must be no calls to another function in between the calls to
<em>setelement/3</em>
.
*
The tuple returned from one
<em>setelement/3</em>
call must only be used in the subsequent call to
<em>setelement/3</em>
.</p>
<p>If the code cannot be structured as in the
<em>multiple_setelement/1</em>
example, the best way to modify multiple elements in a large tuple is to convert the tuple to a list, modify the list, and convert it back to a tuple.</p>
<h3 id="size1">size/1</h3>
<p><em>size/1</em> returns the size for both tuples and binaries.</p>
<p>Using the BIFs
<em>tuple_size/1</em>
and
<em>byte_size/1</em>
gives the compiler and the runtime system more opportunities for optimization. Another advantage is that the BIFs give Dialyzer more type information.</p>
<h3 id="split_binary2">split_binary/2</h3>
<p>It is usually more efficient to split a binary using matching instead of calling the
<em>split_binary/2</em>
function. Furthermore, mixing bit syntax matching and
<em>split_binary/2</em>
can prevent some optimizations of bit syntax matching.</p>
<p><strong>DO</strong></p>
<pre><code>
        &lt;&lt;Bin1:Num/binary,Bin2/binary&gt;&gt; = Bin,
</code></pre>

<p><strong>DO NOT</strong></p>
<pre><code>
        {Bin1,Bin2} = split_binary(Bin, Num)
</code></pre>

<p>Binaries can be efficiently built in the following way:</p>
<p><strong>DO</strong></p>
<pre><code class="erl">
my_list_to_binary(List) -&gt;
    my_list_to_binary(List, &lt;&lt;&gt;&gt;).

my_list_to_binary([H|T], Acc) -&gt;
    my_list_to_binary(T, &lt;&lt;Acc/binary,H&gt;&gt;);
my_list_to_binary([], Acc) -&gt;
    Acc.
</code></pre>

<p>Binaries can be efficiently matched like this:</p>
<p><strong>DO</strong></p>
<pre><code class="erl">
my_binary_to_list(&lt;&lt;H,T/binary&gt;&gt;) -&gt;
    [H|my_binary_to_list(T)];
my_binary_to_list(&lt;&lt;&gt;&gt;) -&gt; [].
</code></pre>

<h3 id="how-binaries-are-implemented">How Binaries are Implemented</h3>
<p>Internally, binaries and bitstrings are implemented in the same way. In this section, they are called
<strong>binaries</strong>
because that is what they are called in the emulator source code.</p>
<p>Four types of binary objects are available internally:
*</p>
<p>Two are containers for binary data and are called:
* <strong>Refc binaries</strong> (short for <strong>reference-counted binaries</strong> )
* <strong>Heap binaries</strong>
*</p>
<p>Two are merely references to a part of a binary and are called:
* <strong>sub binaries</strong>
* <strong>match contexts</strong>
<a name="refc_binary">refc_binary</a></p>
<h3 id="refc-binaries">Refc Binaries</h3>
<p>Refc binaries consist of two parts:
* An object stored on the process heap, called a <strong>ProcBin</strong>
* The binary object itself, stored outside all process heaps</p>
<p>The binary object can be referenced by any number of ProcBins from any number of processes. The object contains a reference counter to keep track of the number of references, so that it can be removed when the last reference disappears.</p>
<p>All ProcBin objects in a process are part of a linked list, so that the garbage collector can keep track of them and decrement the reference counters in the binary when a ProcBin disappears.
<a name="heap_binary">heap_binary</a></p>
<h3 id="heap-binaries">Heap Binaries</h3>
<p>Heap binaries are small binaries, up to 64 bytes, and are stored directly on the process heap. They are copied when the process is garbage-collected and when they are sent as a message. They do not require any special handling by the garbage collector.</p>
<h3 id="sub-binaries">Sub Binaries</h3>
<p>The reference objects
<strong>sub binaries</strong>
and
<strong>match contexts</strong>
can reference part of a refc binary or heap binary.</p>
<p><a name="sub_binary">sub_binary</a>
A
<strong>sub binary</strong>
is created by
<em>split_binary/2</em>
and when a binary is matched out in a binary pattern. A sub binary is a reference into a part of another binary (refc or heap binary, but never into another sub binary). Therefore, matching out a binary is relatively cheap because the actual binary data is never copied.</p>
<h3 id="match-context">Match Context</h3>
<p><a name="match_context">match_context</a></p>
<p>A
<strong>match context</strong>
is similar to a sub binary, but is optimized for binary matching. For example, it contains a direct pointer to the binary data. For each field that is matched out of a binary, the position in the match context is incremented.</p>
<p>The compiler tries to avoid generating code that creates a sub binary, only to shortly afterwards create a new match context and discard the sub binary. Instead of creating a sub binary, the match context is kept.</p>
<p>The compiler can only do this optimization if it knows that the match context will not be shared. If it would be shared, the functional properties (also called referential transparency) of Erlang would break.</p>
<h3 id="constructing-binaries">Constructing Binaries</h3>
<p>Appending to a binary or bitstring is specially optimized by the
<strong>runtime system</strong>
:</p>
<pre><code class="erl">
&lt;&lt;Binary/binary, ...&gt;&gt;
&lt;&lt;Binary/bitstring, ...&gt;&gt;
</code></pre>

<p>As the runtime system handles the optimization (instead of the compiler), there are very few circumstances in which the optimization does not work.</p>
<p>To explain how it works, let us examine the following code line by line:</p>
<pre><code class="erl">
Bin0 = &lt;&lt;0&gt;&gt;,                    %% 1
Bin1 = &lt;&lt;Bin0/binary,1,2,3&gt;&gt;,    %% 2
Bin2 = &lt;&lt;Bin1/binary,4,5,6&gt;&gt;,    %% 3
Bin3 = &lt;&lt;Bin2/binary,7,8,9&gt;&gt;,    %% 4
Bin4 = &lt;&lt;Bin1/binary,17&gt;&gt;,       %% 5 !!!
{Bin4,Bin3}                      %% 6
</code></pre>

<p>*
Line 1 (marked with the
<em>%% 1</em>
comment), assigns a
<a href="#heap_binary">heap binary</a>
to the
<em>Bin0</em>
variable.
*
Line 2 is an append operation. As
<em>Bin0</em>
has not been involved in an append operation, a new
<a href="#refc_binary">refc binary</a>
is created and the contents of
<em>Bin0</em>
is copied into it. The
<strong>ProcBin</strong>
part of the refc binary has its size set to the size of the data stored in the binary, while the binary object has extra space allocated. The size of the binary object is either twice the size of
<em>Bin1</em>
or 256, whichever is larger. In this case it is 256.
*
Line 3 is more interesting.
<em>Bin1</em>
<strong>has</strong>
been used in an append operation, and it has 252 bytes of unused storage at the end, so the 3 new bytes are stored there.
*
Line 4. The same applies here. There are 249 bytes left, so there is no problem storing another 3 bytes.
*
Line 5. Here, something
<strong>interesting</strong>
happens. Notice that the result is not appended to the previous result in
<em>Bin3</em>
, but to
<em>Bin1</em>
. It is expected that
<em>Bin4</em>
will be assigned the value
<em>&lt;&lt;0,1,2,3,17&gt;&gt;</em>
. It is also expected that
<em>Bin3</em>
will retain its value (
<em>&lt;&lt;0,1,2,3,4,5,6,7,8,9&gt;&gt;</em>
). Clearly, the runtime system cannot write byte
<em>17</em>
into the binary, because that would change the value of
<em>Bin3</em>
to
<em>&lt;&lt;0,1,2,3,4,17,6,7,8,9&gt;&gt;</em>
.</p>
<p>The runtime system sees that
<em>Bin1</em>
is the result from a previous append operation (not from the latest append operation), so it
<strong>copies</strong>
the contents of
<em>Bin1</em>
to a new binary, reserve extra storage, and so on. (Here is not explained how the runtime system can know that it is not allowed to write into
<em>Bin1</em>
; it is left as an exercise to the curious reader to figure out how it is done by reading the emulator sources, primarily
<em>erl_bits.c</em>
.)</p>
<h3 id="circumstances-that-force-copying">Circumstances That Force Copying</h3>
<p>The optimization of the binary append operation requires that there is a
<strong>single</strong>
ProcBin and a
<strong>single reference</strong>
to the ProcBin for the binary. The reason is that the binary object can be moved (reallocated) during an append operation, and when that happens, the pointer in the ProcBin must be updated. If there would be more than one ProcBin pointing to the binary object, it would not be possible to find and update all of them.</p>
<p>Therefore, certain operations on a binary mark it so that any future append operation will be forced to copy the binary. In most cases, the binary object will be shrunk at the same time to reclaim the extra space allocated for growing.</p>
<p>When appending to a binary as follows, only the binary returned from the latest append operation will support further cheap append operations:</p>
<pre><code class="erl">
Bin = &lt;&lt;Bin0,...&gt;&gt;
</code></pre>

<p>In the code fragment in the beginning of this section, appending to
<em>Bin</em>
will be cheap, while appending to
<em>Bin0</em>
will force the creation of a new binary and copying of the contents of
<em>Bin0</em>
.</p>
<p>If a binary is sent as a message to a process or port, the binary will be shrunk and any further append operation will copy the binary data into a new binary. For example, in the following code fragment
<em>Bin1</em>
will be copied in the third line:</p>
<pre><code class="erl">
Bin1 = &lt;&lt;Bin0,...&gt;&gt;,
PortOrPid ! Bin1,
Bin = &lt;&lt;Bin1,...&gt;&gt;  %% Bin1 will be COPIED

</code></pre>

<p>The same happens if you insert a binary into an Ets table, send it to a port using
<em>erlang:port_command/2</em>
, or pass it to
<a href="../erts/erl_nif#enif_inspect_binary">enif_inspect_binary</a>
in a NIF.</p>
<p>Matching a binary will also cause it to shrink and the next append operation will copy the binary data:</p>
<pre><code class="erl">
Bin1 = &lt;&lt;Bin0,...&gt;&gt;,
&lt;&lt;X,Y,Z,T/binary&gt;&gt; = Bin1,
Bin = &lt;&lt;Bin1,...&gt;&gt;  %% Bin1 will be COPIED

</code></pre>

<p>The reason is that a
<a href="#match_context">match context</a>
contains a direct pointer to the binary data.</p>
<p>If a process simply keeps binaries (either in "loop data" or in the process dictionary), the garbage collector can eventually shrink the binaries. If only one such binary is kept, it will not be shrunk. If the process later appends to a binary that has been shrunk, the binary object will be reallocated to make place for the data to be appended.</p>
<h3 id="matching-binaries">Matching Binaries</h3>
<p>Let us revisit the example in the beginning of the previous section:</p>
<p><strong>DO</strong></p>
<pre><code class="erl">
my_binary_to_list(&lt;&lt;H,T/binary&gt;&gt;) -&gt;
    [H|my_binary_to_list(T)];
my_binary_to_list(&lt;&lt;&gt;&gt;) -&gt; [].
</code></pre>

<p>The first time
<em>my_binary_to_list/1</em>
is called, a
<a href="#match_context">match context</a>
is created. The match context points to the first byte of the binary. 1 byte is matched out and the match context is updated to point to the second byte in the binary.</p>
<p>At this point it would make sense to create a
<a href="#sub_binary">sub binary</a>
, but in this particular example the compiler sees that there will soon be a call to a function (in this case, to
<em>my_binary_to_list/1</em>
itself) that immediately will create a new match context and discard the sub binary.</p>
<p>Therefore
<em>my_binary_to_list/1</em>
calls itself with the match context instead of with a sub binary. The instruction that initializes the matching operation basically does nothing when it sees that it was passed a match context instead of a binary.</p>
<p>When the end of the binary is reached and the second clause matches, the match context will simply be discarded (removed in the next garbage collection, as there is no longer any reference to it).</p>
<p>To summarize,
<em>my_binary_to_list/1</em>
only needs to create
<strong>one</strong>
match context and no sub binaries.</p>
<p>Notice that the match context in
<em>my_binary_to_list/1</em>
was discarded when the entire binary had been traversed. What happens if the iteration stops before it has reached the end of the binary? Will the optimization still work?</p>
<pre><code class="erl">
after_zero(&lt;&lt;0,T/binary&gt;&gt;) -&gt;
    T;
after_zero(&lt;&lt;_,T/binary&gt;&gt;) -&gt;
    after_zero(T);
after_zero(&lt;&lt;&gt;&gt;) -&gt;
    &lt;&lt;&gt;&gt;.

</code></pre>

<p>Yes, it will. The compiler will remove the building of the sub binary in the second clause:</p>
<pre><code class="erl">
...
after_zero(&lt;&lt;_,T/binary&gt;&gt;) -&gt;
    after_zero(T);
...
</code></pre>

<p>But it will generate code that builds a sub binary in the first clause:</p>
<pre><code class="erl">
after_zero(&lt;&lt;0,T/binary&gt;&gt;) -&gt;
    T;
...
</code></pre>

<p>Therefore,
<em>after_zero/1</em>
builds one match context and one sub binary (assuming it is passed a binary that contains a zero byte).</p>
<p>Code like the following will also be optimized:</p>
<pre><code class="erl">
all_but_zeroes_to_list(Buffer, Acc, 0) -&gt;
    {lists:reverse(Acc),Buffer};
all_but_zeroes_to_list(&lt;&lt;0,T/binary&gt;&gt;, Acc, Remaining) -&gt;
    all_but_zeroes_to_list(T, Acc, Remaining-1);
all_but_zeroes_to_list(&lt;&lt;Byte,T/binary&gt;&gt;, Acc, Remaining) -&gt;
    all_but_zeroes_to_list(T, [Byte|Acc], Remaining-1).
</code></pre>

<p>The compiler removes building of sub binaries in the second and third clauses, and it adds an instruction to the first clause that converts
<em>Buffer</em>
from a match context to a sub binary (or do nothing if
<em>Buffer</em>
is a binary already).</p>
<p>But in more complicated code, how can one know whether the optimization is applied or not?
<a name="bin_opt_info">bin_opt_info</a></p>
<h3 id="option-bin_opt_info">Option bin_opt_info</h3>
<p>Use the
<em>bin_opt_info</em>
option to have the compiler print a lot of information about binary optimizations. It can be given either to the compiler or
<em>erlc</em>
:</p>
<pre><code class="erl">
erlc +bin_opt_info Mod.erl
</code></pre>

<p>or passed through an environment variable:</p>
<pre><code class="erl">
export ERL_COMPILER_OPTIONS=bin_opt_info
</code></pre>

<p>Notice that the
<em>bin_opt_info</em>
is not meant to be a permanent option added to your
<em>Makefile</em>
s, because all messages that it generates cannot be eliminated. Therefore, passing the option through the environment is in most cases the most practical approach.</p>
<p>The warnings look as follows:</p>
<pre><code class="erl">
./efficiency_guide.erl:60: Warning: NOT OPTIMIZED: binary is returned from the function
./efficiency_guide.erl:62: Warning: OPTIMIZED: match context reused
</code></pre>

<p>To make it clearer exactly what code the warnings refer to, the warnings in the following examples are inserted as comments after the clause they refer to, for example:</p>
<pre><code class="erl">
after_zero(&lt;&lt;0,T/binary&gt;&gt;) -&gt;
         %% BINARY CREATED: binary is returned from the function
    T;
after_zero(&lt;&lt;_,T/binary&gt;&gt;) -&gt;
         %% OPTIMIZED: match context reused
    after_zero(T);
after_zero(&lt;&lt;&gt;&gt;) -&gt;
    &lt;&lt;&gt;&gt;.
</code></pre>

<p>The warning for the first clause says that the creation of a sub binary cannot be delayed, because it will be returned. The warning for the second clause says that a sub binary will not be created (yet).</p>
<h3 id="unused-variables">Unused Variables</h3>
<p>The compiler figures out if a variable is unused. The same code is generated for each of the following functions:</p>
<pre><code class="erl">
count1(&lt;&lt;_,T/binary&gt;&gt;, Count) -&gt; count1(T, Count+1);
count1(&lt;&lt;&gt;&gt;, Count) -&gt; Count.

count2(&lt;&lt;H,T/binary&gt;&gt;, Count) -&gt; count2(T, Count+1);
count2(&lt;&lt;&gt;&gt;, Count) -&gt; Count.

count3(&lt;&lt;_H,T/binary&gt;&gt;, Count) -&gt; count3(T, Count+1);
count3(&lt;&lt;&gt;&gt;, Count) -&gt; Count.
</code></pre>

<p>In each iteration, the first 8 bits in the binary will be skipped, not matched out.</p>
<h3 id="historical-note">Historical Note</h3>
<p>Binary handling was significantly improved in R12B. Because code that was efficient in R11B might not be efficient in R12B, and vice versa, earlier revisions of this Efficiency Guide contained some information about binary handling in R11B.</p>
<h3 id="creating-a-list">Creating a List</h3>
<p>Lists can only be built starting from the end and attaching list elements at the beginning. If you use the "
<em>++</em>
" operator as follows, a new list is created that is a copy of the elements in
<em>List1</em>
, followed by
<em>List2</em>
:</p>
<pre><code class="erl">
List1 ++ List2
</code></pre>

<p>Looking at how
<em>lists:append/1</em>
or
<em>++</em>
would be implemented in plain Erlang, clearly the first list is copied:</p>
<pre><code class="erl">
append([H|T], Tail) -&gt;
    [H|append(T, Tail)];
append([], Tail) -&gt;
    Tail.
</code></pre>

<p>When recursing and building a list, it is important to ensure that you attach the new elements to the beginning of the list. In this way, you will build
<strong>one</strong>
list, not hundreds or thousands of copies of the growing result list.</p>
<p>Let us first see how it is not to be done:</p>
<p><strong>DO NOT</strong></p>
<pre><code class="erl">
bad_fib(N) -&gt;
    bad_fib(N, 0, 1, []).

bad_fib(0, _Current, _Next, Fibs) -&gt;
    Fibs;
bad_fib(N, Current, Next, Fibs) -&gt; 
    bad_fib(N - 1, Next, Current + Next, Fibs ++ [Current]).
</code></pre>

<p>Here more than one list is built. In each iteration step a new list is created that is one element longer than the new previous list.</p>
<p>To avoid copying the result in each iteration, build the list in reverse order and reverse the list when you are done:</p>
<p><strong>DO</strong></p>
<pre><code class="erl">
tail_recursive_fib(N) -&gt;
    tail_recursive_fib(N, 0, 1, []).

tail_recursive_fib(0, _Current, _Next, Fibs) -&gt;
    lists:reverse(Fibs);
tail_recursive_fib(N, Current, Next, Fibs) -&gt; 
    tail_recursive_fib(N - 1, Next, Current + Next, [Current|Fibs]).
</code></pre>

<h3 id="list-comprehensions">List Comprehensions</h3>
<p>Lists comprehensions still have a reputation for being slow. They used to be implemented using funs, which used to be slow.</p>
<p>A list comprehension:</p>
<pre><code class="erl">
[Expr(E) || E &lt;- List]
</code></pre>

<p>is basically translated to a local function:</p>
<pre><code class="erl">
'lc^0'([E|Tail], Expr) -&gt;
    [Expr(E)|'lc^0'(Tail, Expr)];
'lc^0'([], _Expr) -&gt; [].
</code></pre>

<p>If the result of the list comprehension will
<strong>obviously</strong>
not be used, a list will not be constructed. For example, in this code:</p>
<pre><code class="erl">
[io:put_chars(E) || E &lt;- List],
ok.
</code></pre>

<p>or in this code:</p>
<pre><code class="erl">
...
case Var of
    ... -&gt;
        [io:put_chars(E) || E &lt;- List];
    ... -&gt;
end,
some_function(...),
...
</code></pre>

<p>the value is not assigned to a variable, not passed to another function, and not returned. This means that there is no need to construct a list and the compiler will simplify the code for the list comprehension to:</p>
<pre><code class="erl">
'lc^0'([E|Tail], Expr) -&gt;
    Expr(E),
    'lc^0'(Tail, Expr);
'lc^0'([], _Expr) -&gt; [].
</code></pre>

<p>The compiler also understands that assigning to '_' means that the value will not used. Therefore, the code in the following example will also be optimized:</p>
<pre><code class="erl">
_ = [io:put_chars(E) || E &lt;- List],
ok.
</code></pre>

<h3 id="deep-and-flat-lists">Deep and Flat Lists</h3>
<p><a href="../stdlib/lists#flatten/1">lists:flatten/1</a>
builds an entirely new list. It is therefore expensive, and even
<strong>more</strong>
expensive than the
<em>++</em>
operator (which copies its left argument, but not its right argument).</p>
<p>In the following situations, you can easily avoid calling
<em>lists:flatten/1</em>
:
*
When sending data to a port. Ports understand deep lists so there is no reason to flatten the list before sending it to the port.
*
When calling BIFs that accept deep lists, such as
<a href="../erts/erlang#list_to_binary/1">list_to_binary/1</a>
or
<a href="../erts/erlang#iolist_to_binary/1">iolist_to_binary/1</a>
.
*
When you know that your list is only one level deep, you can use
<a href="../stdlib/lists#append/1">lists:append/1</a>
.</p>
<h3 id="port-example">Port Example</h3>
<p><strong>DO</strong></p>
<pre><code>
      ...
      port_command(Port, DeepList)
      ...
</code></pre>

<p><strong>DO NOT</strong></p>
<pre><code>
      ...
      port_command(Port, lists:flatten(DeepList))
      ...
</code></pre>

<p>A common way to send a zero-terminated string to a port is the following:</p>
<p><strong>DO NOT</strong></p>
<pre><code>
      ...
      TerminatedStr = String ++ [0], % String=&quot;foo&quot; =&gt; [$f, $o, $o, 0]
      port_command(Port, TerminatedStr)
      ...
</code></pre>

<p>Instead:</p>
<p><strong>DO</strong></p>
<pre><code>
      ...
      TerminatedStr = [String, 0], % String=&quot;foo&quot; =&gt; [[$f, $o, $o], 0]
      port_command(Port, TerminatedStr) 
      ...
</code></pre>

<h3 id="append-example">Append Example</h3>
<p><strong>DO</strong></p>
<pre><code>
      &gt; lists:append([[1], [2], [3]]).
      [1,2,3]
      &gt;
</code></pre>

<p><strong>DO NOT</strong></p>
<pre><code>
      &gt; lists:flatten([[1], [2], [3]]).
      [1,2,3]
      &gt;
</code></pre>

<h3 id="recursive-list-functions">Recursive List Functions</h3>
<p>In section about myths, the following myth was exposed:
<a href="./myths#tail_recursive">Tail-Recursive Functions are Much Faster Than Recursive Functions</a>
.</p>
<p>There is usually not much difference between a body-recursive list function and tail-recursive function that reverses the list at the end. Therefore, concentrate on writing beautiful code and forget about the performance of your list functions. In the time-critical parts of your code (and only there),
<strong>measure</strong>
before rewriting your code.</p>
<div class="admonition info">
<p class="admonition-title">Note</p>
</div>
<p>This section is about list functions that
<strong>construct</strong>
lists. A tail-recursive function that does not construct a list runs in constant space, while the corresponding body-recursive function uses stack space proportional to the length of the list.</p>
<p>For example, a function that sums a list of integers, is
<strong>not</strong>
to be written as follows:</p>
<p><strong>DO NOT</strong></p>
<pre><code class="erl">
recursive_sum([H|T]) -&gt; H+recursive_sum(T);
recursive_sum([])    -&gt; 0.
</code></pre>

<p>Instead:</p>
<p><strong>DO</strong></p>
<pre><code class="erl">
sum(L) -&gt; sum(L, 0).

sum([H|T], Sum) -&gt; sum(T, Sum + H);
sum([], Sum)    -&gt; Sum.
</code></pre>

<h3 id="pattern-matching">Pattern Matching</h3>
<p>Pattern matching in function head as well as in
<em>case</em>
and
<em>receive</em>
clauses are optimized by the compiler. With a few exceptions, there is nothing to gain by rearranging clauses.</p>
<p>One exception is pattern matching of binaries. The compiler does not rearrange clauses that match binaries. Placing the clause that matches against the empty binary
<strong>last</strong>
is usually slightly faster than placing it
<strong>first</strong>
.</p>
<p>The following is a rather unnatural example to show another exception:</p>
<p><strong>DO NOT</strong></p>
<pre><code class="erl">
atom_map1(one) -&gt; 1;
atom_map1(two) -&gt; 2;
atom_map1(three) -&gt; 3;
atom_map1(Int) when is_integer(Int) -&gt; Int;
atom_map1(four) -&gt; 4;
atom_map1(five) -&gt; 5;
atom_map1(six) -&gt; 6.
</code></pre>

<p>The problem is the clause with the variable
<em>Int</em>
. As a variable can match anything, including the atoms
<em>four</em>
,
<em>five</em>
, and
<em>six</em>
, which the following clauses also match, the compiler must generate suboptimal code that executes as follows:
*
First, the input value is compared to
<em>one</em>
,
<em>two</em>
, and
<em>three</em>
(using a single instruction that does a binary search; thus, quite efficient even if there are many values) to select which one of the first three clauses to execute (if any).
*
If none of the first three clauses match, the fourth clause match as a variable always matches.
*
If the guard test
<em>is_integer(Int)</em>
succeeds, the fourth clause is executed.
*
If the guard test fails, the input value is compared to
<em>four</em>
,
<em>five</em>
, and
<em>six</em>
, and the appropriate clause is selected. (There is a
<em>function_clause</em>
exception if none of the values matched.)</p>
<p>Rewriting to either:</p>
<p><strong>DO</strong></p>
<pre><code class="erl">
atom_map2(one) -&gt; 1;
atom_map2(two) -&gt; 2;
atom_map2(three) -&gt; 3;
atom_map2(four) -&gt; 4;
atom_map2(five) -&gt; 5;
atom_map2(six) -&gt; 6;
atom_map2(Int) when is_integer(Int) -&gt; Int.
</code></pre>

<p>or:</p>
<p><strong>DO</strong></p>
<pre><code class="erl">
atom_map3(Int) when is_integer(Int) -&gt; Int;
atom_map3(one) -&gt; 1;
atom_map3(two) -&gt; 2;
atom_map3(three) -&gt; 3;
atom_map3(four) -&gt; 4;
atom_map3(five) -&gt; 5;
atom_map3(six) -&gt; 6.
</code></pre>

<p>gives slightly more efficient matching code.</p>
<p>Another example:</p>
<p><strong>DO NOT</strong></p>
<pre><code class="erl">
map_pairs1(_Map, [], Ys) -&gt;
    Ys;
map_pairs1(_Map, Xs, [] ) -&gt;
    Xs;
map_pairs1(Map, [X|Xs], [Y|Ys]) -&gt;
    [Map(X, Y)|map_pairs1(Map, Xs, Ys)].
</code></pre>

<p>The first argument is
<strong>not</strong>
a problem. It is variable, but it is a variable in all clauses. The problem is the variable in the second argument,
<em>Xs</em>
, in the middle clause. Because the variable can match anything, the compiler is not allowed to rearrange the clauses, but must generate code that matches them in the order written.</p>
<p>If the function is rewritten as follows, the compiler is free to rearrange the clauses:</p>
<p><strong>DO</strong></p>
<pre><code class="erl">
map_pairs2(_Map, [], Ys) -&gt;
    Ys;
map_pairs2(_Map, [_|_]=Xs, [] ) -&gt;
    Xs;
map_pairs2(Map, [X|Xs], [Y|Ys]) -&gt;
    [Map(X, Y)|map_pairs2(Map, Xs, Ys)].
</code></pre>

<p>The compiler will generate code similar to this:</p>
<p><strong>DO NOT (already done by the compiler)</strong></p>
<pre><code class="erl">
explicit_map_pairs(Map, Xs0, Ys0) -&gt;
    case Xs0 of
    [X|Xs] -&gt;
        case Ys0 of
        [Y|Ys] -&gt;
            [Map(X, Y)|explicit_map_pairs(Map, Xs, Ys)];
        [] -&gt;
            Xs0
        end;
    [] -&gt;
        Ys0
    end.
</code></pre>

<p>This is slightly faster for probably the most common case that the input lists are not empty or very short. (Another advantage is that Dialyzer can deduce a better type for the
<em>Xs</em>
variable.)</p>
<h3 id="function-calls">Function Calls</h3>
<p>This is an intentionally rough guide to the relative costs of different calls. It is based on benchmark figures run on Solaris/Sparc:
*
Calls to local or external functions (
<em>foo()</em>
,
<em>m:foo()</em>
) are the fastest calls.
*
Calling or applying a fun (
<em>Fun()</em>
,
<em>apply(Fun, [])</em>
) is about
<strong>three times</strong>
as expensive as calling a local function.
*
Applying an exported function (
<em>Mod:Name()</em>
,
<em>apply(Mod, Name, [])</em>
) is about twice as expensive as calling a fun or about
<strong>six times</strong>
as expensive as calling a local function.</p>
<h3 id="notes-and-implementation-details">Notes and Implementation Details</h3>
<p>Calling and applying a fun does not involve any hash-table lookup. A fun contains an (indirect) pointer to the function that implements the fun.</p>
<p><em>apply/3</em>
must look up the code for the function to execute in a hash table. It is therefore always slower than a direct call or a fun call.</p>
<p>It no longer matters (from a performance point of view) whether you write:</p>
<pre><code class="erl">
Module:Function(Arg1, Arg2)
</code></pre>

<p>or:</p>
<pre><code class="erl">
apply(Module, Function, [Arg1,Arg2])
</code></pre>

<p>The compiler internally rewrites the latter code into the former.</p>
<p>The following code is slightly slower because the shape of the list of arguments is unknown at compile time.</p>
<pre><code class="erl">
apply(Module, Function, Arguments)
</code></pre>

<h3 id="memory-usage-in-recursion">Memory Usage in Recursion</h3>
<p>When writing recursive functions, it is preferable to make them tail-recursive so that they can execute in constant memory space:</p>
<p><strong>DO</strong></p>
<pre><code>
list_length(List) -&gt;
    list_length(List, 0).

list_length([], AccLen) -&gt; 
    AccLen; % Base case

list_length([_|Tail], AccLen) -&gt;
    list_length(Tail, AccLen + 1). % Tail-recursive
</code></pre>

<p><strong>DO NOT</strong></p>
<pre><code>
list_length([]) -&gt;
    0. % Base case
list_length([_ | Tail]) -&gt;
    list_length(Tail) + 1. % Not tail-recursive
</code></pre>

<h3 id="ets-dets-and-mnesia">Ets, Dets, and Mnesia</h3>
<p>Every example using Ets has a corresponding example in Mnesia. In general, all Ets examples also apply to Dets tables.</p>
<h3 id="selectmatch-operations">Select/Match Operations</h3>
<p>Select/match operations on Ets and Mnesia tables can become very expensive operations. They usually need to scan the complete table. Try to structure the data to minimize the need for select/match operations. However, if you require a select/match operation, it is still more efficient than using
<em>tab2list</em>
. Examples of this and of how to avoid select/match are provided in the following sections. The functions
<em>ets:select/2</em>
and
<em>mnesia:select/3</em>
are to be preferred over
<em>ets:match/2</em>
,
<em>ets:match_object/2</em>
, and
<em>mnesia:match_object/3</em>
.</p>
<p>In some circumstances, the select/match operations do not need to scan the complete table. For example, if part of the key is bound when searching an
<em>ordered_set</em>
table, or if it is a Mnesia table and there is a secondary index on the field that is selected/matched. If the key is fully bound, there is no point in doing a select/match, unless you have a bag table and are only interested in a subset of the elements with the specific key.</p>
<p>When creating a record to be used in a select/match operation, you want most of the fields to have the value "_". The easiest and fastest way to do that is as follows:</p>
<pre><code>
#person{age = 42, _ = '_'}. 
</code></pre>

<h3 id="deleting-an-element">Deleting an Element</h3>
<p>The
<em>delete</em>
operation is considered successful if the element was not present in the table. Hence all attempts to check that the element is present in the Ets/Mnesia table before deletion are unnecessary. Here follows an example for Ets tables:</p>
<p><strong>DO</strong></p>
<pre><code>
...
ets:delete(Tab, Key),
...
</code></pre>

<p><strong>DO NOT</strong></p>
<pre><code>
...
case ets:lookup(Tab, Key) of
    [] -&gt;
        ok;
    [_|_] -&gt;
        ets:delete(Tab, Key)
end,
...
</code></pre>

<h3 id="fetching-data">Fetching Data</h3>
<p>Do not fetch data that you already have.</p>
<p>Consider that you have a module that handles the abstract data type
<em>Person</em>
. You export the interface function
<em>print_person/1</em>
, which uses the internal functions
<em>print_name/1</em>
,
<em>print_age/1</em>
, and
<em>print_occupation/1</em>
.</p>
<div class="admonition info">
<p class="admonition-title">Note</p>
</div>
<p>If the function
<em>print_name/1</em>
, and so on, had been interface functions, the situation would have been different, as you do not want the user of the interface to know about the internal data representation.</p>
<p><strong>DO</strong></p>
<pre><code class="erl">
%%% Interface function
print_person(PersonId) -&gt;
    %% Look up the person in the named table person,
    case ets:lookup(person, PersonId) of
        [Person] -&gt;
            print_name(Person),
            print_age(Person),
            print_occupation(Person);
        [] -&gt;
            io:format(&quot;No person with ID = ~p~n&quot;, [PersonID])
    end.

%%% Internal functions
print_name(Person) -&gt; 
    io:format(&quot;No person ~p~n&quot;, [Person#person.name]).

print_age(Person) -&gt; 
    io:format(&quot;No person ~p~n&quot;, [Person#person.age]).

print_occupation(Person) -&gt; 
    io:format(&quot;No person ~p~n&quot;, [Person#person.occupation]).
</code></pre>

<p><strong>DO NOT</strong></p>
<pre><code class="erl">
%%% Interface function
print_person(PersonId) -&gt;
    %% Look up the person in the named table person,
    case ets:lookup(person, PersonId) of
        [Person] -&gt;
            print_name(PersonID),
            print_age(PersonID),
            print_occupation(PersonID);
        [] -&gt;
            io:format(&quot;No person with ID = ~p~n&quot;, [PersonID])
    end.

%%% Internal functionss
print_name(PersonID) -&gt; 
    [Person] = ets:lookup(person, PersonId),
    io:format(&quot;No person ~p~n&quot;, [Person#person.name]).

print_age(PersonID) -&gt; 
    [Person] = ets:lookup(person, PersonId),
    io:format(&quot;No person ~p~n&quot;, [Person#person.age]).

print_occupation(PersonID) -&gt; 
    [Person] = ets:lookup(person, PersonId),
    io:format(&quot;No person ~p~n&quot;, [Person#person.occupation]).
</code></pre>

<h3 id="non-persistent-database-storage">Non-Persistent Database Storage</h3>
<p>For non-persistent database storage, prefer Ets tables over Mnesia
<em>local_content</em>
tables. Even the Mnesia
<em>dirty_write</em>
operations carry a fixed overhead compared to Ets writes. Mnesia must check if the table is replicated or has indices, this involves at least one Ets lookup for each
<em>dirty_write</em>
. Thus, Ets writes is always faster than Mnesia writes.</p>
<h3 id="tab2list">tab2list</h3>
<p>Assuming an Ets table that uses
<em>idno</em>
as key and contains the following:</p>
<pre><code>
[#person{idno = 1, name = &quot;Adam&quot;,  age = 31, occupation = &quot;mailman&quot;},
 #person{idno = 2, name = &quot;Bryan&quot;, age = 31, occupation = &quot;cashier&quot;},
 #person{idno = 3, name = &quot;Bryan&quot;, age = 35, occupation = &quot;banker&quot;},
 #person{idno = 4, name = &quot;Carl&quot;,  age = 25, occupation = &quot;mailman&quot;}]
</code></pre>

<p>If you
<strong>must</strong>
return all data stored in the Ets table, you can use
<em>ets:tab2list/1</em>
. However, usually you are only interested in a subset of the information in which case
<em>ets:tab2list/1</em>
is expensive. If you only want to extract one field from each record, for example, the age of every person, then:</p>
<p><strong>DO</strong></p>
<pre><code>
...
ets:select(Tab,[{ #person{idno='_', 
                          name='_', 
                          age='$1', 
                          occupation = '_'},
                [],
                ['$1']}]),
...
</code></pre>

<p><strong>DO NOT</strong></p>
<pre><code>
...
TabList = ets:tab2list(Tab),
lists:map(fun(X) -&gt; X#person.age end, TabList),
...
</code></pre>

<p>If you are only interested in the age of all persons named "Bryan", then:</p>
<p><strong>DO</strong></p>
<pre><code>
...
ets:select(Tab,[{ #person{idno='_', 
                          name=&quot;Bryan&quot;, 
                          age='$1', 
                          occupation = '_'},
                [],
                ['$1']}]),
...
</code></pre>

<p><strong>DO NOT</strong></p>
<pre><code>
...
TabList = ets:tab2list(Tab),
lists:foldl(fun(X, Acc) -&gt; case X#person.name of
                                &quot;Bryan&quot; -&gt;
                                    [X#person.age|Acc];
                                 _ -&gt;
                                     Acc
                           end
             end, [], TabList),
...
</code></pre>

<p><strong>REALLY DO NOT</strong></p>
<pre><code>
...
TabList = ets:tab2list(Tab),
BryanList = lists:filter(fun(X) -&gt; X#person.name == &quot;Bryan&quot; end,
                         TabList),
lists:map(fun(X) -&gt; X#person.age end, BryanList),
...
</code></pre>

<p>If you need all information stored in the Ets table about persons named "Bryan", then:</p>
<p><strong>DO</strong></p>
<pre><code>
...
ets:select(Tab, [{#person{idno='_', 
                          name=&quot;Bryan&quot;, 
                          age='_', 
                          occupation = '_'}, [], ['$_']}]),
...
</code></pre>

<p><strong>DO NOT</strong></p>
<pre><code>
...
TabList = ets:tab2list(Tab),
lists:filter(fun(X) -&gt; X#person.name == &quot;Bryan&quot; end, TabList),
...
</code></pre>

<h3 id="ordered_set-tables">Ordered_set Tables</h3>
<p>If the data in the table is to be accessed so that the order of the keys in the table is significant, the table type
<em>ordered_set</em>
can be used instead of the more usual
<em>set</em>
table type. An
<em>ordered_set</em>
is always traversed in Erlang term order regarding the key field so that the return values from functions such as
<em>select</em>
,
<em>match_object</em>
, and
<em>foldl</em>
are ordered by the key values. Traversing an
<em>ordered_set</em>
with the
<em>first</em>
and
<em>next</em>
operations also returns the keys ordered.</p>
<div class="admonition info">
<p class="admonition-title">Note</p>
</div>
<p>An
<em>ordered_set</em>
only guarantees that objects are processed in
<strong>key</strong>
order. Results from functions such as
<em>ets:select/2</em>
appear in
<strong>key</strong>
order even if the key is not included in the result.</p>
<h3 id="ets-specific">Ets-Specific</h3>
<h3 id="using-keys-of-ets-table">Using Keys of Ets Table</h3>
<p>An Ets table is a single-key table (either a hash table or a tree ordered by the key) and is to be used as one. In other words, use the key to look up things whenever possible. A lookup by a known key in a
<em>set</em>
Ets table is constant and for an
<em>ordered_set</em>
Ets table it is O(logN). A key lookup is always preferable to a call where the whole table has to be scanned. In the previous examples, the field
<em>idno</em>
is the key of the table and all lookups where only the name is known result in a complete scan of the (possibly large) table for a matching result.</p>
<p>A simple solution would be to use the
<em>name</em>
field as the key instead of the
<em>idno</em>
field, but that would cause problems if the names were not unique. A more general solution would be to create a second table with
<em>name</em>
as key and
<em>idno</em>
as data, that is, to index (invert) the table regarding the
<em>name</em>
field. Clearly, the second table would have to be kept consistent with the master table. Mnesia can do this for you, but a home brew index table can be very efficient compared to the overhead involved in using Mnesia.</p>
<p>An index table for the table in the previous examples would have to be a bag (as keys would appear more than once) and can have the following contents:</p>
<pre><code>
[#index_entry{name=&quot;Adam&quot;, idno=1},
 #index_entry{name=&quot;Bryan&quot;, idno=2},
 #index_entry{name=&quot;Bryan&quot;, idno=3},
 #index_entry{name=&quot;Carl&quot;, idno=4}]
</code></pre>

<p>Given this index table, a lookup of the
<em>age</em>
fields for all persons named "Bryan" can be done as follows:</p>
<pre><code>
...
MatchingIDs = ets:lookup(IndexTable,&quot;Bryan&quot;),
lists:map(fun(#index_entry{idno = ID}) -&gt;
                 [#person{age = Age}] = ets:lookup(PersonTable, ID),
                 Age
          end,
          MatchingIDs),
...
</code></pre>

<p>Notice that this code never uses
<em>ets:match/2</em>
but instead uses the
<em>ets:lookup/2</em>
call. The
<em>lists:map/2</em>
call is only used to traverse the
<em>idno</em>
s matching the name "Bryan" in the table; thus the number of lookups in the master table is minimized.</p>
<p>Keeping an index table introduces some overhead when inserting records in the table. The number of operations gained from the table must therefore be compared against the number of operations inserting objects in the table. However, notice that the gain is significant when the key can be used to lookup elements.</p>
<h3 id="mnesia-specific">Mnesia-Specific</h3>
<h3 id="secondary-index">Secondary Index</h3>
<p>If you frequently do a lookup on a field that is not the key of the table, you lose performance using "mnesia:select/match_object" as this function traverses the whole table. You can create a secondary index instead and use "mnesia:index_read" to get faster access, however this requires more memory.</p>
<p><strong>Example</strong></p>
<pre><code>
-record(person, {idno, name, age, occupation}).
        ...
{atomic, ok} = 
mnesia:create_table(person, [{index,[#person.age]},
                              {attributes,
                                    record_info(fields, person)}]),
{atomic, ok} = mnesia:add_table_index(person, age), 
...

PersonsAge42 =
     mnesia:dirty_index_read(person, 42, #person.age),
...
</code></pre>

<h3 id="transactions">Transactions</h3>
<p>Using transactions is a way to guarantee that the distributed Mnesia database remains consistent, even when many different processes update it in parallel. However, if you have real-time requirements it is recommended to use
<em>dirty</em>
operations instead of transactions. When using
<em>dirty</em>
operations, you lose the consistency guarantee; this is usually solved by only letting one process update the table. Other processes must send update requests to that process.</p>
<p><strong>Example</strong></p>
<pre><code>
...
% Using transaction

Fun = fun() -&gt;
          [mnesia:read({Table, Key}),
           mnesia:read({Table2, Key2})]
      end, 

{atomic, [Result1, Result2]}  = mnesia:transaction(Fun),
...

% Same thing using dirty operations
...

Result1 = mnesia:dirty_read({Table, Key}),
Result2 = mnesia:dirty_read({Table2, Key2}),
...
</code></pre>

<h3 id="creating-an-erlang-process">Creating an Erlang Process</h3>
<p>An Erlang process is lightweight compared to threads and processes in operating systems.</p>
<p>A newly spawned Erlang process uses 309 words of memory in the non-SMP emulator without HiPE support. (SMP support and HiPE support both add to this size.) The size can be found as follows:</p>
<pre><code>
Erlang (BEAM) emulator version 5.6 [async-threads:0] [kernel-poll:false]

Eshell V5.6  (abort with ^G)
1&gt; 
Fun = fun() -&gt; receive after infinity -&gt; ok end end. 
#Fun
&lt;...&gt;
2&gt;  {_,Bytes} = process_info(spawn(Fun), memory).

{memory,1232}
3&gt;  Bytes div erlang:system_info(wordsize). 
309
</code></pre>

<p>The size includes 233 words for the heap area (which includes the stack). The garbage collector increases the heap as needed.</p>
<p>The main (outer) loop for a process
<strong>must</strong>
be tail-recursive. Otherwise, the stack grows until the process terminates.</p>
<p><strong>DO NOT</strong></p>
<pre><code class="erl">
loop() -&gt; 
  receive
     {sys, Msg} -&gt;
         handle_sys_msg(Msg),
         loop();
     {From, Msg} -&gt;
          Reply = handle_msg(Msg),
          From ! Reply,
          loop()
  end,
  io:format(&quot;Message is processed~n&quot;, []).
</code></pre>

<p>The call to
<em>io:format/2</em>
will never be executed, but a return address will still be pushed to the stack each time
<em>loop/0</em>
is called recursively. The correct tail-recursive version of the function looks as follows:</p>
<p><strong>DO</strong></p>
<pre><code class="erl">
   loop() -&gt; 
      receive
         {sys, Msg} -&gt;
            handle_sys_msg(Msg),
            loop();
         {From, Msg} -&gt;
            Reply = handle_msg(Msg),
            From ! Reply,
            loop()
    end.
</code></pre>

<h3 id="initial-heap-size">Initial Heap Size</h3>
<p>The default initial heap size of 233 words is quite conservative to support Erlang systems with hundreds of thousands or even millions of processes. The garbage collector grows and shrinks the heap as needed.</p>
<p>In a system that use comparatively few processes, performance
<strong>might</strong>
be improved by increasing the minimum heap size using either the
<em>+h</em>
option for
<a href="./erl">erl</a>
or on a process-per-process basis using the
<em>min_heap_size</em>
option for
<a href="../erts/erlang#spawn_opt/4">spawn_opt/4</a>
.</p>
<p>The gain is twofold:
*
Although the garbage collector grows the heap, it grows it step-by-step, which is more costly than directly establishing a larger heap when the process is spawned.
*
The garbage collector can also shrink the heap if it is much larger than the amount of data stored on it; setting the minimum heap size prevents that.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
</div>
<p>The emulator probably uses more memory, and because garbage collections occur less frequently, huge binaries can be kept much longer.</p>
<p>In systems with many processes, computation tasks that run for a short time can be spawned off into a new process with a higher minimum heap size. When the process is done, it sends the result of the computation to another process and terminates. If the minimum heap size is calculated properly, the process might not have to do any garbage collections at all.
<strong>This optimization is not to be attempted without proper measurements.</strong></p>
<h3 id="process-messages">Process Messages</h3>
<p>All data in messages between Erlang processes is copied, except for
<a href="./binaryhandling#refc_binary">refc binaries</a>
on the same Erlang node.</p>
<p>When a message is sent to a process on another Erlang node, it is first encoded to the Erlang External Format before being sent through a TCP/IP socket. The receiving Erlang node decodes the message and distributes it to the correct process.</p>
<h3 id="constant-pool">Constant Pool</h3>
<p>Constant Erlang terms (also called
<strong>literals</strong>
) are kept in constant pools; each loaded module has its own pool. The following function does not build the tuple every time it is called (only to have it discarded the next time the garbage collector was run), but the tuple is located in the module's constant pool:</p>
<p><strong>DO</strong></p>
<pre><code class="erl">
days_in_month(M) -&gt;
    element(M, {31,28,31,30,31,30,31,31,30,31,30,31}).
</code></pre>

<p>But if a constant is sent to another process (or stored in an Ets table), it is
<strong>copied</strong>
. The reason is that the runtime system must be able to keep track of all references to constants to unload code containing constants properly. (When the code is unloaded, the constants are copied to the heap of the processes that refer to them.) The copying of constants might be eliminated in a future Erlang/OTP release.</p>
<h3 id="loss-of-sharing">Loss of Sharing</h3>
<p>Shared subterms are <strong>not</strong> preserved in the following cases:
* When a term is sent to another process
*
When a term is passed as the initial process arguments in the
<em>spawn</em>
call
* When a term is stored in an Ets table</p>
<p>That is an optimization. Most applications do not send messages with shared subterms.</p>
<p>The following example shows how a shared subterm can be created:</p>
<pre><code class="erl">
kilo_byte() -&gt;
    kilo_byte(10, [42]).

kilo_byte(0, Acc) -&gt;
    Acc;
kilo_byte(N, Acc) -&gt;
    kilo_byte(N-1, [Acc|Acc]).
</code></pre>

<p><em>kilo_byte/1</em>
creates a deep list. If
<em>list_to_binary/1</em>
is called, the deep list can be converted to a binary of 1024 bytes:</p>
<pre><code>
1&gt;  byte_size(list_to_binary(efficiency_guide:kilo_byte())).

1024
</code></pre>

<p>Using the
<em>erts_debug:size/1</em>
BIF, it can be seen that the deep list only requires 22 words of heap space:</p>
<pre><code>
2&gt;  erts_debug:size(efficiency_guide:kilo_byte()). 
22
</code></pre>

<p>Using the
<em>erts_debug:flat_size/1</em>
BIF, the size of the deep list can be calculated if sharing is ignored. It becomes the size of the list when it has been sent to another process or stored in an Ets table:</p>
<pre><code>
3&gt;  erts_debug:flat_size(efficiency_guide:kilo_byte()). 
4094
</code></pre>

<p>It can be verified that sharing will be lost if the data is inserted into an Ets table:</p>
<pre><code>
4&gt;  T = ets:new(tab, []). 
#Ref
&lt;0.1662103692.2407923716.214181&gt;
5&gt; 
ets:insert(T, {key,efficiency_guide:kilo_byte()}). 
true
6&gt; 
erts_debug:size(element(2, hd(ets:lookup(T, key)))). 
4094
7&gt; 
erts_debug:flat_size(element(2, hd(ets:lookup(T, key)))). 
4094
</code></pre>

<p>When the data has passed through an Ets table,
<em>erts_debug:size/1</em>
and
<em>erts_debug:flat_size/1</em>
return the same value. Sharing has been lost.</p>
<p>In a future Erlang/OTP release, it might be implemented a way to (optionally) preserve sharing.</p>
<h3 id="smp-emulator">SMP Emulator</h3>
<p>The SMP emulator (introduced in R11B) takes advantage of a multi-core or multi-CPU computer by running several Erlang scheduler threads (typically, the same as the number of cores). Each scheduler thread schedules Erlang processes in the same way as the Erlang scheduler in the non-SMP emulator.</p>
<p>To gain performance by using the SMP emulator, your application
<strong>must have more than one runnable Erlang process</strong>
most of the time. Otherwise, the Erlang emulator can still only run one Erlang process at the time, but you must still pay the overhead for locking. Although Erlang/OTP tries to reduce the locking overhead as much as possible, it will never become exactly zero.</p>
<p>Benchmarks that appear to be concurrent are often sequential. The estone benchmark, for example, is entirely sequential. So is the most common implementation of the "ring benchmark"; usually one process is active, while the others wait in a
<em>receive</em>
statement.</p>
<p>This section provides a brief overview on how to write efficient drivers.</p>
<p>It is assumed that you have a good understanding of drivers.</p>
<h3 id="drivers-and-concurrency">Drivers and Concurrency</h3>
<p>The runtime system always takes a lock before running any code in a driver.</p>
<p>By default, that lock is at the driver level, that is, if several ports have been opened to the same driver, only code for one port at the same time can be running.</p>
<p>A driver can be configured to have one lock for each port instead.</p>
<p>If a driver is used in a functional way (that is, holds no state, but only does some heavy calculation and returns a result), several ports with registered names can be opened beforehand, and the port to be used can be chosen based on the scheduler ID as follows:</p>
<pre><code>
-define(PORT_NAMES(),
    {some_driver_01, some_driver_02, some_driver_03, some_driver_04,
     some_driver_05, some_driver_06, some_driver_07, some_driver_08,
     some_driver_09, some_driver_10, some_driver_11, some_driver_12,
     some_driver_13, some_driver_14, some_driver_15, some_driver_16}).

client_port() -&gt;
    element(erlang:system_info(scheduler_id) rem tuple_size(?PORT_NAMES()) + 1,
        ?PORT_NAMES()).
</code></pre>

<p>As long as there are no more than 16 schedulers, there will never be any lock contention on the port lock for the driver.</p>
<h3 id="avoiding-copying-binaries-when-calling-a-driver">Avoiding Copying Binaries When Calling a Driver</h3>
<p>There are basically two ways to avoid copying a binary that is sent to a driver:
*</p>
<p>If the
<em>Data</em>
argument for
<a href="../erts/erlang#port_control/3">port_control/3</a>
is a binary, the driver will be passed a pointer to the contents of the binary and the binary will not be copied. If the
<em>Data</em>
argument is an iolist (list of binaries and lists), all binaries in the iolist will be copied.</p>
<p>Therefore, if you want to send both a pre-existing binary and some extra data to a driver without copying the binary, you must call
<em>port_control/3</em>
twice; once with the binary and once with the extra data. However, that will only work if there is only one process communicating with the port (because otherwise another process can call the driver in-between the calls).
*
Implement an
<em>outputv</em>
callback (instead of an
<em>output</em>
callback) in the driver. If a driver has an
<em>outputv</em>
callback, refc binaries passed in an iolist in the
<em>Data</em>
argument for
<a href="../erts/erlang#port_command/2">port_command/2</a>
will be passed as references to the driver.</p>
<h3 id="returning-small-binaries-from-a-driver">Returning Small Binaries from a Driver</h3>
<p>The runtime system can represent binaries up to 64 bytes as heap binaries. They are always copied when sent in messages, but they require less memory if they are not sent to another process and garbage collection is cheaper.</p>
<p>If you know that the binaries you return are always small, you are advised to use driver API calls that do not require a pre-allocated binary, for example,
<a href="../erts/erl_driver#driver_output">driver_output()</a>
or
<a href="../erts/erl_driver#erl_drv_output_term">erl_drv_output_term()</a>
, using the
<em>ERL_DRV_BUF2BINARY</em>
format, to allow the runtime to construct a heap binary.</p>
<h3 id="returning-large-binaries-without-copying-from-a-driver">Returning Large Binaries without Copying from a Driver</h3>
<p>To avoid copying data when a large binary is sent or returned from the driver to an Erlang process, the driver must first allocate the binary and then send it to an Erlang process in some way.</p>
<p>Use
<a href="../erts/erl_driver#driver_alloc_binary">driver_alloc_binary()</a>
to allocate a binary.</p>
<p>There are several ways to send a binary created with
<em>driver_alloc_binary()</em>
:
*
From the
<em>control</em>
callback, a binary can be returned if
<a href="../erts/erl_driver#set_port_control_flags">set_port_control_flags()</a>
has been called with the flag value
<em>PORT_CONTROL_FLAG_BINARY</em>
.
*
A single binary can be sent with
<a href="../erts/erl_driver#driver_output_binary">driver_output_binary()</a>
.
*
Using
<a href="../erts/erl_driver#erl_drv_output_term">erl_drv_output_term()</a>
or
<a href="../erts/erl_driver#erl_drv_send_term">erl_drv_send_term()</a>
, a binary can be included in an Erlang term.</p>
<h3 id="memory">Memory</h3>
<p>A good start when programming efficiently is to know how much memory different data types and operations require. It is implementation-dependent how much memory the Erlang data types and other items consume, but the following table shows some figures for the
<em>erts-8.0</em>
system in OTP 19.0.</p>
<p>The unit of measurement is memory words. There exists both a 32-bit and a 64-bit implementation. A word is therefore 4 bytes or 8 bytes, respectively.
TODO: TABLE</p>
<h3 id="system-limits">System Limits</h3>
<p>The Erlang language specification puts no limits on the number of processes, length of atoms, and so on. However, for performance and memory saving reasons, there will always be limits in a practical implementation of the Erlang language and execution environment.
TODO: TABLE</p>
<h3 id="do-not-guess-about-performance-profile">Do Not Guess About Performance - Profile</h3>
<p>Even experienced software developers often guess wrong about where the performance bottlenecks are in their programs. Therefore, profile your program to see where the performance bottlenecks are and concentrate on optimizing them.</p>
<p>Erlang/OTP contains several tools to help finding bottlenecks:
*
<a href="./fprof">tools/fprof</a>
provides the most detailed information about where the program time is spent, but it significantly slows down the program it profiles.
*</p>
<p><a href="./eprof">tools/eprof</a>
provides time information of each function used in the program. No call graph is produced, but
<em>eprof</em>
has considerable less impact on the program it profiles.</p>
<p>If the program is too large to be profiled by
<em>fprof</em>
or
<em>eprof</em>
,
<em>cprof</em>
can be used to locate code parts that are to be more thoroughly profiled using
<em>fprof</em>
or
<em>eprof</em>
.
*
<a href="./cprof">tools/cprof</a>
is the most lightweight tool, but it only provides execution counts on a function basis (for all processes, not per process).
*
<a href="./dbg">runtime_tools/dbg</a>
is the generic erlang tracing frontend. By using the
<em>timestamp</em>
or
<em>cpu_timestamp</em>
options it can be used to time how long function calls in a live system take.
*
<a href="./lcnt">tools/lcnt</a>
is used to find contention points in the Erlang Run-Time System's internal locking mechanisms. It is useful when looking for bottlenecks in interaction between process, port, ets tables and other entities that can be run in parallel.</p>
<p>The tools are further described in <a href="#profiling_tools">Tools</a> .</p>
<p>There are also several open source tools outside of Erlang/OTP that can be used to help profiling. Some of them are:
*
<a href="https://github.com/isacssouza/erlgrind">erlgrind</a>
can be used to visualize fprof data in kcachegrind.
*
<a href="https://github.com/proger/eflame">eflame</a>
is an alternative to fprof that displays the profiling output as a flamegraph.
*
<a href="https://ferd.github.io/recon/index.html">recon</a>
is a collection of Erlang profiling and debugging tools. This tool comes with an accompanying E-book called
<a href="https://www.erlang-in-anger.com/">Erlang in Anger</a>
.</p>
<h3 id="memory-profiling">Memory profiling</h3>
<pre><code>eheap_alloc: Cannot allocate 1234567890 bytes of memory (of type &quot;heap&quot;).
</code></pre>

<p>The above slogan is one of the more common reasons for Erlang to terminate. For unknown reasons the Erlang Run-Time System failed to allocate memory to use. When this happens a crash dump is generated that contains information about the state of the system as it ran out of memory. Use the
<a href="./cdv">observer/cdv</a>
to get a view of the memory is being used. Look for processes with large heaps or many messages, large ets tables, etc.</p>
<p>When looking at memory usage in a running system the most basic function to get information from is
<a href="../erts/erlang#memory/0">erts/erlang#memory/0</a>
. It returns the current memory usage of the system.
<a href="./instrument">tools/instrument</a>
can be used to get a more detailed breakdown of where memory is used.</p>
<p>Processes, ports and ets tables can then be inspecting using their respective info functions, i.e.
<a href="../erts/erlang#process_info_memory">erts/erlang#process_info_memory</a>
,
<a href="../erts/erlang#port_info_memory">erts/erlang#port_info_memory</a>
and
<a href="../stdlib/ets#info/1">stdlib/ets#info/1</a>
.</p>
<p>Sometimes the system can enter a state where the reported memory from
<em>erlang:memory(total)</em>
is very different from the memory reported by the OS. This can be because of internal fragmentation within the Erlang Run-Time System. Data about how memory is allocated can be retrieved using
<a href="../erts/erlang#system_info_allocator">erts/erlang#system_info_allocator</a>
. The data you get from that function is very raw and not very plesant to read.
<a href="http://ferd.github.io/recon/recon_alloc.html">recon_alloc</a>
can be used to extract useful information from system_info statistics counters.</p>
<h3 id="large-systems">Large Systems</h3>
<p>For a large system, it can be interesting to run profiling on a simulated and limited scenario to start with. But bottlenecks have a tendency to appear or cause problems only when many things are going on at the same time, and when many nodes are involved. Therefore, it is also desirable to run profiling in a system test plant on a real target system.</p>
<p>For a large system, you do not want to run the profiling tools on the whole system. Instead you want to concentrate on central processes and modules, which contribute for a big part of the execution.</p>
<p>There are also some tools that can be used to get a view of the whole system with more or less overhead.
*
<a href="./observer">observer/observer</a>
is a GUI tool that can connect to remote nodes and display a variety of information about the running system.
*
<a href="./etop">observer/etop</a>
is a command line tool that can connect to remote nodes and display information similar to what the UNIX tool top shows.
*
<a href="./msacc">runtime_tools/msacc</a>
allows the user to get a view of what the Erlang Run-Time system is spending its time doing. Has a very low overhead, which makes it useful to run in heavily loaded systems to get some idea of where to start doing more granular profiling.</p>
<h3 id="what-to-look-for">What to Look For</h3>
<p>When analyzing the result file from the profiling activity, look for functions that are called many times and have a long "own" execution time (time excluding calls to other functions). Functions that are called a lot of times can also be interesting, as even small things can add up to quite a bit if repeated often. Also ask yourself what you can do to reduce this time. The following are appropriate types of questions to ask yourself:
*
Is it possible to reduce the number of times the function is called?
*
Can any test be run less often if the order of tests is changed?
* Can any redundant tests be removed?
* Does any calculated expression give the same result each time?
*
Are there other ways to do this that are equivalent and more efficient?
*
Can another internal data representation be used to make things more efficient?</p>
<p>These questions are not always trivial to answer. Some benchmarks might be needed to back up your theory and to avoid making things slower if your theory is wrong. For details, see
<a href="#benchmark">Benchmarking</a>
.</p>
<h3 id="tools">Tools</h3>
<p><a name="profiling_tools">profiling_tools</a></p>
<h3 id="fprof">fprof</h3>
<p><em>fprof</em>
measures the execution time for each function, both own time, that is, how much time a function has used for its own execution, and accumulated time, that is, including called functions. The values are displayed per process. You also get to know how many times each function has been called.</p>
<p><em>fprof</em>
is based on trace to file to minimize runtime performance impact. Using
<em>fprof</em>
is just a matter of calling a few library functions, see the
<a href="./fprof">fprof</a>
manual page in Tools.</p>
<h3 id="eprof">eprof</h3>
<p><em>eprof</em>
is based on the Erlang
<em>trace_info</em>
BIFs.
<em>eprof</em>
shows how much time has been used by each process, and in which function calls this time has been spent. Time is shown as percentage of total time and absolute time. For more information, see the
<a href="./eprof">eprof</a>
manual page in Tools.</p>
<h3 id="cprof">cprof</h3>
<p><em>cprof</em>
is something in between
<em>fprof</em>
and
<em>cover</em>
regarding features. It counts how many times each function is called when the program is run, on a per module basis.
<em>cprof</em>
has a low performance degradation effect (compared with
<em>fprof</em>
) and does not need to recompile any modules to profile (compared with
<em>cover</em>
). For more information, see the
<a href="./cprof">cprof</a>
manual page in Tools.</p>
<h3 id="tool-summary">Tool Summary</h3>
<p>TODO: TABLE</p>
<h3 id="dbg">dbg</h3>
<p><em>dbg</em>
is a generic Erlang trace tool. By using the
<em>timestamp</em>
or
<em>cpu_timestamp</em>
options it can be used as a precision instrument to profile how long time a function call takes for a specific process. This can be very useful when trying to understand where time is spent in a heavily loaded system as it is possible to limit the scope of what is profiled to be very small. For more information, see the
<a href="./dbg">dbg</a>
manual page in Runtime Tools.</p>
<h3 id="lcnt">lcnt</h3>
<p><em>lcnt</em>
is used to profile interactions inbetween entities that run in parallel. For example if you have a process that all other processes in the system needs to interact with (maybe it has some global configuration), then
<em>lcnt</em>
can be used to figure out if the interaction with that process is a problem.</p>
<p>In the Erlang Run-time System entities are only run in parallel when there are multiple schedulers. Therefore
<em>lcnt</em>
will show more contention points (and thus be more useful) on systems using many schedulers on many cores.</p>
<p>For more information, see the
<a href="./lcnt">lcnt</a>
manual page in Tools.
<a name="benchmark">benchmark</a></p>
<h3 id="benchmarking">Benchmarking</h3>
<p>The main purpose of benchmarking is to find out which implementation of a given algorithm or function is the fastest. Benchmarking is far from an exact science. Today's operating systems generally run background tasks that are difficult to turn off. Caches and multiple CPU cores does not facilitate benchmarking. It would be best to run UNIX computers in single-user mode when benchmarking, but that is inconvenient to say the least for casual testing.</p>
<p>Benchmarks can measure wall-clock time or CPU time.
*
<a href="../stdlib/timer#tc/3">timer:tc/3</a>
measures wall-clock time. The advantage with wall-clock time is that I/O, swapping, and other activities in the operating system kernel are included in the measurements. The disadvantage is that the measurements vary a lot. Usually it is best to run the benchmark several times and note the shortest time, which is to be the minimum time that is possible to achieve under the best of circumstances.
*
<a href="../erts/erlang#statistics/1">statistics/1</a>
with argument
<em>runtime</em>
measures CPU time spent in the Erlang virtual machine. The advantage with CPU time is that the results are more consistent from run to run. The disadvantage is that the time spent in the operating system kernel (such as swapping and I/O) is not included. Therefore, measuring CPU time is misleading if any I/O (file or socket) is involved.</p>
<p>It is probably a good idea to do both wall-clock measurements and CPU time measurements.</p>
<p>Some final advice:
*
The granularity of both measurement types can be high. Therefore, ensure that each individual measurement lasts for at least several seconds.
*
To make the test fair, each new test run is to run in its own, newly created Erlang process. Otherwise, if all tests run in the same process, the later tests start out with larger heap sizes and therefore probably do fewer garbage collections. Also consider restarting the Erlang emulator between each test.
*
Do not assume that the fastest implementation of a given algorithm on computer architecture X is also the fastest on computer architecture Y.</p>
<p>We belive that the truth finally has caught with the following, retired myths.
<a name="retired_myths">retired_myths</a></p>
<h3 id="myth-funs-are-slow">Myth: Funs are Slow</h3>
<p>Funs used to be very slow, slower than
<em>apply/3</em>
. Originally, funs were implemented using nothing more than compiler trickery, ordinary tuples,
<em>apply/3</em>
, and a great deal of ingenuity.</p>
<p>But that is history. Funs was given its own data type in R6B and was further optimized in R7B. Now the cost for a fun call falls roughly between the cost for a call to a local function and
<em>apply/3</em>
.</p>
<h3 id="myth-list-comprehensions-are-slow">Myth: List Comprehensions are Slow</h3>
<p>List comprehensions used to be implemented using funs, and in the old days funs were indeed slow.</p>
<p>Nowadays, the compiler rewrites list comprehensions into an ordinary recursive function. Using a tail-recursive function with a reverse at the end would be still faster. Or would it? That leads us to the myth that tail-recursive functions are faster than body-recursive functions.</p>
<h3 id="myth-list-subtraction-operator-is-slow">Myth: List subtraction ("--" operator) is slow</h3>
<p>List subtraction used to have a run-time complexity proportional to the product of the length of its operands, so it was extremely slow when both lists were long.</p>
<p>As of OTP 22 the run-time complexity is "n log n" and the operation will complete quickly even when both lists are very long. In fact, it is faster and uses less memory than the commonly used workaround to convert both lists to ordered sets before subtracting them with
<em>ordsets:subtract/2</em>
.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../processes/" class="btn btn-neutral float-right" title="Processes">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../myths/" class="btn btn-neutral" title="The Seven Myths of Erlang Performance"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../myths/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../processes/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../search/main.js" defer></script>

</body>
</html>
