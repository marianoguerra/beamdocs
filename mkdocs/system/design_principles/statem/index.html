<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../../img/favicon.ico">
  <title>gen_statem Behavior - Erlang OTP</title>
  <link rel="stylesheet" href="../../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "gen_statem Behavior";
    var mkdocs_page_input_path = "system/design_principles/statem.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../../.." class="icon icon-home"> Erlang OTP</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../../..">Erlang/OTP</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Asn1</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../asn1/asn1_getting_started/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../asn1/asn1_introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../asn1/asn1_overview/">ASN.1</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../asn1/asn1_spec/">Specialized Decodes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../asn1/asn1ct/">asn1ct</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../asn1/notes/">asn1 Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Common test</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../common_test/basics_chapter/">Common Test Basics</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/common_test_app/">Common Test</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/config_file_chapter/">External Configuration Data</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/cover_chapter/">Code Coverage Analysis</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct/">ct</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_cover/">ct_cover</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_ftp/">ct_ftp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_hooks/">Common Test Hooks</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_hooks_chapter/">Common Test Hooks</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_master/">ct_master</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_master_chapter/">Using Common Test for Large-Scale Testing</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_netconfc/">ct_netconfc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_property_test/">ct_property_test</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_rpc/">ct_rpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_run/">The ct_run program</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_slave/">ct_slave</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_snmp/">ct_snmp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_ssh/">ct_ssh</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_telnet/">ct_telnet</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/ct_testspec/">ct_testspec</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/dependencies_chapter/">Dependencies between Test Cases and Suites</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/event_handler_chapter/">Event Handling</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/example_chapter/">Examples and Templates</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/getting_started_chapter/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/install_chapter/">Installation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/notes/">Common Test Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/run_test_chapter/">Running Tests and Analyzing Results</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/test_structure_chapter/">Test Structure</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/unix_telnet/">unix_telnet</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/why_test_chapter/">Some Thoughts about Testing</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../common_test/write_test_chapter/">Writing Test Suites</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Compiler</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../compiler/cerl/">cerl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../compiler/cerl_clauses/">cerl_clauses</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../compiler/cerl_trees/">cerl_trees</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../compiler/compile/">compile</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../compiler/internal/">Internal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../compiler/notes/">Compiler Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Crypto</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../crypto/algorithm_details/">Algorithm Details</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/crypto/">crypto</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/crypto_app/">crypto</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/engine_keys/">Engine Stored Keys</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/engine_load/">Engine Load</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/fips/">FIPS mode</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/licenses/">Licenses</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/new_api/">New and Old API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/notes/">Crypto Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../crypto/usersguide/">Crypto User's Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Debugger</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../debugger/debugger/">debugger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../debugger/debugger_chapter/">Debugger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../debugger/i/">i</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../debugger/int/">int</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../debugger/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../debugger/notes/">Debugger Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Dialyzer</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../dialyzer/dialyzer/">dialyzer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dialyzer/dialyzer_chapter/">Dialyzer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dialyzer/notes/">Dialyzer Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../dialyzer/typer/">typer</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Diameter</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../diameter/diameter_examples/">Examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../diameter/diameter_using/">Usage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../diameter/user_man/">Diameter Users Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Edoc</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../edoc/edoc/">edoc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../edoc/edoc_doclet/">edoc_doclet</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../edoc/edoc_extract/">edoc_extract</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../edoc/edoc_layout/">edoc_layout</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../edoc/edoc_lib/">edoc_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../edoc/edoc_run/">edoc_run</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../edoc/notes/">EDoc Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Eldap</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../eldap/eldap/">eldap</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../eldap/notes/">Eldap Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../eldap/usersguide/">Eldap User's Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Erl docgen</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../erl_docgen/block_tags/">Block Tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/character_entities/">Character Entities</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/doc-build/">How to Build OTP like documentation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/erl_docgen_app/">erl_docgen</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/header_tags/">Header Tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/inline_tags/">Inline Tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/notes/">Erl_Docgen Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/overview/">Overview OTP DTDs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/refman_dtds/">Reference Manual DTDs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_docgen/user_guide_dtds/">User's Guide DTDs</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Erl interface</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../erl_interface/ei/">ei</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/ei_connect/">ei_connect</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/ei_users_guide/">Erl_Interface User's Guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_call/">erl_call</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_connect/">erl_connect</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_error/">erl_error</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_eterm/">erl_eterm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_format/">erl_format</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_global/">erl_global</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_malloc/">erl_malloc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/erl_marshal/">erl_marshal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/notes/">Erl_interface Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erl_interface/registry/">registry</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Erts</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../erts/CarrierMigration/">Carrier Migration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/CodeLoading/">Non-Blocking Code Loading</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/CountingInstructions/">Counting Instructions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/DelayedDealloc/">Delayed Dealloc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/GarbageCollection/">Erlang Garbage Collector</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/PTables/">Process and Port Tables</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/PortSignals/">Port Signals</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/ProcessManagementOptimizations/">Process Management Optimizations</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/SuperCarrier/">Super Carrier</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/ThreadProgress/">Thread Progress</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/Tracing/">Non-blocking trace setting</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/absform/">The Abstract Format</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/alt_disco/">How to Implement an Alternative Service Discovery for Erlang Distribution</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/alt_dist/">How to Implement an Alternative Carrier for the Erlang Distribution</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/atomics/">atomics</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/beam_makeops/">The beam_makeops script</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/communication/">Communication in Erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/counters/">counters</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/crash_dump/">How to Interpret the Erlang Crash Dumps</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/driver/">How to Implement a Driver</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/driver_entry/">driver_entry</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/epmd/">epmd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl/">erl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl_dist_protocol/">Distribution Protocol</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl_driver/">erl_driver</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl_ext_dist/">External Term Format</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl_nif/">erl_nif</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl_prim_loader/">erl_prim_loader</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erl_tracer/">erl_tracer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erlang/">erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erlc/">erlc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erlsrv/">erlsrv</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/erts_alloc/">erts_alloc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/escript/">escript</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/inet_cfg/">Inet Configuration</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/init/">init</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/internal/">Internal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/match_spec/">Match Specifications in Erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/net/">net</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/notes/">ERTS Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/persistent_term/">persistent_term</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/run_erl/">run_erl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/socket/">socket</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/socket_usage/">Socket Usage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/start/">start</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/start_erl/">start_erl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/time_correction/">Time and Time Correction in Erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/tty/">tty - A Command-Line Interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/werl/">werl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../erts/zlib/">zlib</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Et</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../et/et/">et</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_collector/">et_collector</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_desc/">Description</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_examples/">Advanced examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_selector/">et_selector</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_tutorial/">Tutorial</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/et_viewer/">et_viewer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../et/notes/">Event Tracer (ET) Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Eunit</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../eunit/eunit/">eunit</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../eunit/eunit_surefire/">eunit_surefire</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../eunit/notes/">EUnit Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Ftp</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../ftp/ftp/">ftp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ftp/ftp_client/">FTP Client</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ftp/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ftp/notes/">FTP Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Hipe</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../hipe/hipe_app/">HiPE</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../hipe/notes/">HiPE Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Inets</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../inets/http_client/">HTTP Client</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/http_server/">HTTP server</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/http_uri/">http_uri</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/httpc/">httpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/httpd/">httpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/httpd_custom_api/">httpd_custom_api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/httpd_socket/">httpd_socket</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/httpd_util/">httpd_util</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/inets/">inets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/inets_services/">Inets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/mod_alias/">mod_alias</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/mod_auth/">mod_auth</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/mod_esi/">mod_esi</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/mod_security/">mod_security</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../inets/notes/">Inets Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Jinterface</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../jinterface/jinterface/">jinterface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../jinterface/jinterface_users_guide/">The Jinterface Package</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../jinterface/notes/">Jinterface Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Kernel</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../kernel/app/">app</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/application/">application</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/auth/">auth</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/code/">code</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/config/">config</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/disk_log/">disk_log</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/erl_boot_server/">erl_boot_server</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/erl_ddll/">erl_ddll</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/erl_epmd/">erl_epmd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/erl_prim_loader_stub/">erl_prim_loader</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/erlang_stub/">erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/error_handler/">error_handler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/error_logger/">error_logger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/file/">file</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/gen_sctp/">gen_sctp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/gen_tcp/">gen_tcp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/gen_udp/">gen_udp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/global/">global</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/global_group/">global_group</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/heart/">heart</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/inet/">inet</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/inet_res/">inet_res</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/init_stub/">init</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/introduction_chapter/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/kernel_app/">kernel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/logger/">logger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/logger_chapter/">Logging</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/logger_disk_log_h/">logger_disk_log_h</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/logger_filters/">logger_filters</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/logger_formatter/">logger_formatter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/logger_std_h/">logger_std_h</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/net_adm/">net_adm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/net_kernel/">net_kernel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/notes/">Kernel Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/os/">os</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/pg2/">pg2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/rpc/">rpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/seq_trace/">seq_trace</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/user/">user</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/wrap_log_reader/">wrap_log_reader</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../kernel/zlib_stub/">zlib</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Megaco</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../megaco/megaco/">megaco</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_architecture/">Architecture</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_codec_meas/">megaco_codec_meas</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_codec_mstone1/">megaco_codec_mstone1</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_codec_mstone2/">megaco_codec_mstone2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_codec_transform/">megaco_codec_transform</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_debug/">Testing and tools</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_edist_compress/">megaco_encoder</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_encode/">Internal form and its encodings</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_encoder/">megaco_encoder</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_examples/">Implementation examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_flex_scanner/">megaco_flex_scanner</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_mib/">Megaco mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_performance/">Performance comparison</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_run/">Running the stack</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_tcp/">megaco_tcp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_transport/">megaco_transport</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_transport_mechanisms/">Transport mechanisms</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_udp/">megaco_udp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/megaco_user/">megaco_user</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../megaco/notes/">Megaco Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Mnesia</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_App_A/">Appendix A: Backup Callback Interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_App_B/">Appendix B: Activity Access Callback Interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_App_C/">Appendix C: Fragmented Table Hashing Callback Interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap1/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap2/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap3/">Build a Mnesia Database</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap4/">Transactions and Other Access Contexts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap5/">Miscellaneous Mnesia Features</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap7/">Mnesia System Information</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_chap8/">Combine Mnesia with SNMP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/Mnesia_overview/">Mnesia</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/mnesia/">mnesia</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/mnesia_frag_hash/">mnesia_frag_hash</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/mnesia_registry/">mnesia_registry</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../mnesia/notes/">Mnesia Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Observer</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../observer/cdv/">The cdv program</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/crashdump/">crashdump_viewer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/crashdump_ug/">Crashdump Viewer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/etop/">etop</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/etop_ug/">Erlang Top</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/introduction_ug/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/notes/">Observer Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/observer/">Observer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/observer_app/">Observer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/observer_ug/">Observer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/ttb/">ttb</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../observer/ttb_ug/">Trace Tool Builder</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Os mon</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../os_mon/cpu_sup/">cpu_sup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../os_mon/disksup/">disksup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../os_mon/memsup/">memsup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../os_mon/notes/">OS_Mon Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../os_mon/nteventlog/">nteventlog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../os_mon/os_mon_app/">os_mon</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../os_mon/os_sup/">os_sup</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Parsetools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../parsetools/leex/">leex</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../parsetools/notes/">Parsetools Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../parsetools/yecc/">yecc</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Public key</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../public_key/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../public_key/notes/">public_key Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../public_key/public_key/">public_key</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../public_key/public_key_app/">public_key</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../public_key/public_key_records/">Public-Key Records</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../public_key/using_public_key/">Getting Started</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Reltool</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../reltool/notes/">Reltool Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../reltool/reltool/">reltool</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../reltool/reltool_examples/">Examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../reltool/reltool_intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../reltool/reltool_usage/">Usage</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Runtime tools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../runtime_tools/DTRACE/">DTrace and Erlang/OTP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/LTTng/">LTTng and Erlang/OTP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/SYSTEMTAP/">SystemTap and Erlang/OTP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/dbg/">dbg</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/dyntrace/">dyntrace</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/erts_alloc_config/">erts_alloc_config</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/msacc/">Microstate Accounting</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/notes/">Runtime_Tools Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/runtime_tools_app/">runtime_tools</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/scheduler/">Scheduler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../runtime_tools/system_information/">System information</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Sasl</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../sasl/alarm_handler/">alarm_handler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/appup/">appup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/error_logging/">SASL Error Logging</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/notes/">SASL Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/rb/">rb</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/rel/">rel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/release_handler/">release_handler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/relup/">relup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/sasl_app/">sasl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/sasl_intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/script/">script</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../sasl/systools/">systools</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Snmp</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../snmp/notes/">SNMP Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp/">snmp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_advanced_agent/">Advanced Agent Topics</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_agent_config_files/">Definition of Agent Configuration Files</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_agent_funct_descr/">Agent Functional Description</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_agent_netif/">Definition of Agent Net if</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_app/">snmp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_app_a/">SNMP Appendix A</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_app_b/">SNMP Appendix B</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_audit_trail_log/">Audit Trail Log</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_community_mib/">snmp_community_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_config/">Running the application</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_def_instr_functions/">Definition of Instrumentation Functions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_framework_mib/">snmp_framework_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_generic/">snmp_generic</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_impl_example_agent/">Agent Implementation Example</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_impl_example_manager/">Manager Implementation Example</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_index/">snmp_index</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_instr_functions/">Instrumentation Functions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_intro/">SNMP Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_manager_config_files/">Definition of Manager Configuration Files</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_manager_funct_descr/">Manager Functional Description</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_manager_netif/">Definition of Manager Net if</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_mib_compiler/">The MIB Compiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_notification_mib/">snmp_notification_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_pdus/">snmp_pdus</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_standard_mib/">snmp_standard_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_target_mib/">snmp_target_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_user_based_sm_mib/">snmp_user_based_sm_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmp_view_based_acm_mib/">snmp_view_based_acm_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa/">snmpa</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_conf/">snmpa_conf</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_discovery_handler/">snmpa_discovery_handler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_error/">snmpa_error</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_error_io/">snmpa_error_io</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_error_logger/">snmpa_error_logger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_error_report/">snmpa_error_report</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_local_db/">snmpa_local_db</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_mib_data/">snmpa_mib_data</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_mib_storage/">snmpa_mib_storage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_mpd/">snmpa_mpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_network_interface/">snmpa_network_interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_network_interface_filter/">snmpa_network_interface_filter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_notification_delivery_info_receiver/">snmpa_notification_delivery_info_receiver</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_notification_filter/">snmpa_notification_filter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpa_supervisor/">snmpa_supervisor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpc/">snmpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpc_cmd/">snmpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpm/">snmpm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpm_conf/">snmpm_conf</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpm_mpd/">snmpm_mpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpm_network_interface/">snmpm_network_interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpm_network_interface_filter/">snmpm_network_interface_filter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../snmp/snmpm_user/">snmpm_user</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Ssh</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../ssh/configure_algos/">Configuring algorithms in SSH</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/notes/">SSH Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh/">ssh</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_app/">SSH</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_client_channel/">ssh_client_channel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_client_key_api/">ssh_client_key_api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_connection/">ssh_connection</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_file/">ssh_file</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_server_channel/">ssh_server_channel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_server_key_api/">ssh_server_key_api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_sftp/">ssh_sftp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/ssh_sftpd/">ssh_sftpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/terminology/">Terminology</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/usersguide/">SSH User's Guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssh/using_ssh/">Getting Started</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Ssl</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../ssl/notes/">SSL Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/refman/">SSL Reference Manual</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl/">ssl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_app/">ssl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_crl_cache/">ssl_crl_cache</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_crl_cache_api/">ssl_crl_cache_api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_distribution/">Using TLS for Erlang Distribution</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_protocol/">TLS/DTLS and TLS Predecessor, SSL</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/ssl_session_cache_api/">ssl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/standards_compliance/">Standards Compliance</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/usersguide/">SSL User's Guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../ssl/using_ssl/">Using SSL application API</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Stdlib</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../stdlib/array/">array</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/assert_hrl/">assert.hrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/base64/">base64</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/beam_lib/">beam_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/binary/">binary</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/c/">c</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/calendar/">calendar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/dets/">dets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/dict/">dict</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/digraph/">digraph</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/digraph_utils/">digraph_utils</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/epp/">epp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_anno/">erl_anno</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_eval/">erl_eval</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_expand_records/">erl_expand_records</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_id_trans/">erl_id_trans</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_internal/">erl_internal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_lint/">erl_lint</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_parse/">erl_parse</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_pp/">erl_pp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_scan/">erl_scan</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/erl_tar/">erl_tar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/ets/">ets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/file_sorter/">file_sorter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/filelib/">filelib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/filename/">filename</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/gb_sets/">gb_sets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/gb_trees/">gb_trees</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/gen_event/">gen_event</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/gen_fsm/">gen_fsm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/gen_server/">gen_server</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/gen_statem/">gen_statem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/io/">io</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/io_lib/">io_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/io_protocol/">The Erlang I/O Protocol</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/lists/">lists</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/log_mf_h/">log_mf_h</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/maps/">maps</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/math/">math</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/ms_transform/">ms_transform</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/notes/">STDLIB Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/orddict/">orddict</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/ordsets/">ordsets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/pool/">pool</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/proc_lib/">proc_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/proplists/">proplists</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/qlc/">qlc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/queue/">queue</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/rand/">rand</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/random/">random</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/re/">re</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/sets/">sets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/shell/">shell</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/shell_default/">shell_default</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/slave/">slave</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/sofs/">sofs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/stdlib_app/">STDLIB</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/string/">string</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/supervisor/">supervisor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/supervisor_bridge/">supervisor_bridge</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/sys/">sys</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/timer/">timer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/unicode/">unicode</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/unicode_usage/">Using Unicode in Erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/uri_string/">uri_string</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/win32reg/">win32reg</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../stdlib/zip/">zip</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Syntax tools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../syntax_tools/epp_dodger/">epp_dodger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/erl_comment_scan/">erl_comment_scan</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/erl_prettypr/">erl_prettypr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/erl_recomment/">erl_recomment</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/erl_syntax/">erl_syntax</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/erl_syntax_lib/">erl_syntax_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/erl_tidy/">erl_tidy</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/igor/">igor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/merl/">merl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/merl_transform/">merl_transform</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/notes/">Syntax_Tools Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../syntax_tools/prettypr/">prettypr</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">System</span>
    <ul class="subnav">
                <li class=" current">
                    
    <span class="caption-text">Design principles</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../applications/">Applications</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../appup_cookbook/">Appup Cookbook</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../book/">OTP Design Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../des_princ/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../distributed_applications/">Distributed Applications</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../events/">gen_event Behaviour</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../gen_server_concepts/">gen_server Behaviour</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../included_applications/">Included Applications</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../part/">OTP Design Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../release_handling/">Release Handling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../release_structure/">Releases</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../spec_proc/">sys and proc_lib</a>
                </li>
                <li class="toctree-l3 current">
                    
    <a class="current" href="./">gen_statem Behavior</a>
    <ul class="subnav">
            
    <li class="toctree-l4"><a href="#gen_statem-behavior">gen_statem Behavior</a></li>
    
        <ul>
        
            <li><a class="toctree-l5" href="#event-driven-state-machines">Event-Driven State Machines</a></li>
        
            <li><a class="toctree-l5" href="#when-to-use-gen_statem">When to use gen_statem</a></li>
        
            <li><a class="toctree-l5" href="#callback-module">Callback Module</a></li>
        
            <li><a class="toctree-l5" href="#callback-modes">Callback Modes</a></li>
        
            <li><a class="toctree-l5" href="#choosing-the-callback-mode">Choosing the Callback Mode</a></li>
        
            <li><a class="toctree-l5" href="#state-callback">State Callback</a></li>
        
            <li><a class="toctree-l5" href="#the-first-state">The First State</a></li>
        
            <li><a class="toctree-l5" href="#transition-actions">Transition Actions</a></li>
        
            <li><a class="toctree-l5" href="#event-types">Event Types</a></li>
        
            <li><a class="toctree-l5" href="#state-enter-calls">State Enter Calls</a></li>
        
            <li><a class="toctree-l5" href="#time-outs">Time-outs</a></li>
        
            <li><a class="toctree-l5" href="#cancelling-a-time-out">Cancelling a Time-Out</a></li>
        
            <li><a class="toctree-l5" href="#time-out-zero">Time-Out Zero</a></li>
        
            <li><a class="toctree-l5" href="#example">Example</a></li>
        
            <li><a class="toctree-l5" href="#starting-gen_statem">Starting gen_statem</a></li>
        
            <li><a class="toctree-l5" href="#handling-events">Handling Events</a></li>
        
            <li><a class="toctree-l5" href="#state-time-outs">State Time-Outs</a></li>
        
            <li><a class="toctree-l5" href="#all-state-events">All State Events</a></li>
        
            <li><a class="toctree-l5" href="#one-state-callback">One State Callback</a></li>
        
            <li><a class="toctree-l5" href="#stopping">Stopping</a></li>
        
            <li><a class="toctree-l5" href="#in-a-supervision-tree">In a Supervision Tree</a></li>
        
            <li><a class="toctree-l5" href="#standalone-gen_statem">Standalone gen_statem</a></li>
        
            <li><a class="toctree-l5" href="#event-time-outs">Event Time-Outs</a></li>
        
            <li><a class="toctree-l5" href="#generic-time-outs">Generic Time-Outs</a></li>
        
            <li><a class="toctree-l5" href="#erlang-timers">Erlang Timers</a></li>
        
            <li><a class="toctree-l5" href="#postponing-events">Postponing Events</a></li>
        
            <li><a class="toctree-l5" href="#fuzzy-state-diagrams">Fuzzy State Diagrams</a></li>
        
            <li><a class="toctree-l5" href="#selective-receive">Selective Receive</a></li>
        
            <li><a class="toctree-l5" href="#state-enter-actions">State Enter Actions</a></li>
        
            <li><a class="toctree-l5" href="#inserted-events">Inserted Events</a></li>
        
            <li><a class="toctree-l5" href="#example-revisited">Example Revisited</a></li>
        
            <li><a class="toctree-l5" href="#callback-mode-state_functions">Callback Mode: state_functions</a></li>
        
            <li><a class="toctree-l5" href="#callback-mode-handle_event_function">Callback Mode: handle_event_function</a></li>
        
            <li><a class="toctree-l5" href="#filter-the-state">Filter the State</a></li>
        
            <li><a class="toctree-l5" href="#complex-state">Complex State</a></li>
        
            <li><a class="toctree-l5" href="#hibernation">Hibernation</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../sup_princ/">Supervisor Behaviour</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Efficiency guide</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/advanced/">Advanced</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/binaryhandling/">Constructing and Matching Binaries</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/book/">Efficiency Guide</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/commoncaveats/">Common Caveats</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/drivers/">Drivers</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/functions/">Functions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/introduction/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/listhandling/">List Handling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/myths/">The Seven Myths of Erlang Performance</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/part/">Efficiency Guide</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/processes/">Processes</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/profiling/">Profiling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/retired_myths/">Retired Myths</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../efficiency_guide/tablesDatabases/">Tables and Databases</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Embedded</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../embedded/book/">Embedded Systems</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../embedded/embedded_nt/">Windows NT</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../embedded/embedded_solaris/">Embedded Solaris</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../embedded/part/">Embedded Systems User's Guide</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">General info</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../general_info/book/">General Information</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../general_info/deprecations/">Deprecations</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../general_info/part/">General Information</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../general_info/scheduled_for_removal/">Scheduled for Removal</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Getting started</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/book/">Getting Started with Erlang</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/conc_prog/">Concurrent Programming</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/intro/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/part/">Getting Started With Erlang</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/records_macros/">Records and Macros</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/robustness/">Robustness</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../getting_started/seq_prog/">Sequential Programming</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Installation guide</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/INSTALL-CROSS/">Cross Compiling Erlang/OTP</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/INSTALL-WIN32/">How to Build Erlang/OTP on Windows</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/INSTALL/">Building and Installing Erlang/OTP</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/OTP-PATCH-APPLY/">Patching OTP Applications</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/book/">Installation Guide</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/install-binary/">Installing the Binary Release</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../installation_guide/part/">Installation Guide</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Oam</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../oam/book/">OAM Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../oam/oam_intro/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../oam/part/">OAM Principles</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Programming examples</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../programming_examples/bit_syntax/">Bit Syntax</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../programming_examples/book/">Programming Examples</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../programming_examples/funs/">Funs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../programming_examples/list_comprehensions/">List Comprehensions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../programming_examples/part/">Programming Examples</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../programming_examples/records/">Records</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Reference manual</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/book/">Erlang Reference Manual</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/character_set/">Character Set and Source File Encoding</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/code_loading/">Compilation and Code Loading</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/data_types/">Data Types</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/distributed/">Distributed Erlang</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/errors/">Errors and Error Handling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/expressions/">Expressions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/functions/">Functions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/introduction/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/macros/">Preprocessor</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/modules/">Modules</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/part/">Erlang Reference Manual</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/patterns/">Pattern Matching</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/ports/">Ports and Port Drivers</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/processes/">Processes</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/records/">Records</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../reference_manual/typespec/">Types and Function Specifications</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">System architecture intro</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system_architecture_intro/book/">System Architecture</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_architecture_intro/part/">Introduction to the System Architecture</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_architecture_intro/sys_arch_intro/">Introduction</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">System principles</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/book/">System Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/create_target/">Creating and Upgrading a Target System</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/error_logging/">Error Logging</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/misc/">Support, Compatibility, Deprecations, and Removal</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/part/">System Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/system_principles/">System Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/upgrade/">Upgrade when Erlang/OTP has Changed</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system_principles/versions/">Versions</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Tutorial</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/book/">Interoperability Tutorial</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/c_port/">Ports</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/c_portdriver/">Port Drivers</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/cnode/">C Nodes</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/erl_interface/">Erl_Interface</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/example/">Problem Example</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/introduction/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/nif/">NIFs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/overview/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../tutorial/part/">Interoperability Tutorial</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tftp</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../tftp/getting_started/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tftp/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tftp/notes/">TFTP Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tftp/tftp/">tftp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tftp/usersguide/">TFTP User's Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../tools/cover/">cover</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/cover_chapter/">cover</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/cprof/">cprof</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/cprof_chapter/">cprof - The Call Count Profiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/eprof/">eprof</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/erlang_mode/">Erlang mode for Emacs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/erlang_mode_chapter/">The Erlang mode for Emacs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/fprof/">fprof</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/fprof_chapter/">fprof - The File Trace Profiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/instrument/">instrument</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/lcnt/">lcnt</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/lcnt_chapter/">lcnt - The Lock Profiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/make/">make</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/notes/">Tools Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/tags/">tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/xref/">xref</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../tools/xref_chapter/">Xref - The Cross Reference Tool</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Wx</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../wx/glu/">glu</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/notes/">wxErlang Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wx/">wx</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAcceleratorEntry/">wxAcceleratorEntry</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAcceleratorTable/">wxAcceleratorTable</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxActivateEvent/">wxActivateEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxArtProvider/">wxArtProvider</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiDockArt/">wxAuiDockArt</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiManager/">wxAuiManager</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiManagerEvent/">wxAuiManagerEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiNotebook/">wxAuiNotebook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiNotebookEvent/">wxAuiNotebookEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiPaneInfo/">wxAuiPaneInfo</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiSimpleTabArt/">wxAuiSimpleTabArt</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxAuiTabArt/">wxAuiTabArt</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBitmap/">wxBitmap</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBitmapButton/">wxBitmapButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBitmapDataObject/">wxBitmapDataObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBoxSizer/">wxBoxSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBrush/">wxBrush</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBufferedDC/">wxBufferedDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxBufferedPaintDC/">wxBufferedPaintDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxButton/">wxButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCalendarCtrl/">wxCalendarCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCalendarDateAttr/">wxCalendarDateAttr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCalendarEvent/">wxCalendarEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCaret/">wxCaret</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCheckBox/">wxCheckBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCheckListBox/">wxCheckListBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxChildFocusEvent/">wxChildFocusEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxChoice/">wxChoice</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxChoicebook/">wxChoicebook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxClientDC/">wxClientDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxClipboard/">wxClipboard</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxClipboardTextEvent/">wxClipboardTextEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCloseEvent/">wxCloseEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxColourData/">wxColourData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxColourDialog/">wxColourDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxColourPickerCtrl/">wxColourPickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxColourPickerEvent/">wxColourPickerEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxComboBox/">wxComboBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCommandEvent/">wxCommandEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxContextMenuEvent/">wxContextMenuEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxControl/">wxControl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxControlWithItems/">wxControlWithItems</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxCursor/">wxCursor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDC/">wxDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDCOverlay/">wxDCOverlay</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDataObject/">wxDataObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDateEvent/">wxDateEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDatePickerCtrl/">wxDatePickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDialog/">wxDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDirDialog/">wxDirDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDirPickerCtrl/">wxDirPickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDisplay/">wxDisplay</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDisplayChangedEvent/">wxDisplayChangedEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxDropFilesEvent/">wxDropFilesEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxEraseEvent/">wxEraseEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxEvent/">wxEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxEvtHandler/">wxEvtHandler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFileDataObject/">wxFileDataObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFileDialog/">wxFileDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFileDirPickerEvent/">wxFileDirPickerEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFilePickerCtrl/">wxFilePickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFindReplaceData/">wxFindReplaceData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFindReplaceDialog/">wxFindReplaceDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFlexGridSizer/">wxFlexGridSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFocusEvent/">wxFocusEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFont/">wxFont</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFontData/">wxFontData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFontDialog/">wxFontDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFontPickerCtrl/">wxFontPickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFontPickerEvent/">wxFontPickerEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxFrame/">wxFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGBSizerItem/">wxGBSizerItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGCDC/">wxGCDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGLCanvas/">wxGLCanvas</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGauge/">wxGauge</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGenericDirCtrl/">wxGenericDirCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsBrush/">wxGraphicsBrush</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsContext/">wxGraphicsContext</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsFont/">wxGraphicsFont</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsMatrix/">wxGraphicsMatrix</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsObject/">wxGraphicsObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsPath/">wxGraphicsPath</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsPen/">wxGraphicsPen</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGraphicsRenderer/">wxGraphicsRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGrid/">wxGrid</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridBagSizer/">wxGridBagSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellAttr/">wxGridCellAttr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellBoolEditor/">wxGridCellBoolEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellBoolRenderer/">wxGridCellBoolRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellChoiceEditor/">wxGridCellChoiceEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellEditor/">wxGridCellEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellFloatEditor/">wxGridCellFloatEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellFloatRenderer/">wxGridCellFloatRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellNumberEditor/">wxGridCellNumberEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellNumberRenderer/">wxGridCellNumberRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellRenderer/">wxGridCellRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellStringRenderer/">wxGridCellStringRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridCellTextEditor/">wxGridCellTextEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridEvent/">wxGridEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxGridSizer/">wxGridSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxHelpEvent/">wxHelpEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxHtmlEasyPrinting/">wxHtmlEasyPrinting</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxHtmlLinkEvent/">wxHtmlLinkEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxHtmlWindow/">wxHtmlWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxIcon/">wxIcon</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxIconBundle/">wxIconBundle</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxIconizeEvent/">wxIconizeEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxIdleEvent/">wxIdleEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxImage/">wxImage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxImageList/">wxImageList</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxInitDialogEvent/">wxInitDialogEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxJoystickEvent/">wxJoystickEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxKeyEvent/">wxKeyEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxLayoutAlgorithm/">wxLayoutAlgorithm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListBox/">wxListBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListCtrl/">wxListCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListEvent/">wxListEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListItem/">wxListItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListItemAttr/">wxListItemAttr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListView/">wxListView</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxListbook/">wxListbook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxLocale/">wxLocale</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxLogNull/">wxLogNull</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMDIChildFrame/">wxMDIChildFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMDIClientWindow/">wxMDIClientWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMDIParentFrame/">wxMDIParentFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMask/">wxMask</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMaximizeEvent/">wxMaximizeEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMemoryDC/">wxMemoryDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMenu/">wxMenu</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMenuBar/">wxMenuBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMenuEvent/">wxMenuEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMenuItem/">wxMenuItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMessageDialog/">wxMessageDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMiniFrame/">wxMiniFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMirrorDC/">wxMirrorDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMouseCaptureChangedEvent/">wxMouseCaptureChangedEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMouseCaptureLostEvent/">wxMouseCaptureLostEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMouseEvent/">wxMouseEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMoveEvent/">wxMoveEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxMultiChoiceDialog/">wxMultiChoiceDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxNavigationKeyEvent/">wxNavigationKeyEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxNotebook/">wxNotebook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxNotebookEvent/">wxNotebookEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxNotifyEvent/">wxNotifyEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxOverlay/">wxOverlay</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPageSetupDialog/">wxPageSetupDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPageSetupDialogData/">wxPageSetupDialogData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPaintDC/">wxPaintDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPaintEvent/">wxPaintEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPalette/">wxPalette</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPaletteChangedEvent/">wxPaletteChangedEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPanel/">wxPanel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPasswordEntryDialog/">wxPasswordEntryDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPen/">wxPen</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPickerBase/">wxPickerBase</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPopupTransientWindow/">wxPopupTransientWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPopupWindow/">wxPopupWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPostScriptDC/">wxPostScriptDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPreviewCanvas/">wxPreviewCanvas</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPreviewControlBar/">wxPreviewControlBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPreviewFrame/">wxPreviewFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPrintData/">wxPrintData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPrintDialog/">wxPrintDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPrintDialogData/">wxPrintDialogData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPrintPreview/">wxPrintPreview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPrinter/">wxPrinter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxPrintout/">wxPrintout</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxProgressDialog/">wxProgressDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxQueryNewPaletteEvent/">wxQueryNewPaletteEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxRadioBox/">wxRadioBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxRadioButton/">wxRadioButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxRegion/">wxRegion</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSashEvent/">wxSashEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSashLayoutWindow/">wxSashLayoutWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSashWindow/">wxSashWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxScreenDC/">wxScreenDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxScrollBar/">wxScrollBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxScrollEvent/">wxScrollEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxScrollWinEvent/">wxScrollWinEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxScrolledWindow/">wxScrolledWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSetCursorEvent/">wxSetCursorEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxShowEvent/">wxShowEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSingleChoiceDialog/">wxSingleChoiceDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSizeEvent/">wxSizeEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSizer/">wxSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSizerFlags/">wxSizerFlags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSizerItem/">wxSizerItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSlider/">wxSlider</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSpinButton/">wxSpinButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSpinCtrl/">wxSpinCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSpinEvent/">wxSpinEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSplashScreen/">wxSplashScreen</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSplitterEvent/">wxSplitterEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSplitterWindow/">wxSplitterWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStaticBitmap/">wxStaticBitmap</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStaticBox/">wxStaticBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStaticBoxSizer/">wxStaticBoxSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStaticLine/">wxStaticLine</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStaticText/">wxStaticText</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStatusBar/">wxStatusBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStdDialogButtonSizer/">wxStdDialogButtonSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStyledTextCtrl/">wxStyledTextCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxStyledTextEvent/">wxStyledTextEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSysColourChangedEvent/">wxSysColourChangedEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSystemOptions/">wxSystemOptions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxSystemSettings/">wxSystemSettings</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTaskBarIcon/">wxTaskBarIcon</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTaskBarIconEvent/">wxTaskBarIconEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTextAttr/">wxTextAttr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTextCtrl/">wxTextCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTextDataObject/">wxTextDataObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTextEntryDialog/">wxTextEntryDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxToggleButton/">wxToggleButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxToolBar/">wxToolBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxToolTip/">wxToolTip</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxToolbook/">wxToolbook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTopLevelWindow/">wxTopLevelWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTreeCtrl/">wxTreeCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTreeEvent/">wxTreeEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxTreebook/">wxTreebook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxUpdateUIEvent/">wxUpdateUIEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxWindow/">wxWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxWindowCreateEvent/">wxWindowCreateEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxWindowDC/">wxWindowDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxWindowDestroyEvent/">wxWindowDestroyEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wxXmlResource/">wxXmlResource</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wx_misc/">wx_misc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../wx/wx_object/">wx_object</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Xmerl</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../../xmerl/notes/">Xmerl Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl/">xmerl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_eventp/">xmerl_eventp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_sax_parser/">xmerl_sax_parser</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_scan/">xmerl_scan</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_ug/">xmerl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_xpath/">xmerl_xpath</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_xs/">xmerl_xs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../../xmerl/xmerl_xsd/">xmerl_xsd</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../..">Erlang OTP</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../..">Docs</a> &raquo;</li>
    
      
        
          <li>Design principles &raquo;</li>
        
      
        
          <li>System &raquo;</li>
        
      
    
    <li>gen_statem Behavior</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="gen_statem-behavior">gen_statem Behavior</h1>
<p><a name="gen_statem Behaviour">gen_statem Behaviour</a></p>
<p>This section is to be read with the <a href="./gen_statem">stdlib/gen_statem</a> manual page in STDLIB, where all interface functions and callback functions are described in detail.
<a name="Event-Driven State Machines">Event-Driven State Machines</a> </p>
<h2 id="event-driven-state-machines">Event-Driven State Machines</h2>
<p>Established Automata Theory does not deal much with how a <strong>state transition</strong> is triggered, but assumes that the output is a function of the input (and the state) and that they are some kind of values.</p>
<p>For an Event-Driven State Machine, the input is an event that triggers a <strong>state transition</strong> and the output is actions executed during the <strong>state transition</strong> . It can analogously to the mathematical model of a Finite State Machine be described as a set of relations of the following form:</p>
<pre><code>
State(S) x Event(E) -&gt; Actions(A), State(S')
</code></pre>

<p>These relations are interpreted as follows: if we are in state <em>S</em> and event <em>E</em> occurs, we are to perform actions <em>A</em> and make a transition to state <em>S'</em> . Notice that <em>S'</em> can be equal to <em>S</em> and that <em>A</em> can be empty.</p>
<p>In <em>gen_statem</em> we define a <strong>state change</strong> as a <strong>state transition</strong> in which the new state <em>S'</em> is different from the current state <em>S</em> , where "different" means Erlang's strict inequality: <em>=/=</em> also know as "does not match". During a <strong>state changes</strong> , <em>gen_statem</em> does more things than during other <strong>state transitions</strong> .</p>
<p>As <em>A</em> and <em>S'</em> depend only on <em>S</em> and <em>E</em> , the kind of state machine described here is a Mealy machine (see, for example, the Wikipedia article "Mealy machine").</p>
<p>Like most <em>gen_</em> behaviors, <em>gen_statem</em> keeps a server <em>Data</em> besides the state. Because of this, and as there is no restriction on the number of states (assuming that there is enough virtual machine memory) or on the number of distinct input events, a state machine implemented with this behavior is in fact Turing complete. But it feels mostly like an Event-Driven Mealy machine.
<a name="When to use gen_statem">When to use gen_statem</a> </p>
<h2 id="when-to-use-gen_statem">When to use gen_statem</h2>
<p>If your process logic is convenient to describe as a state machine, and you want any of these <em>gen_statem</em> key features:</p>
<ul>
<li>Co-located callback code for each state, for all <a href="#Event Types">Event Types</a> (such as <strong>call</strong> , <strong>cast</strong> and <strong>info</strong> )</li>
<li><a href="#Postponing Events">Postponing Events</a> (a substitute for selective receive)</li>
<li><a href="#Inserted Events">Inserted Events</a> that is: events from the state machine to itself (in particular purely internal events)</li>
<li><a href="#State Enter Calls">State Enter Calls</a> (callback on state entry co-located with the rest of each state's callback code)</li>
<li>Easy-to-use time-outs ( <a href="#State Time-Outs">State Time-Outs</a> , <a href="#Event Time-Outs">Event Time-Outs</a> and <a href="#Generic Time-Outs">Generic Time-outs</a> (named time-outs))</li>
</ul>
<p>If so, or if possibly needed in future versions, then you should consider using <em>gen_statem</em> over <a href="./gen_server">stdlib/gen_server</a> .</p>
<p>For simple state machines not needing these features <a href="./gen_server">stdlib/gen_server</a> works just fine. It also has got smaller call overhead, but we are talking about something like 2 vs 3.3 microseconds call roundtrip time here, so if the server callback does just a little bit more than just replying, or if the call is not extremely frequent, that difference will be hard to notice.
<a name="Callback Module">Callback Module</a> </p>
<h2 id="callback-module">Callback Module</h2>
<p>The <strong>callback module</strong> contains functions that implement the state machine. When an event occurs, the <em>gen_statem</em> behaviour engine calls a function in the <strong>callback module</strong> with the event, current state and server data. This function performs the actions for this event, and returns the new state and server data and also actions to be performed by the behaviour engine.</p>
<p>The behaviour engine holds the state machine state, server data, timer references, a queue of posponed messages and other metadata. It receives all process messages, handles the system messages, and calls the <strong>callback module</strong> with machine specific events.
<a name="Callback Modes">Callback Modes</a> </p>
<h2 id="callback-modes">Callback Modes</h2>
<p>The <em>gen_statem</em> behavior supports two <strong>callback modes</strong> :
 <dl></p>
<dt> stdlib/gen_statem#type-callback_mode </dt>

<dd>

Events are handled by one callback function per state.
</dd>

<dt> stdlib/gen_statem#type-callback_mode </dt>

<dd>

Events are handled by one single callback function.
</dd>

<p></dl> 
The <strong>callback mode</strong> is selected at server start and may be changed with a code upgrade/downgrade.</p>
<p>See the section <a href="#State Callback">State Callback</a> that describes the event handling callback function(s).</p>
<p>The <strong>callback mode</strong> is selected by implementing a mandatory callback function <a href="../stdlib/gen_statem#Module:callback_mode/0">stdlib/gen_statem#Module:callback_mode/0</a> that returns one of the <strong>callback modes</strong> .</p>
<p>The <a href="../stdlib/gen_statem#Module:callback_mode/0">stdlib/gen_statem#Module:callback_mode/0</a> function may also return a list containing the <strong>callback mode</strong> and the atom <em>state_enter</em> in which case <a href="#State Enter Calls">State Enter Calls</a> are activated for the <strong>callback mode</strong> .
 <a name="Choosing the Callback Mode">Choosing the Callback Mode</a> </p>
<h2 id="choosing-the-callback-mode">Choosing the Callback Mode</h2>
<p>The short version: choose <em>state_functions</em> - it is the one most like <em>gen_fsm</em> . But if you do not want the restriction that the state must be an atom, or if you do not want to write one <strong>state callback</strong> function per state; please read on...</p>
<p>The two <a href="#Callback Modes">Callback Modes</a> give different possibilities and restrictions, with one common goal: to handle all possible combinations of events and states.</p>
<p>This can be done, for example, by focusing on one state at the time and for every state ensure that all events are handled. Alternatively, you can focus on one event at the time and ensure that it is handled in every state. You can also use a mix of these strategies.</p>
<p>With <em>state_functions</em> , you are restricted to use atom-only states, and the <em>gen_statem</em> engine branches depending on state name for you. This encourages the <strong>callback module</strong> to co-locate the implementation of all event actions particular to one state in the same place in the code, hence to focus on one state at the time.</p>
<p>This mode fits well when you have a regular state diagram, like the ones in this chapter, which describes all events and actions belonging to a state visually around that state, and each state has its unique name.</p>
<p>With <em>handle_event_function</em> , you are free to mix strategies, as all events and states are handled in the same callback function.</p>
<p>This mode works equally well when you want to focus on one event at the time or on one state at the time, but function <a href="../stdlib/gen_statem#Module:handle_event/4">stdlib/gen_statem#Module:handle_event/4</a> quickly grows too large to handle without branching to helper functions.</p>
<p>The mode enables the use of non-atom states, for example, complex states or even hierarchical states. See section <a href="#Complex State">Complex State</a> . If, for example, a state diagram is largely alike for the client side and the server side of a protocol, you can have a state <em>{StateName,server}</em> or <em>{StateName,client}</em> , and make <em>StateName</em> determine where in the code to handle most events in the state. The second element of the tuple is then used to select whether to handle special client-side or server-side events.
<a name="State Callback">State Callback</a> </p>
<h2 id="state-callback">State Callback</h2>
<p>The <strong>state callback</strong> is the callback function that handles an event in the current state, and which function that is depends on the <strong>callback mode</strong> :
 <dl></p>
<dt> state_functions </dt>

<dd>
The event is handled by:  stdlib/gen_statem#Module:StateName/3 
This form is the one mostly used in the Example section.
</dd>

<dt> handle_event_function </dt>

<dd>
The event is handled by:  stdlib/gen_statem#Module:handle_event/4 
See section One State Callback for an example.
</dd>

<p></dl> 
The state is either the name of the function itself or an argument to it. The other arguments are the <em>EventType</em> described in section <a href="#Event Types">Event Types</a> , the event dependent <em>EventContent</em> , and the current server <em>Data</em> .</p>
<p><strong>State enter calls</strong> are also handled by the event handler and have slightly different arguments. See section <a href="#State Enter Calls">State Enter Calls</a> .</p>
<p>The <strong>state callback</strong> return values are defined in the description of <a href="../stdlib/gen_statem#Module:StateName/3">stdlib/gen_statem#Module:StateName/3</a> in the <em>gen_statem</em> manual page, but here is a more readable list:
 <dl></p>
<dt>
{next_state, NextState, NewData, Actions}  {next_state, NextState, NewData}
</dt>

<dd>

Set next state and update the server data. If the Actions field is used, execute transition actions . An empty Actions list is equivalent to not returning the field.

See section Transition Actions for a list of possible transition actions .

If NextState =/= State this is a state change so the extra things gen_statem does are: the event queue is restarted from the oldest postponed event , any current state time-out is cancelled, and a state enter call is performed, if enabled.
</dd>

<dt>
{keep_state, NewData, Actions}  {keep_state, NewData} </dt>

<dd>

Same as the next_state values with NextState =:= State , that is, no state change .
</dd>

<dt>
{keep_state_and_data, Actions}  keep_state_and_data </dt>

<dd>

Same as the keep_state values with NextData =:= Data , that is, no change in server data.
</dd>

<dt>
{repeat_state, NewData, Actions}  {repeat_state, NewData}  {repeat_state_and_data, Actions}  repeat_state_and_data
</dt>

<dd>

Same as the keep_state or keep_state_and_data values, and if State Enter Calls are enabled, repeat the state enter call as if this state was entered again.

If these return values are used from a state enter call the OldState does not change, but if used from an event handling state callback the new state enter call's OldState will be the current state.
</dd>

<dt>
{stop, Reason, NewData}  {stop, Reason} </dt>

<dd>

Stop the server with reason Reason . If the NewData field is used, first update the server data.
</dd>

<dt>
{stop_and_reply, Reason, NewData, ReplyActions}  {stop_and_reply, Reason, ReplyActions}
</dt>

<dd>

Same as the stop values, but first execute the given Transition Actions that may only be reply actions.
</dd>

<p></dl> <a name="The First State">The First State</a> </p>
<h2 id="the-first-state">The First State</h2>
<p>To decide the first state the <a href="../stdlib/gen_statem#Module:init/1">stdlib/gen_statem#Module:init/1</a> callback function is called before any <a href="#State Callback">State Callback</a> is called. This function behaves like an <strong>state callback</strong> function, but gets its only argument <em>Args</em> from the <em>gen_statem</em> <a href="../stdlib/gen_statem#start/3">stdlib/gen_statem#start/3</a> or <a href="../stdlib/gen_statem#start_link/3">stdlib/gen_statem#start_link/3</a> function, and returns <em>{ok, State, Data}</em> or <em>{ok, State, Data, Actions}</em> . If you use the <a href="#Postponing Events">Postponing Events</a> action from this function, that action is ignored, since there is no event to postpone.
<a name="Transition Actions">Transition Actions</a> </p>
<h2 id="transition-actions">Transition Actions</h2>
<p>In the first section <a href="#Event-Driven State Machines">Event-Driven State Machines</a> actions were mentioned as a part of the general state machine model. These general actions are implemented with the code that <strong>callback module</strong> <em>gen_statem</em> executes in an event-handling callback function before returning to the <em>gen_statem</em> engine.</p>
<p>There are more specific <strong>transition actions</strong> that a callback function can command the <em>gen_statem</em> engine to do after the callback function return. These are commanded by returning a list of <a href="../stdlib/gen_statem#type-action">actions</a> in the <a href="../stdlib/gen_statem#type-state_callback_result">return value</a> from the <a href="../stdlib/gen_statem#Module:StateName/3">callback function</a> . These are the possible <strong>transition actions</strong> :
 <dl></p>
<dt>
stdlib/gen_statem#type-postpone  {postpone, Boolean} </dt>

<dd>
If set postpone the current event, see section Postponing Events .
</dd>

<dt>
stdlib/gen_statem#type-hibernate  {hibernate, Boolean} </dt>

<dd>
If set hibernate the gen_statem , treated in section Hibernation .
</dd>

<dt>
stdlib/gen_statem#type-state_timeout  {state_timeout, EventContent, Time, Opts}
</dt>

<dd>
Start a state time-out, read more in sections Time-Outs and State Time-Outs .
</dd>

<dt>
stdlib/gen_statem#type-generic_timeout  {{timeout, Name}, EventContent, Time, Opts}
</dt>

<dd>
Start a generic time-out, read more in sections Time-Outs and Generic Time-Outs .
</dd>

<dt>
stdlib/gen_statem#type-event_timeout  {timeout, EventContent, Time, Opts}  Time
</dt>

<dd>
Start an event time-out, see more in sections Time-Outs and Event Time-Outs .
</dd>

<dt> stdlib/gen_statem#type-reply_action </dt>

<dd>
Reply to a caller, mentioned at the end of section All State Events .
</dd>

<dt> stdlib/gen_statem#type-action </dt>

<dd>
Generate the next event to handle, see section Inserted Events .
</dd>

<p></dl> 
For details, see the <em>gen_statem(3)</em> manual page for type <a href="../stdlib/gen_statem#type-action">stdlib/gen_statem#type-action</a> . You can, for example, reply to many callers, generate multiple next events, and set a time-out to use absolute instead of relative time (using the <em>Opts</em> field).
<a name="Event Types">Event Types</a> </p>
<h2 id="event-types">Event Types</h2>
<p>Events are categorized in different <a href="../stdlib/gen_statem#type-event_type">stdlib/gen_statem#type-event_type</a> . Events of all types are for a given state handled in the same callback function, and that function gets <em>EventType</em> and <em>EventContent</em> as arguments.</p>
<p>The following is a complete list of <strong>event types</strong> and where they come from:
 <dl></p>
<dt> stdlib/gen_statem#type-external_event_type </dt>

<dd> Generated by stdlib/gen_statem#cast/2 . </dd>

<dt> stdlib/gen_statem#type-external_event_type </dt>

<dd>
Generated by stdlib/gen_statem#call/2 , where From is the reply address to use when replying either through the transition action {reply,From,Msg} or by calling stdlib/gen_statem#reply/1 .
</dd>

<dt> stdlib/gen_statem#type-external_event_type </dt>

<dd>
Generated by any regular process message sent to the gen_statem process.
</dd>

<dt> stdlib/gen_statem#type-timeout_event_type </dt>

<dd>
Generated by transition action stdlib/gen_statem#type-timeout_action state timer timing out. Read more in sections Time-Outs and State Time-Outs .
</dd>

<dt> stdlib/gen_statem#type-timeout_event_type </dt>

<dd>
Generated by transition action stdlib/gen_statem#type-timeout_action generic timer timing out. Read more in sections Time-Outs and Generic Time-Outs .
</dd>

<dt> stdlib/gen_statem#type-timeout_event_type </dt>

<dd>
Generated by transition action stdlib/gen_statem#type-timeout_action (or its short form Time ) event timer timing out. Read more in sections Time-Outs and Event Time-Outs .
</dd>

<dt> stdlib/gen_statem#type-event_type </dt>

<dd>
Generated by transition action stdlib/gen_statem#type-enter_action . All event types above can also be generated using the next_event action: {next_event,EventType,EventContent} .
</dd>

<p></dl>
<a name="State Enter Calls">State Enter Calls</a> </p>
<h2 id="state-enter-calls">State Enter Calls</h2>
<p>The <em>gen_statem</em> behavior can if this is enabled, regardless of <strong>callback mode</strong> , automatically <a href="../stdlib/gen_statem#type-state_enter">call the state callback</a> with special arguments whenever the state changes so you can write state enter actions near the rest of the <strong>state transition</strong> rules. It typically looks like this:</p>
<pre><code>
StateName(enter, OldState, Data) -&gt;
    ... code for state enter actions here ...
    {keep_state, NewData};
StateName(EventType, EventContent, Data) -&gt;
    ... code for actions here ...
    {next_state, NewStateName, NewData}.
</code></pre>

<p>Since the <strong>state enter call</strong> is not an event there are restrictions on the allowed return value and <a href="#Transition Actions">State Transition Actions</a> . You may not change the state, <a href="#Postponing Events">postpone</a> this non-event, or <a href="#Inserted Events">insert any events</a> .</p>
<p>The first state that is entered will get a <strong>state enter call</strong> with <em>OldState</em> equal to the current state.</p>
<p>You may repeat the <strong>state enter call</strong> using the <em>{repeat_state,...}</em> return value from the <a href="#State Callback">state callback</a> . In this case <em>OldState</em> will also be equal to the current state.</p>
<p>Depending on how your state machine is specified, this can be a very useful feature, but it forces you to handle the <strong>state enter calls</strong> in all states. See also the <a href="#State Enter Actions">State Enter Actions</a> section.
<a name="Time-Outs">Time-Outs</a> </p>
<h2 id="time-outs">Time-outs</h2>
<p>Time-outs in <em>gen_statem</em> are started from a <a href="#Transition Actions">Transition Actions</a> during a state transition that is when exiting from the <a href="#State Callback">State Callback</a> .</p>
<p>There are 3 types of time-outs in <em>gen_statem</em> :
 <dl></p>
<dt> stdlib/gen_statem#type-state_timeout </dt>

<dd>
There is one State Time-Out that is automatically cancelled by a state change .
</dd>

<dt> stdlib/gen_statem#type-generic_timeout </dt>

<dd>
There are any number of Generic Time-Outs differing by their Name . They have no automatic cancelling.
</dd>

<dt> stdlib/gen_statem#type-event_timeout </dt>

<dd>
There is one Event Time-Out that is automatically cancelled by any event. Note that postponed and inserted events cancel this timeout just as external events.
</dd>

<p></dl> 
When a time-out is started any running time-out with the same tag, <em>state_timeout</em> , <em>{timeout, Name}</em> or <em>timeout</em> , is cancelled, that is the time-out is restarted with the new time.</p>
<p>All time-outs has got an <em>EventContent</em> that is part of the <a href="#Transition Actions">Transition Actions</a> that starts the time-out. Different <em>EventContent</em> s does not create different time-outs. The <em>EventContent</em> is delivered to the <a href="#State Callback">State Callback</a> when the time-out expires.
 <a name="Cancelling a Time-Out">Cancelling a Time-Out</a> </p>
<h2 id="cancelling-a-time-out">Cancelling a Time-Out</h2>
<p>If a time-out is started with the time <em>infinity</em> it will never time out, in fact it will not even be started, and any running time-out with the same tag will be cancelled. The <em>EventContent</em> will in this case be ignored, so why not set it to <em>undefined</em> .
 <a name="Time-Out Zero">Time-Out Zero</a> </p>
<h2 id="time-out-zero">Time-Out Zero</h2>
<p>If a time-out is started with the time <em>0</em> it will actually not be started. Instead the time-out event will immediately be inserted to be processed after any events already enqueued, and before any not yet received external events. Note that some time-outs are automatically cancelled so if you for example combine <a href="#Postponing Events">postponing</a> an event in a <strong>state change</strong> with starting an <a href="#Event Time-Outs">event time-out</a> with time <em>0</em> there will be no timeout event inserted since the event time-out is cancelled by the postponed event that is delivered due to the state change.
<a name="Example">Example</a> </p>
<h2 id="example">Example</h2>
<p>A door with a code lock can be seen as a state machine. Initially, the door is locked. When someone presses a button, an event is generated. The pressed buttons are collected, up to the number of buttons in the correct code. If correct, the door is unlocked for 10 seconds. If not correct, we wait for a new button to be pressed.
 <img alt="Code Lock State Diagram" src="../code_lock.svg" /> 
This code lock state machine can be implemented using <em>gen_statem</em> with the following <strong>callback module</strong> :</p>
<pre><code class="erl">
-module(code_lock).
-behaviour(gen_statem).
-define(NAME, code_lock).

-export([start_link/1]).
-export([button/1]).
-export([init/1,callback_mode/0,terminate/3]).
-export([locked/3,open/3]).

start_link(Code) -&gt;
    gen_statem:start_link({local,?NAME}, ?MODULE, Code, []).

button(Button) -&gt;
    gen_statem:cast(?NAME, {button,Button}).

init(Code) -&gt;
    do_lock(),
    Data = #{code =&gt; Code, length =&gt; length(Code), buttons =&gt; []},
    {ok, locked, Data}.

callback_mode() -&gt;
    state_functions.

</code></pre>

<pre><code class="erl">
locked(
  cast, {button,Button},
  #{code := Code, length := Length, buttons := Buttons} = Data) -&gt;
    NewButtons =
        if
            length(Buttons) &lt; Length -&gt;
                Buttons;
            true -&gt;
                tl(Buttons)
        end ++ [Button],
    if
        NewButtons =:= Code -&gt; % Correct
        do_unlock(),
            {next_state, open, Data#{buttons := []},
             [{state_timeout,10000,lock}]}; % Time in milliseconds
    true -&gt; % Incomplete | Incorrect
            {next_state, locked, Data#{buttons := NewButtons}}
    end.

</code></pre>

<pre><code class="erl">
open(state_timeout, lock,  Data) -&gt;
    do_lock(),
    {next_state, locked, Data};
open(cast, {button,_}, Data) -&gt;
    {next_state, open, Data}.

</code></pre>

<pre><code class="erl">
do_lock() -&gt;
    io:format(&quot;Lock~n&quot;, []).
do_unlock() -&gt;
    io:format(&quot;Unlock~n&quot;, []).

terminate(_Reason, State, _Data) -&gt;
    State =/= locked andalso do_lock(),
    ok.

</code></pre>

<p>The code is explained in the next sections.
<a name="Starting gen_statem">Starting gen_statem</a> </p>
<h2 id="starting-gen_statem">Starting gen_statem</h2>
<p>In the example in the previous section, <em>gen_statem</em> is started by calling <em>code_lock:start_link(Code)</em> :</p>
<pre><code class="erl">
start_link(Code) -&gt;
    gen_statem:start_link({local,?NAME}, ?MODULE, Code, []).

</code></pre>

<p><em>start_link</em> calls function <a href="../stdlib/gen_statem#start_link/4">stdlib/gen_statem#start_link/4</a> , which spawns and links to a new process, a <em>gen_statem</em> .</p>
<ul>
<li>The first argument, <em>{local,?NAME}</em> , specifies the name. In this case, the <em>gen_statem</em> is locally registered as <em>code_lock</em> through the macro <em>?NAME</em> .</li>
</ul>
<p>If the name is omitted, the <em>gen_statem</em> is not registered. Instead its pid must be used. The name can also be specified as <em>{global,Name}</em> , then the <em>gen_statem</em> is registered using <a href="../kernel/global#register_name/2">kernel/global#register_name/2</a> in Kernel.
* 
The second argument, <em>?MODULE</em> , is the name of the <strong>callback module</strong> , that is, the module where the callback functions are located, which is this module.</p>
<p>The interface functions ( <em>start_link/1</em> and <em>button/1</em> ) are located in the same module as the callback functions ( <em>init/1</em> , <em>locked/3</em> , and <em>open/3</em> ). It is normally good programming practice to have the client-side code and the server-side code contained in one module.
* The third argument, <em>Code</em> , is a list of digits, which is the correct unlock code that is passed to callback function <em>init/1</em> .
* The fourth argument, <em>[]</em> , is a list of options. For the available options, see <a href="../stdlib/gen_statem#start_link/3">stdlib/gen_statem#start_link/3</a> .</p>
<p>If name registration succeeds, the new <em>gen_statem</em> process calls callback function <em>code_lock:init(Code)</em> . This function is expected to return <em>{ok, State, Data}</em> , where <em>State</em> is the initial state of the <em>gen_statem</em> , in this case <em>locked</em> ; assuming that the door is locked to begin with. <em>Data</em> is the internal server data of the <em>gen_statem</em> . Here the server data is a <a href="./maps">map</a> with key <em>code</em> that stores the correct button sequence, key <em>length</em> store its length, and key <em>buttons</em> that stores the collected buttons up to the same length.</p>
<pre><code class="erl">
init(Code) -&gt;
    do_lock(),
    Data = #{code =&gt; Code, length =&gt; length(Code), buttons =&gt; []},
    {ok, locked, Data}.

</code></pre>

<p>Function <a href="../stdlib/gen_statem#start_link/3">stdlib/gen_statem#start_link/3</a> is synchronous. It does not return until the <em>gen_statem</em> is initialized and is ready to receive events.</p>
<p>Function <a href="../stdlib/gen_statem#start_link/3">stdlib/gen_statem#start_link/3</a> must be used if the <em>gen_statem</em> is part of a supervision tree, that is, started by a supervisor. Another function, <a href="../stdlib/gen_statem#start/3">stdlib/gen_statem#start/3</a> can be used to start a standalone <em>gen_statem</em> , that is, a <em>gen_statem</em> that is not part of a supervision tree.</p>
<p>Function <a href="../stdlib/gen_statem#Module:callback_mode/0">stdlib/gen_statem#Module:callback_mode/0</a> selects the <a href="#Callback Modes">Callback Modes</a> for the <strong>callback module</strong> , in this case <a href="../stdlib/gen_statem#type-callback_mode">stdlib/gen_statem#type-callback_mode</a> . That is, each state has got its own handler function:</p>
<pre><code class="erl">
callback_mode() -&gt;
    state_functions.

</code></pre>

<p><a name="Handling Events">Handling Events</a> </p>
<h2 id="handling-events">Handling Events</h2>
<p>The function notifying the code lock about a button event is implemented using <a href="../stdlib/gen_statem#cast/2">stdlib/gen_statem#cast/2</a> :</p>
<pre><code class="erl">
button(Button) -&gt;
    gen_statem:cast(?NAME, {button,Button}).

</code></pre>

<p>The first argument is the name of the <em>gen_statem</em> and must agree with the name used to start it. So, we use the same macro <em>?NAME</em> as when starting. <em>{button,Button}</em> is the event content.</p>
<p>The event is sent to the <em>gen_statem</em> . When the event is received, the <em>gen_statem</em> calls <em>StateName(cast, Event, Data)</em> , which is expected to return a tuple <em>{next_state, NewStateName, NewData}</em> , or <em>{next_state, NewStateName, NewData, Actions}</em> . <em>StateName</em> is the name of the current state and <em>NewStateName</em> is the name of the next state to go to. <em>NewData</em> is a new value for the server data of the <em>gen_statem</em> , and <em>Actions</em> is a list of actions to be performed by the <em>gen_statem</em> engine.</p>
<pre><code class="erl">
locked(
  cast, {button,Button},
  #{code := Code, length := Length, buttons := Buttons} = Data) -&gt;
    NewButtons =
        if
            length(Buttons) &lt; Length -&gt;
                Buttons;
            true -&gt;
                tl(Buttons)
        end ++ [Button],
    if
        NewButtons =:= Code -&gt; % Correct
        do_unlock(),
            {next_state, open, Data#{buttons := []},
             [{state_timeout,10000,lock}]}; % Time in milliseconds
    true -&gt; % Incomplete | Incorrect
            {next_state, locked, Data#{buttons := NewButtons}}
    end.

</code></pre>

<p>In state <em>locked</em> , when a button is pressed, it is collected with the last pressed buttons up to the length of the correct code, and compared with the correct code. Depending on the result, the door is either unlocked and the <em>gen_statem</em> goes to state <em>open</em> , or the door remains in state <em>locked</em> .</p>
<p>When changing to state <em>open</em> , the collected buttons are reset, the lock unlocked, and a state timer for 10 s is started.</p>
<pre><code class="erl">
open(cast, {button,_}, Data) -&gt;
    {next_state, open, Data}.

</code></pre>

<p>In state <em>open</em> , a button event is ignored by staying in the same state. This can also be done by returning <em>{keep_state, Data}</em> or in this case since <em>Data</em> unchanged even by returning <em>keep_state_and_data</em> .
<a name="State Time-Outs">State Time-Outs</a> </p>
<h2 id="state-time-outs">State Time-Outs</h2>
<p>When a correct code has been given, the door is unlocked and the following tuple is returned from <em>locked/2</em> :</p>
<pre><code class="erl">
{next_state, open, Data#{buttons := []},
 [{state_timeout,10000,lock}]}; % Time in milliseconds

</code></pre>

<p>10,000 is a time-out value in milliseconds. After this time (10 seconds), a time-out occurs. Then, <em>StateName(state_timeout, lock, Data)</em> is called. The time-out occurs when the door has been in state <em>open</em> for 10 seconds. After that the door is locked again:</p>
<pre><code class="erl">
open(state_timeout, lock,  Data) -&gt;
    do_lock(),
    {next_state, locked, Data};

</code></pre>

<p>The timer for a state time-out is automatically cancelled when the state machine does a <strong>state change</strong> . You can restart a state time-out by setting it to a new time, which cancels the running timer and starts a new. This implies that you can cancel a state time-out by restarting it with time <em>infinity</em> .
<a name="All State Events">All State Events</a> </p>
<h2 id="all-state-events">All State Events</h2>
<p>Sometimes events can arrive in any state of the <em>gen_statem</em> . It is convenient to handle these in a common state handler function that all state functions call for events not specific to the state.</p>
<p>Consider a <em>code_length/0</em> function that returns the length of the correct code. We dispatch all events that are not state-specific to the common function <em>handle_common/3</em> :</p>
<pre><code class="erl">
...
-export([button/1,code_length/0]).
...

code_length() -&gt;
    gen_statem:call(?NAME, code_length).

...
locked(...) -&gt; ... ;
locked(EventType, EventContent, Data) -&gt;
    handle_common(EventType, EventContent, Data).

...
open(...) -&gt; ... ;
open(EventType, EventContent, Data) -&gt;
    handle_common(EventType, EventContent, Data).

handle_common({call,From}, code_length, #{code := Code} = Data) -&gt;
    {keep_state, Data,
     [{reply,From,length(Code)}]}.

</code></pre>

<p>Another way to do it is through a convenience macro <em>?HANDLE_COMMON/0</em> :</p>
<pre><code class="erl">
...
-export([button/1,code_length/0]).
...

code_length() -&gt;
    gen_statem:call(?NAME, code_length).

-define(HANDLE_COMMON,
    ?FUNCTION_NAME(T, C, D) -&gt; handle_common(T, C, D)).
%%
handle_common({call,From}, code_length, #{code := Code} = Data) -&gt;
    {keep_state, Data,
     [{reply,From,length(Code)}]}.

...
locked(...) -&gt; ... ;
?HANDLE_COMMON.

...
open(...) -&gt; ... ;
?HANDLE_COMMON.

</code></pre>

<p>This example uses <a href="../stdlib/gen_statem#call/2">stdlib/gen_statem#call/2</a> , which waits for a reply from the server. The reply is sent with a <em>{reply,From,Reply}</em> tuple in an action list in the <em>{keep_state, ...}</em> tuple that retains the current state. This return form is convenient when you want to stay in the current state but do not know or care about what it is.</p>
<p>If the common <strong>state callback</strong> needs to know the current state a function <em>handle_common/4</em> can be used instead:</p>
<pre><code class="erl">
-define(HANDLE_COMMON,
    ?FUNCTION_NAME(T, C, D) -&gt; handle_common(T, C, ?FUNCTION_NAME, D)).

</code></pre>

<p><a name="One State Callback">One State Callback</a> </p>
<h2 id="one-state-callback">One State Callback</h2>
<p>If <a href="#Callback Modes">Callback Modes</a> <em>handle_event_function</em> is used, all events are handled in <a href="../stdlib/gen_statem#Module:handle_event/4">stdlib/gen_statem#Module:handle_event/4</a> and we can (but do not have to) use an event-centered approach where we first branch depending on event and then depending on state:</p>
<pre><code class="erl">
...
-export([handle_event/4]).

...
callback_mode() -&gt;
    handle_event_function.

handle_event(cast, {button,Button}, State, #{code := Code} = Data) -&gt;
    case State of
    locked -&gt;
            #{length := Length, buttons := Buttons} = Data,
            NewButtons =
                if
                    length(Buttons) &lt; Length -&gt;
                        Buttons;
                    true -&gt;
                        tl(Buttons)
                end ++ [Button],
            if
                NewButtons =:= Code -&gt; % Correct
                    do_unlock(),
                    {next_state, open, Data#{buttons := []},
                     [{state_timeout,10000,lock}]}; % Time in milliseconds
                true -&gt; % Incomplete | Incorrect
                    {keep_state, Data#{buttons := NewButtons}}
            end;
    open -&gt;
            keep_state_and_data
    end;
handle_event(state_timeout, lock, open, Data) -&gt;
    do_lock(),
    {next_state, locked, Data};
handle_event(
  {call,From}, code_length, _State, #{code := Code} = Data) -&gt;
    {keep_state, Data,
     [{reply,From,length(Code)}]}.

...

</code></pre>

<p><a name="Stopping">Stopping</a> </p>
<h2 id="stopping">Stopping</h2>
<p><a name="In a Supervision Tree">In a Supervision Tree</a> </p>
<h2 id="in-a-supervision-tree">In a Supervision Tree</h2>
<p>If the <em>gen_statem</em> is part of a supervision tree, no stop function is needed. The <em>gen_statem</em> is automatically terminated by its supervisor. Exactly how this is done is defined by a <a href="./sup_princ#shutdown">shutdown strategy</a> set in the supervisor.</p>
<p>If it is necessary to clean up before termination, the shutdown strategy must be a time-out value and the <em>gen_statem</em> must in function <em>init/1</em> set itself to trap exit signals by calling <a href="../erts/erlang#process_flag/2">erts/erlang#process_flag/2</a> :</p>
<pre><code class="erl">
init(Args) -&gt;
    process_flag(trap_exit, true),
    do_lock(),
    ...

</code></pre>

<p>When ordered to shut down, the <em>gen_statem</em> then calls callback function <em>terminate(shutdown, State, Data)</em> .</p>
<p>In this example, function <em>terminate/3</em> locks the door if it is open, so we do not accidentally leave the door open when the supervision tree terminates:</p>
<pre><code class="erl">
terminate(_Reason, State, _Data) -&gt;
    State =/= locked andalso do_lock(),
    ok.

</code></pre>

<p><a name="Standalone gen_statem">Standalone gen_statem</a> </p>
<h2 id="standalone-gen_statem">Standalone gen_statem</h2>
<p>If the <em>gen_statem</em> is not part of a supervision tree, it can be stopped using <a href="../stdlib/gen_statem#stop/1">stdlib/gen_statem#stop/1</a> , preferably through an API function:</p>
<pre><code class="erl">
...
-export([start_link/1,stop/0]).

...
stop() -&gt;
    gen_statem:stop(?NAME).

</code></pre>

<p>This makes the <em>gen_statem</em> call callback function <em>terminate/3</em> just like for a supervised server and waits for the process to terminate.
<a name="Event Time-Outs">Event Time-Outs</a> </p>
<h2 id="event-time-outs">Event Time-Outs</h2>
<p>A time-out feature inherited from <em>gen_statem</em> 's predecessor <a href="./gen_fsm">stdlib/gen_fsm</a> , is an event time-out, that is, if an event arrives the timer is cancelled. You get either an event or a time-out, but not both.</p>
<p>It is ordered by the <a href="#Transition Actions">Transition Actions</a> <em>{timeout,Time,EventContent}</em> , or just an integer <em>Time</em> , even without the enclosing actions list (the latter is a form inherited from <em>gen_fsm</em> .</p>
<p>This type of time-out is useful for example to act on inactivity. Let us restart the code sequence if no button is pressed for say 30 seconds:</p>
<pre><code class="erl">
...

locked(timeout, _, Data) -&gt;
    {next_state, locked, Data#{buttons := []}};
locked(
  cast, {button,Button},
  #{code := Code, length := Length, buttons := Buttons} = Data) -&gt;
...
    true -&gt; % Incomplete | Incorrect
            {next_state, locked, Data#{buttons := NewButtons},
             30000} % Time in milliseconds
...

</code></pre>

<p>Whenever we receive a button event we start an event time-out of 30 seconds, and if we get an <strong>event type</strong> of <em>timeout</em> we reset the remaining code sequence.</p>
<p>An event time-out is cancelled by any other event so you either get some other event or the time-out event. It is therefore not possible nor needed to cancel or restart an event time-out. Whatever event you act on has already cancelled the event time-out...</p>
<p>Note that an event time-out does not work well with when you have for example a status call as in section <a href="#All State Events">All State Events</a> , or handle unknown events, since all kinds of events will cancel the event time-out.
<a name="Generic Time-Outs">Generic Time-Outs</a> </p>
<h2 id="generic-time-outs">Generic Time-Outs</h2>
<p>The previous example of state time-outs only work if the state machine stays in the same state during the time-out time. And event time-outs only work if no disturbing unrelated events occur.</p>
<p>You may want to start a timer in one state and respond to the time-out in another, maybe cancel the time-out without changing states, or perhaps run multiple time-outs in parallel. All this can be accomplished with <a href="../stdlib/gen_statem#type-generic_timeout">generic time-outs</a> . They may look a little bit like <a href="../stdlib/gen_statem#type-event_timeout">event time-outs</a> but contain a name to allow for any number of them simultaneously and they are not automatically cancelled.</p>
<p>Here is how to accomplish the state time-out in the previous example by instead using a generic time-out named for example <em>open</em> :</p>
<pre><code class="erl">
...
locked(
  cast, {button,Button},
  #{code := Code, length := Length, buttons := Buttons} = Data) -&gt;
...
    if
        NewButtons =:= Code -&gt; % Correct
        do_unlock(),
            {next_state, open, Data#{buttons := []},
             [{{timeout,open},10000,lock}]}; % Time in milliseconds
...

open({timeout,open}, lock, Data) -&gt;
    do_lock(),
    {next_state,locked,Data};
open(cast, {button,_}, Data) -&gt;
    {keep_state,Data};
...

</code></pre>

<p>Specific generic time-outs can just as <a href="#State Time-Outs">state time-outs</a> be restarted or cancelled by setting it to a new time or <em>infinity</em> .</p>
<p>In this particular case we do not need to cancel the time-out since the time-out event is the only possible reason to do a <strong>state change</strong> from <em>open</em> to <em>locked</em> .</p>
<p>Instead of bothering with when to cancel a time-out, a late time-out event can be handled by ignoring it if it arrives in a state where it is known to be late.
<a name="Erlang Timers">Erlang Timers</a> </p>
<h2 id="erlang-timers">Erlang Timers</h2>
<p>The most versatile way to handle time-outs is to use Erlang Timers; see <a href="../erts/erlang#start_timer/4">erts/erlang#start_timer/4</a> . Most time-out tasks can be performed with the time-out features in <em>gen_statem</em> , but an example of one that cannot is if you should need the return value from <a href="../erts/erlang#cancel_timer/2">erts/erlang#cancel_timer/2</a> , that is; the remaining time of the timer.</p>
<p>Here is how to accomplish the state time-out in the previous example by instead using an Erlang Timer:</p>
<pre><code class="erl">
...
locked(
  cast, {button,Button},
  #{code := Code, length := Length, buttons := Buttons} = Data) -&gt;
...
    if
        NewButtons =:= Code -&gt; % Correct
        do_unlock(),
        Tref =
                 erlang:start_timer(
                     10000, self(), lock), % Time in milliseconds
            {next_state, open, Data#{buttons := [], timer =&gt; Tref}};
...

open(info, {timeout,Tref,lock}, #{timer := Tref} = Data) -&gt;
    do_lock(),
    {next_state,locked,maps:remove(timer, Data)};
open(cast, {button,_}, Data) -&gt;
    {keep_state,Data};
...

</code></pre>

<p>Removing the <em>timer</em> key from the map when we do a <strong>state change</strong> to <em>locked</em> is not strictly necessary since we can only get into state <em>open</em> with an updated <em>timer</em> map value. But it can be nice to not have outdated values in the state <em>Data</em> !</p>
<p>If you need to cancel a timer because of some other event, you can use <a href="../erts/erlang#cancel_timer/2">erts/erlang#cancel_timer/2</a> . Note that a time-out message cannot arrive after this, unless you have postponed it before (see the next section), so ensure that you do not accidentally postpone such messages. Also note that a time-out message may have arrived just before you cancelling it, so you may have to read out such a message from the process mailbox depending on the return value from <a href="../erts/erlang#cancel_timer/2">erts/erlang#cancel_timer/2</a> .</p>
<p>Another way to handle a late time-out can be to not cancel it, but to ignore it if it arrives in a state where it is known to be late.
<a name="Postponing Events">Postponing Events</a> </p>
<h2 id="postponing-events">Postponing Events</h2>
<p>If you want to ignore a particular event in the current state and handle it in a future state, you can postpone the event. A postponed event is retried after a <strong>state change</strong> , that is, <em>OldState =/= NewState</em> .</p>
<p>Postponing is ordered by the <a href="#Transition Actions">Transition Actions</a> <em>postpone</em> .</p>
<p>In this example, instead of ignoring button events while in the <em>open</em> state, we can postpone them and they are queued and later handled in the <em>locked</em> state:</p>
<pre><code class="erl">
...
open(cast, {button,_}, Data) -&gt;
    {keep_state,Data,[postpone]};
...

</code></pre>

<p>Since a postponed event is only retried after a <strong>state change</strong> , you have to think about where to keep a state data item. You can keep it in the server <em>Data</em> or in the <em>State</em> itself, for example by having two more or less identical states to keep a boolean value, or by using a complex state (see section <a href="#Complex State">Complex State</a> ) with <a href="#Callback Modes">Callback Modes</a> <a href="../stdlib/gen_statem#type-callback_mode">stdlib/gen_statem#type-callback_mode</a> . If a change in the value changes the set of events that is handled, then the value should be kept in the State. Otherwise no postponed events will be retried since only the server Data changes.</p>
<p>This is not important if you do not postpone events. But if you later decide to start postponing some events, then the design flaw of not having separate states when they should be, might become a hard to find bug.
 <a name="Fuzzy State Diagrams">Fuzzy State Diagrams</a> </p>
<h2 id="fuzzy-state-diagrams">Fuzzy State Diagrams</h2>
<p>It is not uncommon that a state diagram does not specify how to handle events that are not illustrated in a particular state in the diagram. Hopefully this is described in an associated text or from the context.</p>
<p>Possible actions: ignore as in drop the event (maybe log it) or deal with the event in some other state as in postpone it.
 <a name="Selective Receive">Selective Receive</a> </p>
<h2 id="selective-receive">Selective Receive</h2>
<p>Erlang's selective receive statement is often used to describe simple state machine examples in straightforward Erlang code. The following is a possible implementation of the first example:</p>
<pre><code class="erl">
-module(code_lock).
-define(NAME, code_lock_1).
-export([start_link/1,button/1]).

start_link(Code) -&gt;
    spawn(
      fun () -&gt;
          true = register(?NAME, self()),
          do_lock(),
          locked(Code, length(Code), [])
      end).

button(Button) -&gt;
    ?NAME ! {button,Button}.

</code></pre>

<pre><code class="erl">
locked(Code, Length, Buttons) -&gt;
    receive
        {button,Button} -&gt;
            NewButtons =
                if
                    length(Buttons) &lt; Length -&gt;
                        Buttons;
                    true -&gt;
                        tl(Buttons)
                end ++ [Button],
            if
                NewButtons =:= Code -&gt; % Correct
                    do_unlock(),
            open(Code, Length);
                true -&gt; % Incomplete | Incorrect
                    locked(Code, Length, NewButtons)
            end
    end.

</code></pre>

<pre><code class="erl">
open(Code, Length) -&gt;
    receive
    after 10000 -&gt; % Time in milliseconds
        do_lock(),
        locked(Code, Length, [])
    end.

do_lock() -&gt;
    io:format(&quot;Locked~n&quot;, []).
do_unlock() -&gt;
    io:format(&quot;Open~n&quot;, []).

</code></pre>

<p>The selective receive in this case causes implicitly <em>open</em> to postpone any events to the <em>locked</em> state.</p>
<p>A selective receive cannot be used from a <em>gen_statem</em> behavior as for any *gen_<strong> behavior, as the receive statement is within the *gen_</strong> engine itself. It must be there because all <a href="./sys">stdlib/sys</a> compatible behaviors must respond to system messages and therefore do that in their engine receive loop, passing non-system messages to the <strong>callback module</strong> .</p>
<p>The <a href="#Transition Actions">Transition Actions</a> <em>postpone</em> is designed to model selective receives. A selective receive implicitly postpones any not received events, but the <em>postpone</em> <strong>transition action</strong> explicitly postpones one received event.</p>
<p>Both mechanisms have the same theoretical time and memory complexity, while the selective receive language construct has smaller constant factors.
<a name="State Enter Actions">State Enter Actions</a> </p>
<h2 id="state-enter-actions">State Enter Actions</h2>
<p>Say you have a state machine specification that uses state enter actions. Allthough you can code this using inserted events (described in the next section), especially if just one or a few states has got state enter actions, this is a perfect use case for the built in <a href="#State Enter Calls">State Enter Calls</a> .</p>
<p>You return a list containing <em>state_enter</em> from your <a href="../stdlib/gen_statem#Module:callback_mode/0">stdlib/gen_statem#Module:callback_mode/0</a> function and the <em>gen_statem</em> engine will call your <strong>state callback</strong> once with an event <em>(enter, OldState, ...)</em> whenever it does a <strong>state change</strong> . Then you just need to handle these event-like calls in all states.</p>
<pre><code class="erl">
...
init(Code) -&gt;
    process_flag(trap_exit, true),
    Data = #{code =&gt; Code, length = length(Code)},
    {ok, locked, Data}.

callback_mode() -&gt;
    [state_functions,state_enter].

locked(enter, _OldState, Data) -&gt;
    do_lock(),
    {keep_state,Data#{buttons =&gt; []}};
locked(
  cast, {button,Button},
  #{code := Code, length := Length, buttons := Buttons} = Data) -&gt;
...
    if
        NewButtons =:= Code -&gt; % Correct
            {next_state, open, Data};
...

open(enter, _OldState, _Data) -&gt;
    do_unlock(),
    {keep_state_and_data,
     [{state_timeout,10000,lock}]}; % Time in milliseconds
open(state_timeout, lock, Data) -&gt;
    {next_state, locked, Data};
...

</code></pre>

<p>You can repeat the state enter code by returning one of <em>{repeat_state, ...}</em> , <em>{repeat_state_and_data,_}</em> or <em>repeat_state_and_data</em> that otherwise behaves exactly like their <em>keep_state</em> siblings. See the type <a href="../stdlib/gen_statem#type-state_callback_result">stdlib/gen_statem#type-state_callback_result</a> in the reference manual.
<a name="Inserted Events">Inserted Events</a> </p>
<h2 id="inserted-events">Inserted Events</h2>
<p>It can sometimes be beneficial to be able to generate events to your own state machine. This can be done with the <a href="#Transition Actions">Transition Actions</a> <em>{next_event,EventType,EventContent}</em> .</p>
<p>You can generate events of any existing <a href="../stdlib/gen_statem#type-action">type</a> , but the <em>internal</em> type can only be generated through action <em>next_event</em> . Hence, it cannot come from an external source, so you can be certain that an <em>internal</em> event is an event from your state machine to itself.</p>
<p>One example for this is to pre-process incoming data, for example decrypting chunks or collecting characters up to a line break.</p>
<p>Purists may argue that this should be modelled with a separate state machine that sends pre-processed events to the main state machine, but to decrease overhead the small pre-processing state machine can be implemented in the common state event handling of the main state machine using a few state data variables that then sends the pre-processed events as internal events to the main state machine. Using internal events also can make it easier to synchronize the state machines.</p>
<p>A variant of this is to use a <a href="#Complex State">complex state</a> with <a href="#One State Callback">One State Callback</a> . The state is then modeled with for example a tuple <em>{MainFSMState,SubFSMState}</em> .</p>
<p>To illustrate this we make up an example where the buttons instead generate down and up (press and release) events, and the lock responds to an up event only after the corresponding down event.</p>
<pre><code class="erl">
...
-export([down/1, up/1]).
...
down(Button) -&gt;
    gen_statem:cast(?NAME, {down,Button}).

up(Button) -&gt;
    gen_statem:cast(?NAME, {up,Button}).

...

locked(enter, _OldState, Data) -&gt;
    do_lock(),
    {keep_state,Data#{buttons =&gt; []}};
locked(
  internal, {button,Button},
  #{code := Code, length := Length, buttons := Buttons} = Data) -&gt;
...

</code></pre>

<pre><code class="erl">
handle_common(cast, {down,Button}, Data) -&gt;
    {keep_state, Data#{button =&gt; Button}};
handle_common(cast, {up,Button}, Data) -&gt;
    case Data of
        #{button := Button} -&gt;
            {keep_state,maps:remove(button, Data),
             [{next_event,internal,{button,Button}}]};
        #{} -&gt;
            keep_state_and_data
    end;
...

open(internal, {button,_}, Data) -&gt;
    {keep_state,Data,[postpone]};
...

</code></pre>

<p>If you start this program with <em>code_lock:start([17])</em> you can unlock with <em>code_lock:down(17), code_lock:up(17).</em>
<a name="Example Revisited">Example Revisited</a> </p>
<h2 id="example-revisited">Example Revisited</h2>
<p>This section includes the example after most of the mentioned modifications and some more using <strong>state enter calls</strong> , which deserves a new state diagram:
 <img alt="Code Lock State Diagram Revisited" src="../code_lock_2.svg" /> 
Notice that this state diagram does not specify how to handle a button event in the state <em>open</em> . So, you need to read in some side notes, that is, here: that unspecified events shall be postponed (handled in some later state). Also, the state diagram does not show that the <em>code_length/0</em> call must be handled in every state.
 <a name="Callback Mode: state_functions">Callback Mode: state_functions</a> </p>
<h2 id="callback-mode-state_functions">Callback Mode: state_functions</h2>
<p>Using state functions:</p>
<pre><code class="erl">
-module(code_lock).
-behaviour(gen_statem).
-define(NAME, code_lock_2).

-export([start_link/1,stop/0]).
-export([down/1,up/1,code_length/0]).
-export([init/1,callback_mode/0,terminate/3]).
-export([locked/3,open/3]).

start_link(Code) -&gt;
    gen_statem:start_link({local,?NAME}, ?MODULE, Code, []).
stop() -&gt;
    gen_statem:stop(?NAME).

down(Button) -&gt;
    gen_statem:cast(?NAME, {down,Button}).
up(Button) -&gt;
    gen_statem:cast(?NAME, {up,Button}).
code_length() -&gt;
    gen_statem:call(?NAME, code_length).

</code></pre>

<pre><code class="erl">
init(Code) -&gt;
    process_flag(trap_exit, true),
    Data = #{code =&gt; Code, length =&gt; length(Code), buttons =&gt; []},
    {ok, locked, Data}.

callback_mode() -&gt;
    [state_functions,state_enter].

-define(HANDLE_COMMON,
    ?FUNCTION_NAME(T, C, D) -&gt; handle_common(T, C, D)).
%%
handle_common(cast, {down,Button}, Data) -&gt;
    {keep_state, Data#{button =&gt; Button}};
handle_common(cast, {up,Button}, Data) -&gt;
    case Data of
        #{button := Button} -&gt;
            {keep_state, maps:remove(button, Data),
             [{next_event,internal,{button,Button}}]};
        #{} -&gt;
            keep_state_and_data
    end;
handle_common({call,From}, code_length, #{code := Code}) -&gt;
    {keep_state_and_data,
     [{reply,From,length(Code)}]}.

</code></pre>

<pre><code class="erl">
locked(enter, _OldState, Data) -&gt;
    do_lock(),
    {keep_state, Data#{buttons := []}};
locked(state_timeout, button, Data) -&gt;
    {keep_state, Data#{buttons := []}};
locked(
  internal, {button,Button},
  #{code := Code, length := Length, buttons := Buttons} = Data) -&gt;
    NewButtons =
        if
            length(Buttons) &lt; Length -&gt;
                Buttons;
            true -&gt;
                tl(Buttons)
        end ++ [Button],
    if
        NewButtons =:= Code -&gt; % Correct
            {next_state, open, Data};
    true -&gt; % Incomplete | Incorrect
            {keep_state, Data#{buttons := NewButtons},
             [{state_timeout,30000,button}]} % Time in milliseconds
    end;
?HANDLE_COMMON.

</code></pre>

<pre><code class="erl">
open(enter, _OldState, _Data) -&gt;
    do_unlock(),
    {keep_state_and_data,
     [{state_timeout,10000,lock}]}; % Time in milliseconds
open(state_timeout, lock, Data) -&gt;
    {next_state, locked, Data};
open(internal, {button,_}, _) -&gt;
    {keep_state_and_data, [postpone]};
?HANDLE_COMMON.

do_lock() -&gt;
    io:format(&quot;Locked~n&quot;, []).
do_unlock() -&gt;
    io:format(&quot;Open~n&quot;, []).

terminate(_Reason, State, _Data) -&gt;
    State =/= locked andalso do_lock(),
    ok.

</code></pre>

<p><a name="Callback Mode: handle_event_function">Callback Mode: handle_event_function</a> </p>
<h2 id="callback-mode-handle_event_function">Callback Mode: handle_event_function</h2>
<p>This section describes what to change in the example to use one <em>handle_event/4</em> function. The previously used approach to first branch depending on event does not work that well here because of the <strong>state enter calls</strong> , so this example first branches depending on state:</p>
<pre><code class="erl">
-export([handle_event/4]).

</code></pre>

<pre><code class="erl">
callback_mode() -&gt;
    [handle_event_function,state_enter].

</code></pre>

<pre><code class="erl">
%%
%% State: locked
handle_event(enter, _OldState, locked, Data) -&gt;
    do_lock(),
    {keep_state, Data#{buttons := []}};
handle_event(state_timeout, button, locked, Data) -&gt;
    {keep_state, Data#{buttons := []}};
handle_event(
  internal, {button,Button}, locked,
  #{code := Code, length := Length, buttons := Buttons} = Data) -&gt;
    NewButtons =
        if
            length(Buttons) &lt; Length -&gt;
                Buttons;
            true -&gt;
                tl(Buttons)
        end ++ [Button],
    if
        NewButtons =:= Code -&gt; % Correct
            {next_state, open, Data};
    true -&gt; % Incomplete | Incorrect
            {keep_state, Data#{buttons := NewButtons},
             [{state_timeout,30000,button}]} % Time in milliseconds
    end;

</code></pre>

<pre><code class="erl">
%%
%% State: open
handle_event(enter, _OldState, open, _Data) -&gt;
    do_unlock(),
    {keep_state_and_data,
     [{state_timeout,10000,lock}]}; % Time in milliseconds
handle_event(state_timeout, lock, open, Data) -&gt;
    {next_state, locked, Data};
handle_event(internal, {button,_}, open, _) -&gt;
    {keep_state_and_data,[postpone]};

</code></pre>

<pre><code class="erl">
%% Common events
handle_event(cast, {down,Button}, _State, Data) -&gt;
    {keep_state, Data#{button =&gt; Button}};
handle_event(cast, {up,Button}, _State, Data) -&gt;
    case Data of
        #{button := Button} -&gt;
            {keep_state, maps:remove(button, Data),
             [{next_event,internal,{button,Button}},
              {state_timeout,30000,button}]}; % Time in milliseconds
        #{} -&gt;
            keep_state_and_data
    end;
handle_event({call,From}, code_length, _State, #{length := Length}) -&gt;
    {keep_state_and_data,
     [{reply,From,Length}]}.

</code></pre>

<p>Notice that postponing buttons from the <em>open</em> state to the <em>locked</em> state feels like a strange thing to do for a code lock, but it at least illustrates event postponing.
<a name="Filter the State">Filter the State</a> </p>
<h2 id="filter-the-state">Filter the State</h2>
<p>The example servers so far in this chapter print the full internal state in the error log, for example, when killed by an exit signal or because of an internal error. This state contains both the code lock code and which digits that remain to unlock.</p>
<p>This state data can be regarded as sensitive, and maybe not what you want in the error log because of some unpredictable event.</p>
<p>Another reason to filter the state can be that the state is too large to print, as it fills the error log with uninteresting details.</p>
<p>To avoid this, you can format the internal state that gets in the error log and gets returned from <a href="../stdlib/sys#get_status/1">stdlib/sys#get_status/1</a> by implementing function <a href="../stdlib/gen_statem#Module:format_status/2">stdlib/gen_statem#Module:format_status/2</a> , for example like this:</p>
<pre><code class="erl">
...
-export([init/1,terminate/3,format_status/2]).
...

format_status(Opt, [_PDict,State,Data]) -&gt;
    StateData =
    {State,
     maps:filter(
       fun (code, _) -&gt; false;
           (_, _) -&gt; true
       end,
       Data)},
    case Opt of
    terminate -&gt;
        StateData;
    normal -&gt;
        [{data,[{&quot;State&quot;,StateData}]}]
    end.

</code></pre>

<p>It is not mandatory to implement a <a href="../stdlib/gen_statem#Module:format_status/2">stdlib/gen_statem#Module:format_status/2</a> function. If you do not, a default implementation is used that does the same as this example function without filtering the <em>Data</em> term, that is, <em>StateData = {State,Data}</em> , in this example containing sensitive information.
<a name="Complex State">Complex State</a> </p>
<h2 id="complex-state">Complex State</h2>
<p>The <strong>callback mode</strong> <a href="../stdlib/gen_statem#type-callback_mode">stdlib/gen_statem#type-callback_mode</a> enables using a non-atom state as described in section <a href="#Callback Modes">Callback Modes</a> , for example, a complex state term like a tuple.</p>
<p>One reason to use this is when you have a state item that when changed should cancel the <a href="#State Time-Outs">state time-out</a> , or one that affects the event handling in combination with postponing events. We will go for the latter and complicate the previous example by introducing a configurable lock button (this is the state item in question), which in the <em>open</em> state immediately locks the door, and an API function <em>set_lock_button/1</em> to set the lock button.</p>
<p>Suppose now that we call <em>set_lock_button</em> while the door is open, and we have already postponed a button event that was the new lock button:</p>
<pre><code class="erl">
1&gt; code_lock:start_link([a,b,c], x).
{ok,&lt;0.666.0&gt;}
2&gt; code_lock:button(a).
ok
3&gt; code_lock:button(b).
ok
4&gt; code_lock:button(c).
ok
Open
5&gt; code_lock:button(y).
ok
6&gt; code_lock:set_lock_button(y).
x
% What should happen here?  Immediate lock or nothing?

</code></pre>

<p>We could say that the button was pressed too early so it is not to be recognized as the lock button. Or we can make the lock button part of the state so when we then change the lock button in the locked state, the change becomes a <strong>state change</strong> and all postponed events are retried, therefore the lock is immediately locked!</p>
<p>We define the state as <em>{StateName,LockButton}</em> , where <em>StateName</em> is as before and <em>LockButton</em> is the current lock button:</p>
<pre><code class="erl">
-module(code_lock).
-behaviour(gen_statem).
-define(NAME, code_lock_3).

-export([start_link/2,stop/0]).
-export([button/1,set_lock_button/1]).
-export([init/1,callback_mode/0,terminate/3]).
-export([handle_event/4]).

start_link(Code, LockButton) -&gt;
    gen_statem:start_link(
        {local,?NAME}, ?MODULE, {Code,LockButton}, []).
stop() -&gt;
    gen_statem:stop(?NAME).

button(Button) -&gt;
    gen_statem:cast(?NAME, {button,Button}).
set_lock_button(LockButton) -&gt;
    gen_statem:call(?NAME, {set_lock_button,LockButton}).

</code></pre>

<pre><code class="erl">
init({Code,LockButton}) -&gt;
    process_flag(trap_exit, true),
    Data = #{code =&gt; Code, length =&gt; length(Code), buttons =&gt; []},
    {ok, {locked,LockButton}, Data}.

callback_mode() -&gt;
    [handle_event_function,state_enter].

%% State: locked
handle_event(enter, _OldState, {locked,_}, Data) -&gt;
    do_lock(),
    {keep_state, Data#{buttons := []}};
handle_event(state_timeout, button, {locked,_}, Data) -&gt;
    {keep_state, Data#{buttons := []}};
handle_event(
  cast, {button,Button}, {locked,LockButton},
  #{code := Code, length := Length, buttons := Buttons} = Data) -&gt;
    NewButtons =
        if
            length(Buttons) &lt; Length -&gt;
                Buttons;
            true -&gt;
                tl(Buttons)
        end ++ [Button],
    if
        NewButtons =:= Code -&gt; % Correct
            {next_state, {open,LockButton}, Data};
    true -&gt; % Incomplete | Incorrect
            {keep_state, Data#{buttons := NewButtons},
             [{state_timeout,30000,button}]} % Time in milliseconds
    end;

</code></pre>

<pre><code class="erl">
%%
%% State: open
handle_event(enter, _OldState, {open,_}, _Data) -&gt;
    do_unlock(),
    {keep_state_and_data,
     [{state_timeout,10000,lock}]}; % Time in milliseconds
handle_event(state_timeout, lock, {open,LockButton}, Data) -&gt;
    {next_state, {locked,LockButton}, Data};
handle_event(cast, {button,LockButton}, {open,LockButton}, Data) -&gt;
    {next_state, {locked,LockButton}, Data};
handle_event(cast, {button,_}, {open,_}, _Data) -&gt;
    {keep_state_and_data,[postpone]};

</code></pre>

<pre><code class="erl">
%%
%% Common events
handle_event(
  {call,From}, {set_lock_button,NewLockButton},
  {StateName,OldLockButton}, Data) -&gt;
    {next_state, {StateName,NewLockButton}, Data,
     [{reply,From,OldLockButton}]}.

</code></pre>

<pre><code class="erl">
do_lock() -&gt;
    io:format(&quot;Locked~n&quot;, []).
do_unlock() -&gt;
    io:format(&quot;Open~n&quot;, []).

terminate(_Reason, State, _Data) -&gt;
    State =/= locked andalso do_lock(),
    ok.

</code></pre>

<p><a name="Hibernation">Hibernation</a> </p>
<h2 id="hibernation">Hibernation</h2>
<p>If you have many servers in one node and they have some state(s) in their lifetime in which the servers can be expected to idle for a while, and the amount of heap memory all these servers need is a problem, then the memory footprint of a server can be mimimized by hibernating it through <a href="../stdlib/proc_lib#hibernate/3">stdlib/proc_lib#hibernate/3</a> .</p>
<div class="admonition info">
<p class="admonition-title">Note</p>
</div>
<p>It is rather costly to hibernate a process; see <a href="../erts/erlang#hibernate/3">erts/erlang#hibernate/3</a> . It is not something you want to do after every event.</p>
<p>We can in this example hibernate in the <em>{open,_}</em> state, because what normally occurs in that state is that the state time-out after a while triggers a transition to <em>{locked,_}</em> :</p>
<pre><code class="erl">
...
%%
%% State: open
handle_event(enter, _OldState, {open,_}, _Data) -&gt;
    do_unlock(),
    {keep_state_and_data,
     [{state_timeout,10000,lock}, % Time in milliseconds
      hibernate]};
...

</code></pre>

<p>The atom <a href="../stdlib/gen_statem#type-hibernate">stdlib/gen_statem#type-hibernate</a> in the action list on the last line when entering the <em>{open,_}</em> state is the only change. If any event arrives in the <em>{open,_},</em> state, we do not bother to rehibernate, so the server stays awake after any event.</p>
<p>To change that we would need to insert action <em>hibernate</em> in more places. For example, the state-independent <em>set_lock_button</em> operation would have to use <em>hibernate</em> but only in the <em>{open,_}</em> state, which would clutter the code.</p>
<p>Another not uncommon scenario is to use the <a href="#Event Time-Outs">event time-out</a> to trigger hibernation after a certain time of inactivity. There is also a server start option <a href="../stdlib/gen_statem#type-enter_loop_opt">stdlib/gen_statem#type-enter_loop_opt</a> for <a href="../stdlib/gen_statem#start/3">stdlib/gen_statem#start/3</a> , <a href="../stdlib/gen_statem#start_link/3">stdlib/gen_statem#start_link/3</a> or <a href="../stdlib/gen_statem#enter_loop/4">stdlib/gen_statem#enter_loop/4</a> that may be used to automatically hibernate the server.</p>
<p>This particular server probably does not use heap memory worth hibernating for. To gain anything from hibernation, your server would have to produce non-insignificant garbage during callback execution, for which this example server can serve as a bad example.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../sup_princ/" class="btn btn-neutral float-right" title="Supervisor Behaviour">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../spec_proc/" class="btn btn-neutral" title="sys and proc_lib"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../spec_proc/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../sup_princ/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../../..';</script>
    <script src="../../../js/theme.js" defer></script>
      <script src="../../../search/main.js" defer></script>

</body>
</html>
