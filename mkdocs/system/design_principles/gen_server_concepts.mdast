{above,
 {above,
  {above,
   {above,
    {above,
     {above,
      {above,
       {above,
        {above,
         {above,
          {above,{above,{text,[0]},null},null},
          {above,
           {above,
            {text,
             [22,35,32,103,101,110,95,115,101,114,118,101,114,32,66,101,104,
              97,118,105,111,117,114]},
            null},
           null}},
         {text,"#<a name=\"gen_server\">gen_server</a>"}},
        {above,
         {above,{above,{text,[0]},null},null},
         {above,
          {above,
           {sep,
            [{sep,
              [{sep,[{text,"#This section is to be read with the"}],0,false},
               {text,
                [29,91,103,101,110,95,115,101,114,118,101,114,40,51,41,93,40,
                 46,47,103,101,110,95,115,101,114,118,101,114,41]},
               {sep,
                [{text,
                  [14,109,97,110,117,97,108,32,112,97,103,101,32,105,110]}],
                0,false},
               {text,"\b*stdlib*"},
               {sep,
                [{text,
                  "O, where all interface functions and callback functions are described in detail."}],
                0,false}],
              0,false}],
            0,true},
           null},
          null}}},
       {sep,
        [{above,
          {above,{above,{text,[0]},null},null},
          {above,{above,{text,"\e## Client-Server Principles"},null},null}},
         {above,
          {above,{above,{text,[0]},null},null},
          {above,
           {above,
            {sep,
             [{sep,
               [{text,
                 [283,84,104,101,32,99,108,105,101,110,116,45,115,101,114,118,
                  101,114,32,109,111,100,101,108,32,105,115,32,99,104,97,114,
                  97,99,116,101,114,105,122,101,100,32,98,121,32,97,32,99,101,
                  110,116,114,97,108,32,115,101,114,118,101,114,32,97,110,100,
                  32,97,110,32,97,114,98,105,116,114,97,114,121,32,110,117,
                  109,98,101,114,32,111,102,32,99,108,105,101,110,116,115,46,
                  32,84,104,101,32,99,108,105,101,110,116,45,115,101,114,118,
                  101,114,32,109,111,100,101,108,32,105,115,32,117,115,101,
                  100,32,102,111,114,32,114,101,115,111,117,114,99,101,32,109,
                  97,110,97,103,101,109,101,110,116,32,111,112,101,114,97,116,
                  105,111,110,115,44,32,119,104,101,114,101,32,115,101,118,
                  101,114,97,108,32,100,105,102,102,101,114,101,110,116,32,99,
                  108,105,101,110,116,115,32,119,97,110,116,32,116,111,32,115,
                  104,97,114,101,32,97,32,99,111,109,109,111,110,32,114,101,
                  115,111,117,114,99,101,46,32,84,104,101,32,115,101,114,118,
                  101,114,32,105,115,32,114,101,115,112,111,110,115,105,98,
                  108,101,32,102,111,114,32,109,97,110,97,103,105,110,103,32,
                  116,104,105,115,32,114,101,115,111,117,114,99,101,46]}],
               0,false}],
             0,true},
            null},
           null}},
         {text,"'<a name=\"clientserver\">clientserver</a>"},
         {text,
          "=![Client-Server Model](../design_principles/clientserver.gif)"}],
        0,false}},
      {sep,
       [{above,
         {above,{above,{text,[0]},null},null},
         {above,{above,{text,"\n## Example"},null},null}},
        {above,
         {above,{above,{text,[0]},null},null},
         {above,
          {above,
           {sep,
            [{sep,
              [{sep,
                [{text,
                  "DAn example of a simple server written in plain Erlang is provided in"}],
                0,false},
               {text,"\e[Overview](./des_princ#ch1)"},
               {sep,
                [{text,"'. The server can be reimplemented using"}],
                0,false},
               {text,"\f*gen_server*"},
               {sep,[{text,"$, resulting in this callback module:"}],0,false}],
              0,false}],
            0,true},
           null},
          null}},
        {text,
         [19,60,97,32,110,97,109,101,61,34,101,120,34,62,101,120,60,47,97,62]},
        {above,
         {above,{above,{text,[0]},null},null},
         {above,
          {above,
           {above,
            {above,
             {text,[3,96,96,96]},
             {sep,
              [{text,
                [513,10,45,109,111,100,117,108,101,40,99,104,51,41,46,10,45,
                 98,101,104,97,118,105,111,117,114,40,103,101,110,95,115,101,
                 114,118,101,114,41,46,10,10,45,101,120,112,111,114,116,40,91,
                 115,116,97,114,116,95,108,105,110,107,47,48,93,41,46,10,45,
                 101,120,112,111,114,116,40,91,97,108,108,111,99,47,48,44,32,
                 102,114,101,101,47,49,93,41,46,10,45,101,120,112,111,114,116,
                 40,91,105,110,105,116,47,49,44,32,104,97,110,100,108,101,95,
                 99,97,108,108,47,51,44,32,104,97,110,100,108,101,95,99,97,
                 115,116,47,50,93,41,46,10,10,115,116,97,114,116,95,108,105,
                 110,107,40,41,32,45,62,10,32,32,32,32,103,101,110,95,115,101,
                 114,118,101,114,58,115,116,97,114,116,95,108,105,110,107,40,
                 123,108,111,99,97,108,44,32,99,104,51,125,44,32,99,104,51,44,
                 32,91,93,44,32,91,93,41,46,10,10,97,108,108,111,99,40,41,32,
                 45,62,10,32,32,32,32,103,101,110,95,115,101,114,118,101,114,
                 58,99,97,108,108,40,99,104,51,44,32,97,108,108,111,99,41,46,
                 10,10,102,114,101,101,40,67,104,41,32,45,62,10,32,32,32,32,
                 103,101,110,95,115,101,114,118,101,114,58,99,97,115,116,40,
                 99,104,51,44,32,123,102,114,101,101,44,32,67,104,125,41,46,
                 10,10,105,110,105,116,40,95,65,114,103,115,41,32,45,62,10,32,
                 32,32,32,123,111,107,44,32,99,104,97,110,110,101,108,115,40,
                 41,125,46,10,10,104,97,110,100,108,101,95,99,97,108,108,40,
                 97,108,108,111,99,44,32,95,70,114,111,109,44,32,67,104,115,
                 41,32,45,62,10,32,32,32,32,123,67,104,44,32,67,104,115,50,
                 125,32,61,32,97,108,108,111,99,40,67,104,115,41,44,10,32,32,
                 32,32,123,114,101,112,108,121,44,32,67,104,44,32,67,104,115,
                 50,125,46,10,10,104,97,110,100,108,101,95,99,97,115,116,40,
                 123,102,114,101,101,44,32,67,104,125,44,32,67,104,115,41,32,
                 45,62,10,32,32,32,32,67,104,115,50,32,61,32,102,114,101,101,
                 40,67,104,44,32,67,104,115,41,44,10,32,32,32,32,123,110,111,
                 114,101,112,108,121,44,32,67,104,115,50,125,46]}],
              0,true}},
            {text,[3,96,96,96]}},
           null},
          null}},
        {above,
         {above,{above,{text,[0]},null},null},
         {above,
          {above,
           {sep,
            [{sep,
              [{text,"+The code is explained in the next sections."}],
              0,false}],
            0,true},
           null},
          null}}],
       0,false}},
     {sep,
      [{above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {text,
           [24,35,35,32,83,116,97,114,116,105,110,103,32,97,32,71,101,110,95,
            83,101,114,118,101,114]},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{sep,
               [{text,"'In the example in the previous section,"}],
               0,false},
              {text,"\f*gen_server*"},
              {sep,
               [{text,
                 [21,105,115,32,115,116,97,114,116,101,100,32,98,121,32,99,97,
                  108,108,105,110,103]}],
               0,false},
              {text,
               [18,42,99,104,51,58,115,116,97,114,116,95,108,105,110,107,40,
                41,42]},
              {sep,[{text,[1,58]}],0,false}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {above,
           {above,
            {text,[3,96,96,96]},
            {sep,
             [{text,
               "R\nstart_link() ->\n    gen_server:start_link({local, ch3}, ch3, [], []) => {ok, Pid}"}],
             0,true}},
           {text,[3,96,96,96]}},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,"\f*start_link*"},
              {sep,
               [{text,
                 [14,99,97,108,108,115,32,102,117,110,99,116,105,111,110]}],
               0,false},
              {text,
               [25,42,103,101,110,95,115,101,114,118,101,114,58,115,116,97,
                114,116,95,108,105,110,107,47,52,42]},
              {sep,
               [{text,
                 "4. This function spawns and links to a new process, a"}],
               0,false},
              {text,"\f*gen_server*"},
              {sep,[{text,[1,46]}],0,false}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,
         {above,
          {sep,
           [{text,[1,42]},
            {sep,
             [{above,
               {above,{above,{text,[0]},null},null},
               {above,
                {above,
                 {sep,
                  [{sep,
                    [{sep,
                      [{text,
                        [19,84,104,101,32,102,105,114,115,116,32,97,114,103,
                         117,109,101,110,116,44]}],
                      0,false},
                     {text,
                      [14,42,123,108,111,99,97,108,44,32,99,104,51,125,42]},
                     {sep,
                      [{text,
                        "B, specifies the name. The gen_server is then locally registered as"}],
                      0,false},
                     {text,[5,42,99,104,51,42]},
                     {sep,[{text,[1,46]}],0,false}],
                    0,false}],
                  0,true},
                 null},
                null}},
              {above,
               {above,{above,{text,[0]},null},null},
               {above,
                {above,
                 {sep,
                  [{sep,
                    [{sep,[{text,"\eIf the name is omitted, the"}],0,false},
                     {text,"\f*gen_server*"},
                     {sep,
                      [{text,
                        "Nis not registered. Instead its pid must be used. The name can also be given as"}],
                      0,false},
                     {text,
                      [16,42,123,103,108,111,98,97,108,44,32,78,97,109,101,
                       125,42]},
                     {sep,
                      [{text,
                        [19,44,32,105,110,32,119,104,105,99,104,32,99,97,115,
                         101,32,116,104,101]}],
                      0,false},
                     {text,"\f*gen_server*"},
                     {sep,
                      [{text,
                        [19,105,115,32,114,101,103,105,115,116,101,114,101,
                         100,32,117,115,105,110,103]}],
                      0,false},
                     {text,
                      [24,42,103,108,111,98,97,108,58,114,101,103,105,115,116,
                       101,114,95,110,97,109,101,47,50,42]},
                     {sep,[{text,[1,46]}],0,false}],
                    0,false}],
                  0,true},
                 null},
                null}}],
             0,false}],
           0,false},
          {sep,
           [{text,[1,42]},
            {sep,
             [{above,
               {above,{above,{text,[0]},null},null},
               {above,
                {above,
                 {sep,
                  [{sep,
                    [{sep,
                      [{text,
                        [20,84,104,101,32,115,101,99,111,110,100,32,97,114,
                         103,117,109,101,110,116,44]}],
                      0,false},
                     {text,[5,42,99,104,51,42]},
                     {sep,
                      [{text,
                        "c, is the name of the callback module, that is, the module where the callback functions are located."}],
                      0,false}],
                    0,false}],
                  0,true},
                 null},
                null}},
              {above,
               {above,{above,{text,[0]},null},null},
               {above,
                {above,
                 {sep,
                  [{sep,
                    [{sep,
                      [{text,
                        [25,84,104,101,32,105,110,116,101,114,102,97,99,101,
                         32,102,117,110,99,116,105,111,110,115,32,40]}],
                      0,false},
                     {text,"\f*start_link*"},
                     {sep,[{text,[1,44]}],0,false},
                     {text,[7,42,97,108,108,111,99,42]},
                     {sep,[{text,[5,44,32,97,110,100]}],0,false},
                     {text,[6,42,102,114,101,101,42]},
                     {sep,
                      [{text,
                        "A) are then located in the same module as the callback functions ("}],
                      0,false},
                     {text,[6,42,105,110,105,116,42]},
                     {sep,[{text,[1,44]}],0,false},
                     {text,"\r*handle_call*"},
                     {sep,[{text,[5,44,32,97,110,100]}],0,false},
                     {text,"\r*handle_cast*"},
                     {sep,
                      [{text,
                        "u). This is normally good programming practice, to have the code corresponding to one process contained in one module."}],
                      0,false}],
                    0,false}],
                  0,true},
                 null},
                null}}],
             0,false}],
           0,false}},
         {sep,
          [{text,[1,42]},
           {sep,
            [{sep,
              [{text,
                [19,84,104,101,32,116,104,105,114,100,32,97,114,103,117,109,
                 101,110,116,44]}],
              0,false},
             {text,[4,42,91,93,42]},
             {sep,
              [{text,
                "9, is a term that is passed as is to the callback function"}],
              0,false},
             {text,[6,42,105,110,105,116,42]},
             {sep,[{text,[7,46,32,72,101,114,101,44]}],0,false},
             {text,[6,42,105,110,105,116,42]},
             {sep,
              [{text,"2does not need any indata and ignores the argument."}],
              0,false}],
            0,false}],
          0,false}},
        {sep,
         [{text,[1,42]},
          {sep,
           [{sep,
             [{text,
               [20,84,104,101,32,102,111,117,114,116,104,32,97,114,103,117,
                109,101,110,116,44]}],
             0,false},
            {text,[4,42,91,93,42]},
            {sep,
             [{text,
               [31,44,32,105,115,32,97,32,108,105,115,116,32,111,102,32,111,
                112,116,105,111,110,115,46,32,83,101,101,32,116,104,101]}],
             0,false},
            {text,[15,42,103,101,110,95,115,101,114,118,101,114,40,51,41,42]},
            {sep,[{text,"\"manual page for available options."}],0,false}],
           0,false}],
         0,false}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{sep,[{text,"&If name registration succeeds, the new"}],0,false},
              {text,"\f*gen_server*"},
              {sep,[{text,"#process calls the callback function"}],0,false},
              {text,[14,42,99,104,51,58,105,110,105,116,40,91,93,41,42]},
              {sep,[{text,[1,46]}],0,false},
              {text,[6,42,105,110,105,116,42]},
              {sep,
               [{text,
                 [21,105,115,32,101,120,112,101,99,116,101,100,32,116,111,32,
                  114,101,116,117,114,110]}],
               0,false},
              {text,"\r*{ok, State}*"},
              {sep,[{text,[7,44,32,119,104,101,114,101]}],0,false},
              {text,[7,42,83,116,97,116,101,42]},
              {sep,
               [{text,
                 [28,105,115,32,116,104,101,32,105,110,116,101,114,110,97,108,
                  32,115,116,97,116,101,32,111,102,32,116,104,101]}],
               0,false},
              {text,"\f*gen_server*"},
              {sep,
               [{text,
                 "4. In this case, the state is the available channels."}],
               0,false}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {above,
           {above,
            {text,[3,96,96,96]},
            {sep,[{text,"%\ninit(_Args) ->\n    {ok, channels()}."}],0,true}},
           {text,[3,96,96,96]}},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               [23,42,103,101,110,95,115,101,114,118,101,114,58,115,116,97,
                114,116,95,108,105,110,107,42]},
              {sep,
               [{text,",is synchronous. It does not return until the"}],
               0,false},
              {text,"\f*gen_server*"},
              {sep,
               [{text,
                 "6has been initialized and is ready to receive requests."}],
               0,false}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               [23,42,103,101,110,95,115,101,114,118,101,114,58,115,116,97,
                114,116,95,108,105,110,107,42]},
              {sep,
               [{text,
                 [19,109,117,115,116,32,98,101,32,117,115,101,100,32,105,102,
                  32,116,104,101]}],
               0,false},
              {text,"\f*gen_server*"},
              {sep,
               [{text,
                 "[is part of a supervision tree, that is, started by a supervisor. There is another function,"}],
               0,false},
              {text,
               [18,42,103,101,110,95,115,101,114,118,101,114,58,115,116,97,
                114,116,42]},
              {sep,
               [{text,
                 [23,44,32,116,111,32,115,116,97,114,116,32,97,32,115,116,97,
                  110,100,97,108,111,110,101]}],
               0,false},
              {text,"\f*gen_server*"},
              {sep,[{text,"\f, that is, a"}],0,false},
              {text,"\f*gen_server*"},
              {sep,
               [{text,"'that is not part of a supervision tree."}],
               0,false}],
             0,false}],
           0,true},
          null},
         null}}],
      0,false}},
    {sep,
     [{above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {text,
          [30,35,35,32,83,121,110,99,104,114,111,110,111,117,115,32,82,101,
           113,117,101,115,116,115,32,45,32,67,97,108,108]},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {sep,
          [{sep,
            [{sep,
              [{text,
                [23,84,104,101,32,115,121,110,99,104,114,111,110,111,117,115,
                 32,114,101,113,117,101,115,116]}],
              0,false},
             {text,"\t*alloc()*"},
             {sep,
              [{text,
                [20,105,115,32,105,109,112,108,101,109,101,110,116,101,100,32,
                 117,115,105,110,103]}],
              0,false},
             {text,
              [19,42,103,101,110,95,115,101,114,118,101,114,58,99,97,108,108,
               47,50,42]},
             {sep,[{text,[1,58]}],0,false}],
            0,false}],
          0,true},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {above,
          {above,
           {text,[3,96,96,96]},
           {sep,
            [{text,",\nalloc() ->\n    gen_server:call(ch3, alloc)."}],
            0,true}},
          {text,[3,96,96,96]}},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {sep,
          [{sep,
            [{text,[5,42,99,104,51,42]},
             {sep,
              [{text,
                [18,105,115,32,116,104,101,32,110,97,109,101,32,111,102,32,
                 116,104,101]}],
              0,false},
             {text,"\f*gen_server*"},
             {sep,
              [{text,".and must agree with the name used to start it."}],
              0,false},
             {text,[7,42,97,108,108,111,99,42]},
             {sep,
              [{text,
                [22,105,115,32,116,104,101,32,97,99,116,117,97,108,32,114,101,
                 113,117,101,115,116,46]}],
              0,false}],
            0,false}],
          0,true},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {sep,
          [{sep,
            [{sep,
              [{text,"2The request is made into a message and sent to the"}],
              0,false},
             {text,"\f*gen_server*"},
             {sep,[{text,"#. When the request is received, the"}],0,false},
             {text,"\f*gen_server*"},
             {sep,[{text,[5,99,97,108,108,115]}],0,false},
             {text,"#*handle_call(Request, From, State)*"},
             {sep,[{text,"%, which is expected to return a tuple"}],0,false},
             {text,
              [22,42,123,114,101,112,108,121,44,82,101,112,108,121,44,83,116,
               97,116,101,49,125,42]},
             {sep,[{text,[1,46]}],0,false},
             {text,[7,42,82,101,112,108,121,42]},
             {sep,
              [{text,
                "7is the reply that is to be sent back to the client, and"}],
              0,false},
             {text,"\b*State1*"},
             {sep,[{text,"#is a new value for the state of the"}],0,false},
             {text,"\f*gen_server*"},
             {sep,[{text,[1,46]}],0,false}],
            0,false}],
          0,true},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {above,
          {above,
           {text,[3,96,96,96]},
           {sep,
            [{text,
              "V\nhandle_call(alloc, _From, Chs) ->\n    {Ch, Chs2} = alloc(Chs),\n    {reply, Ch, Chs2}."}],
            0,true}},
          {text,[3,96,96,96]}},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {sep,
          [{sep,
            [{sep,
              [{text,"0In this case, the reply is the allocated channel"}],
              0,false},
             {text,[4,42,67,104,42]},
             {sep,
              [{text,
                "<and the new state is the set of remaining available channels"}],
              0,false},
             {text,[6,42,67,104,115,50,42]},
             {sep,[{text,[1,46]}],0,false}],
            0,false}],
          0,true},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {sep,
          [{sep,
            [{sep,
              [{text,[14,84,104,117,115,44,32,116,104,101,32,99,97,108,108]}],
              0,false},
             {text,"\r*ch3:alloc()*"},
             {sep,
              [{text,
                [29,114,101,116,117,114,110,115,32,116,104,101,32,97,108,108,
                 111,99,97,116,101,100,32,99,104,97,110,110,101,108]}],
              0,false},
             {text,[4,42,67,104,42]},
             {sep,[{text,[7,97,110,100,32,116,104,101]}],0,false},
             {text,"\f*gen_server*"},
             {sep,
              [{text,
                "Lthen waits for new requests, now with an updated list of available channels."}],
              0,false}],
            0,false}],
          0,true},
         null},
        null}}],
     0,false}},
   {sep,
    [{above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {text,
         [31,35,35,32,65,115,121,110,99,104,114,111,110,111,117,115,32,82,101,
          113,117,101,115,116,115,32,45,32,67,97,115,116]},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {sep,
         [{sep,
           [{sep,
             [{text,
               [24,84,104,101,32,97,115,121,110,99,104,114,111,110,111,117,
                115,32,114,101,113,117,101,115,116]}],
             0,false},
            {text,"\n*free(Ch)*"},
            {sep,
             [{text,
               [20,105,115,32,105,109,112,108,101,109,101,110,116,101,100,32,
                117,115,105,110,103]}],
             0,false},
            {text,
             [19,42,103,101,110,95,115,101,114,118,101,114,58,99,97,115,116,
              47,50,42]},
            {sep,[{text,[1,58]}],0,false}],
           0,false}],
         0,true},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {above,
         {above,
          {text,[3,96,96,96]},
          {sep,
           [{text,"2\nfree(Ch) ->\n    gen_server:cast(ch3, {free, Ch})."}],
           0,true}},
         {text,[3,96,96,96]}},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {sep,
         [{sep,
           [{text,[5,42,99,104,51,42]},
            {sep,
             [{text,
               [18,105,115,32,116,104,101,32,110,97,109,101,32,111,102,32,116,
                104,101]}],
             0,false},
            {text,"\f*gen_server*"},
            {sep,[{text,[1,46]}],0,false},
            {text,"\f*{free, Ch}*"},
            {sep,
             [{text,
               [22,105,115,32,116,104,101,32,97,99,116,117,97,108,32,114,101,
                113,117,101,115,116,46]}],
             0,false}],
           0,false}],
         0,true},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {sep,
         [{sep,
           [{sep,
             [{text,"2The request is made into a message and sent to the"}],
             0,false},
            {text,"\f*gen_server*"},
            {sep,[{text,[1,46]}],0,false},
            {text,[6,42,99,97,115,116,42]},
            {sep,[{text,"\n, and thus"}],0,false},
            {text,[6,42,102,114,101,101,42]},
            {sep,
             [{text,
               [14,44,32,116,104,101,110,32,114,101,116,117,114,110,115]}],
             0,false},
            {text,[4,42,111,107,42]},
            {sep,[{text,[1,46]}],0,false}],
           0,false}],
         0,true},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {sep,
         [{sep,
           [{sep,[{text,"!When the request is received, the"}],0,false},
            {text,"\f*gen_server*"},
            {sep,[{text,[5,99,97,108,108,115]}],0,false},
            {text,
             [29,42,104,97,110,100,108,101,95,99,97,115,116,40,82,101,113,117,
              101,115,116,44,32,83,116,97,116,101,41,42]},
            {sep,[{text,"%, which is expected to return a tuple"}],0,false},
            {text,
             [18,42,123,110,111,114,101,112,108,121,44,83,116,97,116,101,49,
              125,42]},
            {sep,[{text,[1,46]}],0,false},
            {text,"\b*State1*"},
            {sep,[{text,"#is a new value for the state of the"}],0,false},
            {text,"\f*gen_server*"},
            {sep,[{text,[1,46]}],0,false}],
           0,false}],
         0,true},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {above,
         {above,
          {text,[3,96,96,96]},
          {sep,
           [{text,
             "O\nhandle_cast({free, Ch}, Chs) ->\n    Chs2 = free(Ch, Chs),\n    {noreply, Chs2}."}],
           0,true}},
         {text,[3,96,96,96]}},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {sep,
         [{sep,
           [{sep,
             [{text,
               "EIn this case, the new state is the updated list of available channels"}],
             0,false},
            {text,[6,42,67,104,115,50,42]},
            {sep,[{text,[5,46,32,84,104,101]}],0,false},
            {text,"\f*gen_server*"},
            {sep,
             [{text,
               [30,105,115,32,110,111,119,32,114,101,97,100,121,32,102,111,
                114,32,110,101,119,32,114,101,113,117,101,115,116,115,46]}],
             0,false}],
           0,false}],
         0,true},
        null},
       null}}],
    0,false}},
  {sep,
   [{above,
     {above,{above,{text,[0]},null},null},
     {above,{above,{text,"\v## Stopping"},null},null}},
    {sep,
     [{above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {text,
          [24,35,35,32,73,110,32,97,32,83,117,112,101,114,118,105,115,105,111,
           110,32,84,114,101,101]},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {sep,
          [{sep,
            [{sep,[{text,[6,73,102,32,116,104,101]}],0,false},
             {text,"\f*gen_server*"},
             {sep,
              [{text,
                ">is part of a supervision tree, no stop function is needed. The"}],
              0,false},
             {text,"\f*gen_server*"},
             {sep,
              [{text,
                "Wis automatically terminated by its supervisor. Exactly how this is done is defined by a"}],
              0,false},
             {text,")[shutdown strategy](./sup_princ#shutdown)"},
             {sep,
              [{text,
                [22,115,101,116,32,105,110,32,116,104,101,32,115,117,112,101,
                 114,118,105,115,111,114,46]}],
              0,false}],
            0,false}],
          0,true},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {sep,
          [{sep,
            [{sep,
              [{text,
                "iIf it is necessary to clean up before termination, the shutdown strategy must be a time-out value and the"}],
              0,false},
             {text,"\f*gen_server*"},
             {sep,
              [{text,",must be set to trap exit signals in function"}],
              0,false},
             {text,[6,42,105,110,105,116,42]},
             {sep,
              [{text,
                [31,46,32,87,104,101,110,32,111,114,100,101,114,101,100,32,
                 116,111,32,115,104,117,116,100,111,119,110,44,32,116,104,
                 101]}],
              0,false},
             {text,"\f*gen_server*"},
             {sep,[{text," then calls the callback function"}],0,false},
             {text,
              [28,42,116,101,114,109,105,110,97,116,101,40,115,104,117,116,
               100,111,119,110,44,32,83,116,97,116,101,41,42]},
             {sep,[{text,[1,58]}],0,false}],
            0,false}],
          0,true},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {above,
          {above,
           {text,[3,96,96,96]},
           {sep,
            [{text,
              "¢\ninit(Args) ->\n    ...,\n    process_flag(trap_exit, true),\n    ...,\n    {ok, State}.\n\n...\n\nterminate(shutdown, State) ->\n    ..code for cleaning up here..\n    ok."}],
            0,true}},
          {text,[3,96,96,96]}},
         null},
        null}}],
     0,false},
    {sep,
     [{above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {text,
          [25,35,35,32,83,116,97,110,100,97,108,111,110,101,32,71,101,110,95,
           83,101,114,118,101,114,115]},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {sep,
          [{sep,
            [{sep,[{text,[6,73,102,32,116,104,101]}],0,false},
             {text,"\f*gen_server*"},
             {sep,
              [{text,
                "Nis not part of a supervision tree, a stop function can be useful, for example:"}],
              0,false}],
            0,false}],
          0,true},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {above,
          {above,
           {text,[3,96,96,96]},
           {sep,
            [{text,
              "Ö\n...\nexport([stop/0]).\n...\n\nstop() ->\n    gen_server:cast(ch3, stop).\n...\n\nhandle_cast(stop, State) ->\n    {stop, normal, State};\nhandle_cast({free, Ch}, State) ->\n    ....\n\n...\n\nterminate(normal, State) ->\n    ok."}],
            0,true}},
          {text,[3,96,96,96]}},
         null},
        null}},
      {above,
       {above,{above,{text,[0]},null},null},
       {above,
        {above,
         {sep,
          [{sep,
            [{sep,[{text,"\"The callback function handling the"}],0,false},
             {text,[6,42,115,116,111,112,42]},
             {sep,
              [{text,
                [23,114,101,113,117,101,115,116,32,114,101,116,117,114,110,
                 115,32,97,32,116,117,112,108,101]}],
              0,false},
             {text,
              [22,42,123,115,116,111,112,44,110,111,114,109,97,108,44,83,116,
               97,116,101,49,125,42]},
             {sep,[{text,[7,44,32,119,104,101,114,101]}],0,false},
             {text,"\b*normal*"},
             {sep,
              [{text,"-specifies that it is a normal termination and"}],
              0,false},
             {text,"\b*State1*"},
             {sep,[{text,"#is a new value for the state of the"}],0,false},
             {text,"\f*gen_server*"},
             {sep,
              [{text,
                [17,46,32,84,104,105,115,32,99,97,117,115,101,115,32,116,104,
                 101]}],
              0,false},
             {text,"\f*gen_server*"},
             {sep,[{text,[7,116,111,32,99,97,108,108]}],0,false},
             {text,"\e*terminate(normal, State1)*"},
             {sep,[{text,"\"and then it terminates gracefully."}],0,false}],
            0,false}],
          0,true},
         null},
        null}}],
     0,false}],
   0,false}},
 {sep,
  [{above,
    {above,{above,{text,[0]},null},null},
    {above,
     {above,
      {text,
       [26,35,35,32,72,97,110,100,108,105,110,103,32,79,116,104,101,114,32,77,
        101,115,115,97,103,101,115]},
      null},
     null}},
   {above,
    {above,{above,{text,[0]},null},null},
    {above,
     {above,
      {sep,
       [{sep,
         [{sep,[{text,[6,73,102,32,116,104,101]}],0,false},
          {text,"\f*gen_server*"},
          {sep,
           [{text,
             "Lis to be able to receive other messages than requests, the callback function"}],
           0,false},
          {text,
           [26,42,104,97,110,100,108,101,95,105,110,102,111,40,73,110,102,111,
            44,32,83,116,97,116,101,41,42]},
          {sep,
           [{text,
             "Xmust be implemented to handle them. Examples of other messages are exit messages, if the"}],
           0,false},
          {text,"\f*gen_server*"},
          {sep,
           [{text,
             "Mis linked to other processes (than the supervisor) and trapping exit signals."}],
           0,false}],
         0,false}],
       0,true},
      null},
     null}},
   {above,
    {above,{above,{text,[0]},null},null},
    {above,
     {above,
      {above,
       {above,
        {text,[3,96,96,96]},
        {sep,
         [{text,
           "f\nhandle_info({'EXIT', Pid, Reason}, State) ->\n    ..code to handle exits here..\n    {noreply, State1}."}],
         0,true}},
       {text,[3,96,96,96]}},
      null},
     null}},
   {above,
    {above,{above,{text,[0]},null},null},
    {above,
     {above,
      {sep,
       [{sep,
         [{sep,[{text,[3,84,104,101]}],0,false},
          {text,"\r*code_change*"},
          {sep,[{text," method must also be implemented."}],0,false}],
         0,false}],
       0,true},
      null},
     null}},
   {above,
    {above,{above,{text,[0]},null},null},
    {above,
     {above,
      {above,
       {above,
        {text,[3,96,96,96]},
        {sep,
         [{text,
           "s\ncode_change(OldVsn, State, Extra) ->\n    ..code to convert state (and more) during code change\n    {ok, NewState}."}],
         0,true}},
       {text,[3,96,96,96]}},
      null},
     null}}],
  0,false}}
