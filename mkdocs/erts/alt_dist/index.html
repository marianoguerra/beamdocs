<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>How to Implement an Alternative Carrier for the Erlang Distribution - Erlang OTP</title>
  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "How to Implement an Alternative Carrier for the Erlang Distribution";
    var mkdocs_page_input_path = "erts/alt_dist.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js" defer></script>
  <script src="../../js/modernizr-2.8.3.min.js" defer></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Erlang OTP</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">Erlang/OTP</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Asn1</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../asn1/asn1_getting_started/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../asn1/asn1_introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../asn1/asn1_overview/">ASN.1</a>
                </li>
                <li class="">
                    
    <a class="" href="../../asn1/asn1_spec/">Specialized Decodes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../asn1/asn1ct/">asn1ct</a>
                </li>
                <li class="">
                    
    <a class="" href="../../asn1/notes/">asn1 Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Common test</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../common_test/basics_chapter/">Common Test Basics</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/common_test_app/">Common Test</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/config_file_chapter/">External Configuration Data</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/cover_chapter/">Code Coverage Analysis</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct/">ct</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_cover/">ct_cover</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_ftp/">ct_ftp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_hooks/">Common Test Hooks</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_hooks_chapter/">Common Test Hooks</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_master/">ct_master</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_master_chapter/">Using Common Test for Large-Scale Testing</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_netconfc/">ct_netconfc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_property_test/">ct_property_test</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_rpc/">ct_rpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_run/">The ct_run program</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_slave/">ct_slave</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_snmp/">ct_snmp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_ssh/">ct_ssh</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_telnet/">ct_telnet</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/ct_testspec/">ct_testspec</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/dependencies_chapter/">Dependencies between Test Cases and Suites</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/event_handler_chapter/">Event Handling</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/example_chapter/">Examples and Templates</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/getting_started_chapter/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/install_chapter/">Installation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/notes/">Common Test Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/run_test_chapter/">Running Tests and Analyzing Results</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/test_structure_chapter/">Test Structure</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/unix_telnet/">unix_telnet</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/why_test_chapter/">Some Thoughts about Testing</a>
                </li>
                <li class="">
                    
    <a class="" href="../../common_test/write_test_chapter/">Writing Test Suites</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Compiler</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../compiler/cerl/">cerl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../compiler/cerl_clauses/">cerl_clauses</a>
                </li>
                <li class="">
                    
    <a class="" href="../../compiler/cerl_trees/">cerl_trees</a>
                </li>
                <li class="">
                    
    <a class="" href="../../compiler/compile/">compile</a>
                </li>
                <li class="">
                    
    <a class="" href="../../compiler/internal/">Internal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../compiler/notes/">Compiler Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Crypto</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../crypto/algorithm_details/">Algorithm Details</a>
                </li>
                <li class="">
                    
    <a class="" href="../../crypto/crypto/">crypto</a>
                </li>
                <li class="">
                    
    <a class="" href="../../crypto/crypto_app/">crypto</a>
                </li>
                <li class="">
                    
    <a class="" href="../../crypto/engine_keys/">Engine Stored Keys</a>
                </li>
                <li class="">
                    
    <a class="" href="../../crypto/engine_load/">Engine Load</a>
                </li>
                <li class="">
                    
    <a class="" href="../../crypto/fips/">FIPS mode</a>
                </li>
                <li class="">
                    
    <a class="" href="../../crypto/licenses/">Licenses</a>
                </li>
                <li class="">
                    
    <a class="" href="../../crypto/new_api/">New and Old API</a>
                </li>
                <li class="">
                    
    <a class="" href="../../crypto/notes/">Crypto Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../crypto/usersguide/">Crypto User's Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Debugger</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../debugger/debugger/">debugger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../debugger/debugger_chapter/">Debugger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../debugger/i/">i</a>
                </li>
                <li class="">
                    
    <a class="" href="../../debugger/int/">int</a>
                </li>
                <li class="">
                    
    <a class="" href="../../debugger/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../debugger/notes/">Debugger Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Dialyzer</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../dialyzer/dialyzer/">dialyzer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dialyzer/dialyzer_chapter/">Dialyzer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dialyzer/notes/">Dialyzer Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../dialyzer/typer/">typer</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Diameter</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../diameter/diameter_examples/">Examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../diameter/diameter_using/">Usage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../diameter/user_man/">Diameter Users Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Edoc</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../edoc/edoc/">edoc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../edoc/edoc_doclet/">edoc_doclet</a>
                </li>
                <li class="">
                    
    <a class="" href="../../edoc/edoc_extract/">edoc_extract</a>
                </li>
                <li class="">
                    
    <a class="" href="../../edoc/edoc_layout/">edoc_layout</a>
                </li>
                <li class="">
                    
    <a class="" href="../../edoc/edoc_lib/">edoc_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../edoc/edoc_run/">edoc_run</a>
                </li>
                <li class="">
                    
    <a class="" href="../../edoc/notes/">EDoc Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Eldap</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../eldap/eldap/">eldap</a>
                </li>
                <li class="">
                    
    <a class="" href="../../eldap/notes/">Eldap Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../eldap/usersguide/">Eldap User's Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Erl docgen</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../erl_docgen/block_tags/">Block Tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_docgen/character_entities/">Character Entities</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_docgen/doc-build/">How to Build OTP like documentation</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_docgen/erl_docgen_app/">erl_docgen</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_docgen/header_tags/">Header Tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_docgen/inline_tags/">Inline Tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_docgen/notes/">Erl_Docgen Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_docgen/overview/">Overview OTP DTDs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_docgen/refman_dtds/">Reference Manual DTDs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_docgen/user_guide_dtds/">User's Guide DTDs</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Erl interface</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../erl_interface/ei/">ei</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_interface/ei_connect/">ei_connect</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_interface/ei_users_guide/">Erl_Interface User's Guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_interface/erl_call/">erl_call</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_interface/erl_connect/">erl_connect</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_interface/erl_error/">erl_error</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_interface/erl_eterm/">erl_eterm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_interface/erl_format/">erl_format</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_interface/erl_global/">erl_global</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_interface/erl_malloc/">erl_malloc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_interface/erl_marshal/">erl_marshal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_interface/notes/">Erl_interface Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../erl_interface/registry/">registry</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Erts</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../CarrierMigration/">Carrier Migration</a>
                </li>
                <li class="">
                    
    <a class="" href="../CodeLoading/">Non-Blocking Code Loading</a>
                </li>
                <li class="">
                    
    <a class="" href="../CountingInstructions/">Counting Instructions</a>
                </li>
                <li class="">
                    
    <a class="" href="../DelayedDealloc/">Delayed Dealloc</a>
                </li>
                <li class="">
                    
    <a class="" href="../GarbageCollection/">Erlang Garbage Collector</a>
                </li>
                <li class="">
                    
    <a class="" href="../PTables/">Process and Port Tables</a>
                </li>
                <li class="">
                    
    <a class="" href="../PortSignals/">Port Signals</a>
                </li>
                <li class="">
                    
    <a class="" href="../ProcessManagementOptimizations/">Process Management Optimizations</a>
                </li>
                <li class="">
                    
    <a class="" href="../SuperCarrier/">Super Carrier</a>
                </li>
                <li class="">
                    
    <a class="" href="../ThreadProgress/">Thread Progress</a>
                </li>
                <li class="">
                    
    <a class="" href="../Tracing/">Non-blocking trace setting</a>
                </li>
                <li class="">
                    
    <a class="" href="../absform/">The Abstract Format</a>
                </li>
                <li class="">
                    
    <a class="" href="../alt_disco/">How to Implement an Alternative Service Discovery for Erlang Distribution</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">How to Implement an Alternative Carrier for the Erlang Distribution</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#how-to-implement-an-alternative-carrier-for-the-erlang-distribution">How to Implement an Alternative Carrier for the Erlang Distribution</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#introduction">Introduction</a></li>
        
            <li><a class="toctree-l4" href="#writing-an-erlang-driver">Writing an Erlang Driver</a></li>
        
            <li><a class="toctree-l4" href="#writing-an-erlang-interface-for-the-driver">Writing an Erlang Interface for the Driver</a></li>
        
            <li><a class="toctree-l4" href="#writing-a-distribution-module">Writing a Distribution Module</a></li>
        
            <li><a class="toctree-l4" href="#creating-boot-scripts">Creating Boot Scripts</a></li>
        
            <li><a class="toctree-l4" href="#distribution-module">Distribution Module</a></li>
        
            <li><a class="toctree-l4" href="#exported-callback-functions">Exported Callback Functions</a></li>
        
            <li><a class="toctree-l4" href="#the-hs_data-record">The #hs_data{} Record</a></li>
        
            <li><a class="toctree-l4" href="#distribution-data-delivery">Distribution Data Delivery</a></li>
        
            <li><a class="toctree-l4" href="#enable-your-distribution-module">Enable Your Distribution Module</a></li>
        
            <li><a class="toctree-l4" href="#the-driver">The Driver</a></li>
        
            <li><a class="toctree-l4" href="#drivers-in-general">Drivers in General</a></li>
        
            <li><a class="toctree-l4" href="#the-data-structures-of-the-distribution-driver">The Data Structures of the Distribution Driver</a></li>
        
            <li><a class="toctree-l4" href="#selected-parts-of-the-distribution-driver-implementation">Selected Parts of the Distribution Driver Implementation</a></li>
        
            <li><a class="toctree-l4" href="#putting-it-all-together">Putting It All Together</a></li>
        
        </ul>
    

    </ul>
                </li>
                <li class="">
                    
    <a class="" href="../atomics/">atomics</a>
                </li>
                <li class="">
                    
    <a class="" href="../beam_makeops/">The beam_makeops script</a>
                </li>
                <li class="">
                    
    <a class="" href="../communication/">Communication in Erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../counters/">counters</a>
                </li>
                <li class="">
                    
    <a class="" href="../crash_dump/">How to Interpret the Erlang Crash Dumps</a>
                </li>
                <li class="">
                    
    <a class="" href="../driver/">How to Implement a Driver</a>
                </li>
                <li class="">
                    
    <a class="" href="../driver_entry/">driver_entry</a>
                </li>
                <li class="">
                    
    <a class="" href="../epmd/">epmd</a>
                </li>
                <li class="">
                    
    <a class="" href="../erl/">erl</a>
                </li>
                <li class="">
                    
    <a class="" href="../erl_dist_protocol/">Distribution Protocol</a>
                </li>
                <li class="">
                    
    <a class="" href="../erl_driver/">erl_driver</a>
                </li>
                <li class="">
                    
    <a class="" href="../erl_ext_dist/">External Term Format</a>
                </li>
                <li class="">
                    
    <a class="" href="../erl_nif/">erl_nif</a>
                </li>
                <li class="">
                    
    <a class="" href="../erl_prim_loader/">erl_prim_loader</a>
                </li>
                <li class="">
                    
    <a class="" href="../erl_tracer/">erl_tracer</a>
                </li>
                <li class="">
                    
    <a class="" href="../erlang/">erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../erlc/">erlc</a>
                </li>
                <li class="">
                    
    <a class="" href="../erlsrv/">erlsrv</a>
                </li>
                <li class="">
                    
    <a class="" href="../erts_alloc/">erts_alloc</a>
                </li>
                <li class="">
                    
    <a class="" href="../escript/">escript</a>
                </li>
                <li class="">
                    
    <a class="" href="../inet_cfg/">Inet Configuration</a>
                </li>
                <li class="">
                    
    <a class="" href="../init/">init</a>
                </li>
                <li class="">
                    
    <a class="" href="../internal/">Internal</a>
                </li>
                <li class="">
                    
    <a class="" href="../introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../match_spec/">Match Specifications in Erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../net/">net</a>
                </li>
                <li class="">
                    
    <a class="" href="../notes/">ERTS Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../persistent_term/">persistent_term</a>
                </li>
                <li class="">
                    
    <a class="" href="../run_erl/">run_erl</a>
                </li>
                <li class="">
                    
    <a class="" href="../socket/">socket</a>
                </li>
                <li class="">
                    
    <a class="" href="../socket_usage/">Socket Usage</a>
                </li>
                <li class="">
                    
    <a class="" href="../start/">start</a>
                </li>
                <li class="">
                    
    <a class="" href="../start_erl/">start_erl</a>
                </li>
                <li class="">
                    
    <a class="" href="../time_correction/">Time and Time Correction in Erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../tty/">tty - A Command-Line Interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../werl/">werl</a>
                </li>
                <li class="">
                    
    <a class="" href="../zlib/">zlib</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Et</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../et/et/">et</a>
                </li>
                <li class="">
                    
    <a class="" href="../../et/et_collector/">et_collector</a>
                </li>
                <li class="">
                    
    <a class="" href="../../et/et_desc/">Description</a>
                </li>
                <li class="">
                    
    <a class="" href="../../et/et_examples/">Advanced examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../et/et_intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../et/et_selector/">et_selector</a>
                </li>
                <li class="">
                    
    <a class="" href="../../et/et_tutorial/">Tutorial</a>
                </li>
                <li class="">
                    
    <a class="" href="../../et/et_viewer/">et_viewer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../et/notes/">Event Tracer (ET) Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Eunit</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../eunit/eunit/">eunit</a>
                </li>
                <li class="">
                    
    <a class="" href="../../eunit/eunit_surefire/">eunit_surefire</a>
                </li>
                <li class="">
                    
    <a class="" href="../../eunit/notes/">EUnit Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Ftp</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../ftp/ftp/">ftp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ftp/ftp_client/">FTP Client</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ftp/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ftp/notes/">FTP Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Hipe</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../hipe/hipe_app/">HiPE</a>
                </li>
                <li class="">
                    
    <a class="" href="../../hipe/notes/">HiPE Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Inets</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../inets/http_client/">HTTP Client</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/http_server/">HTTP server</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/http_uri/">http_uri</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/httpc/">httpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/httpd/">httpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/httpd_custom_api/">httpd_custom_api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/httpd_socket/">httpd_socket</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/httpd_util/">httpd_util</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/inets/">inets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/inets_services/">Inets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/mod_alias/">mod_alias</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/mod_auth/">mod_auth</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/mod_esi/">mod_esi</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/mod_security/">mod_security</a>
                </li>
                <li class="">
                    
    <a class="" href="../../inets/notes/">Inets Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Jinterface</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../jinterface/jinterface/">jinterface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../jinterface/jinterface_users_guide/">The Jinterface Package</a>
                </li>
                <li class="">
                    
    <a class="" href="../../jinterface/notes/">Jinterface Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Kernel</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../kernel/app/">app</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/application/">application</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/auth/">auth</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/code/">code</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/config/">config</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/disk_log/">disk_log</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/erl_boot_server/">erl_boot_server</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/erl_ddll/">erl_ddll</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/erl_epmd/">erl_epmd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/erl_prim_loader_stub/">erl_prim_loader</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/erlang_stub/">erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/error_handler/">error_handler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/error_logger/">error_logger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/file/">file</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/gen_sctp/">gen_sctp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/gen_tcp/">gen_tcp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/gen_udp/">gen_udp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/global/">global</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/global_group/">global_group</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/heart/">heart</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/inet/">inet</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/inet_res/">inet_res</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/init_stub/">init</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/introduction_chapter/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/kernel_app/">kernel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/logger/">logger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/logger_chapter/">Logging</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/logger_disk_log_h/">logger_disk_log_h</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/logger_filters/">logger_filters</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/logger_formatter/">logger_formatter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/logger_std_h/">logger_std_h</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/net_adm/">net_adm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/net_kernel/">net_kernel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/notes/">Kernel Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/os/">os</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/pg2/">pg2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/rpc/">rpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/seq_trace/">seq_trace</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/user/">user</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/wrap_log_reader/">wrap_log_reader</a>
                </li>
                <li class="">
                    
    <a class="" href="../../kernel/zlib_stub/">zlib</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Megaco</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../megaco/megaco/">megaco</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_architecture/">Architecture</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_codec_meas/">megaco_codec_meas</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_codec_mstone1/">megaco_codec_mstone1</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_codec_mstone2/">megaco_codec_mstone2</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_codec_transform/">megaco_codec_transform</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_debug/">Testing and tools</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_edist_compress/">megaco_encoder</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_encode/">Internal form and its encodings</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_encoder/">megaco_encoder</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_examples/">Implementation examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_flex_scanner/">megaco_flex_scanner</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_mib/">Megaco mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_performance/">Performance comparison</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_run/">Running the stack</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_tcp/">megaco_tcp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_transport/">megaco_transport</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_transport_mechanisms/">Transport mechanisms</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_udp/">megaco_udp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/megaco_user/">megaco_user</a>
                </li>
                <li class="">
                    
    <a class="" href="../../megaco/notes/">Megaco Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Mnesia</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../mnesia/Mnesia_App_A/">Appendix A: Backup Callback Interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/Mnesia_App_B/">Appendix B: Activity Access Callback Interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/Mnesia_App_C/">Appendix C: Fragmented Table Hashing Callback Interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/Mnesia_chap1/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/Mnesia_chap2/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/Mnesia_chap3/">Build a Mnesia Database</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/Mnesia_chap4/">Transactions and Other Access Contexts</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/Mnesia_chap5/">Miscellaneous Mnesia Features</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/Mnesia_chap7/">Mnesia System Information</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/Mnesia_chap8/">Combine Mnesia with SNMP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/Mnesia_overview/">Mnesia</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/mnesia/">mnesia</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/mnesia_frag_hash/">mnesia_frag_hash</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/mnesia_registry/">mnesia_registry</a>
                </li>
                <li class="">
                    
    <a class="" href="../../mnesia/notes/">Mnesia Release Notes</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Observer</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../observer/cdv/">The cdv program</a>
                </li>
                <li class="">
                    
    <a class="" href="../../observer/crashdump/">crashdump_viewer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../observer/crashdump_ug/">Crashdump Viewer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../observer/etop/">etop</a>
                </li>
                <li class="">
                    
    <a class="" href="../../observer/etop_ug/">Erlang Top</a>
                </li>
                <li class="">
                    
    <a class="" href="../../observer/introduction_ug/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../observer/notes/">Observer Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../observer/observer/">Observer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../observer/observer_app/">Observer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../observer/observer_ug/">Observer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../observer/ttb/">ttb</a>
                </li>
                <li class="">
                    
    <a class="" href="../../observer/ttb_ug/">Trace Tool Builder</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Os mon</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../os_mon/cpu_sup/">cpu_sup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../os_mon/disksup/">disksup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../os_mon/memsup/">memsup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../os_mon/notes/">OS_Mon Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../os_mon/nteventlog/">nteventlog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../os_mon/os_mon_app/">os_mon</a>
                </li>
                <li class="">
                    
    <a class="" href="../../os_mon/os_sup/">os_sup</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Parsetools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../parsetools/leex/">leex</a>
                </li>
                <li class="">
                    
    <a class="" href="../../parsetools/notes/">Parsetools Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../parsetools/yecc/">yecc</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Public key</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../public_key/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../public_key/notes/">public_key Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../public_key/public_key/">public_key</a>
                </li>
                <li class="">
                    
    <a class="" href="../../public_key/public_key_app/">public_key</a>
                </li>
                <li class="">
                    
    <a class="" href="../../public_key/public_key_records/">Public-Key Records</a>
                </li>
                <li class="">
                    
    <a class="" href="../../public_key/using_public_key/">Getting Started</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Reltool</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../reltool/notes/">Reltool Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../reltool/reltool/">reltool</a>
                </li>
                <li class="">
                    
    <a class="" href="../../reltool/reltool_examples/">Examples</a>
                </li>
                <li class="">
                    
    <a class="" href="../../reltool/reltool_intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../reltool/reltool_usage/">Usage</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Runtime tools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../runtime_tools/DTRACE/">DTrace and Erlang/OTP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../runtime_tools/LTTng/">LTTng and Erlang/OTP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../runtime_tools/SYSTEMTAP/">SystemTap and Erlang/OTP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../runtime_tools/dbg/">dbg</a>
                </li>
                <li class="">
                    
    <a class="" href="../../runtime_tools/dyntrace/">dyntrace</a>
                </li>
                <li class="">
                    
    <a class="" href="../../runtime_tools/erts_alloc_config/">erts_alloc_config</a>
                </li>
                <li class="">
                    
    <a class="" href="../../runtime_tools/msacc/">Microstate Accounting</a>
                </li>
                <li class="">
                    
    <a class="" href="../../runtime_tools/notes/">Runtime_Tools Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../runtime_tools/runtime_tools_app/">runtime_tools</a>
                </li>
                <li class="">
                    
    <a class="" href="../../runtime_tools/scheduler/">Scheduler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../runtime_tools/system_information/">System information</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Sasl</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../sasl/alarm_handler/">alarm_handler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../sasl/appup/">appup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../sasl/error_logging/">SASL Error Logging</a>
                </li>
                <li class="">
                    
    <a class="" href="../../sasl/notes/">SASL Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../sasl/rb/">rb</a>
                </li>
                <li class="">
                    
    <a class="" href="../../sasl/rel/">rel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../sasl/release_handler/">release_handler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../sasl/relup/">relup</a>
                </li>
                <li class="">
                    
    <a class="" href="../../sasl/sasl_app/">sasl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../sasl/sasl_intro/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../sasl/script/">script</a>
                </li>
                <li class="">
                    
    <a class="" href="../../sasl/systools/">systools</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Snmp</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../snmp/notes/">SNMP Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp/">snmp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_advanced_agent/">Advanced Agent Topics</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_agent_config_files/">Definition of Agent Configuration Files</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_agent_funct_descr/">Agent Functional Description</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_agent_netif/">Definition of Agent Net if</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_app/">snmp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_app_a/">SNMP Appendix A</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_app_b/">SNMP Appendix B</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_audit_trail_log/">Audit Trail Log</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_community_mib/">snmp_community_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_config/">Running the application</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_def_instr_functions/">Definition of Instrumentation Functions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_framework_mib/">snmp_framework_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_generic/">snmp_generic</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_impl_example_agent/">Agent Implementation Example</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_impl_example_manager/">Manager Implementation Example</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_index/">snmp_index</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_instr_functions/">Instrumentation Functions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_intro/">SNMP Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_manager_config_files/">Definition of Manager Configuration Files</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_manager_funct_descr/">Manager Functional Description</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_manager_netif/">Definition of Manager Net if</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_mib_compiler/">The MIB Compiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_notification_mib/">snmp_notification_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_pdus/">snmp_pdus</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_standard_mib/">snmp_standard_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_target_mib/">snmp_target_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_user_based_sm_mib/">snmp_user_based_sm_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmp_view_based_acm_mib/">snmp_view_based_acm_mib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa/">snmpa</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_conf/">snmpa_conf</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_discovery_handler/">snmpa_discovery_handler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_error/">snmpa_error</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_error_io/">snmpa_error_io</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_error_logger/">snmpa_error_logger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_error_report/">snmpa_error_report</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_local_db/">snmpa_local_db</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_mib_data/">snmpa_mib_data</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_mib_storage/">snmpa_mib_storage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_mpd/">snmpa_mpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_network_interface/">snmpa_network_interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_network_interface_filter/">snmpa_network_interface_filter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_notification_delivery_info_receiver/">snmpa_notification_delivery_info_receiver</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_notification_filter/">snmpa_notification_filter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpa_supervisor/">snmpa_supervisor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpc/">snmpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpc_cmd/">snmpc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpm/">snmpm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpm_conf/">snmpm_conf</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpm_mpd/">snmpm_mpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpm_network_interface/">snmpm_network_interface</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpm_network_interface_filter/">snmpm_network_interface_filter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../snmp/snmpm_user/">snmpm_user</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Ssh</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../ssh/configure_algos/">Configuring algorithms in SSH</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/notes/">SSH Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/ssh/">ssh</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/ssh_app/">SSH</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/ssh_client_channel/">ssh_client_channel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/ssh_client_key_api/">ssh_client_key_api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/ssh_connection/">ssh_connection</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/ssh_file/">ssh_file</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/ssh_server_channel/">ssh_server_channel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/ssh_server_key_api/">ssh_server_key_api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/ssh_sftp/">ssh_sftp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/ssh_sftpd/">ssh_sftpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/terminology/">Terminology</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/usersguide/">SSH User's Guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssh/using_ssh/">Getting Started</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Ssl</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../ssl/notes/">SSL Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssl/refman/">SSL Reference Manual</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssl/ssl/">ssl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssl/ssl_app/">ssl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssl/ssl_crl_cache/">ssl_crl_cache</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssl/ssl_crl_cache_api/">ssl_crl_cache_api</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssl/ssl_distribution/">Using TLS for Erlang Distribution</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssl/ssl_introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssl/ssl_protocol/">TLS/DTLS and TLS Predecessor, SSL</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssl/ssl_session_cache_api/">ssl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssl/standards_compliance/">Standards Compliance</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssl/usersguide/">SSL User's Guide</a>
                </li>
                <li class="">
                    
    <a class="" href="../../ssl/using_ssl/">Using SSL application API</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Stdlib</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../stdlib/array/">array</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/assert_hrl/">assert.hrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/base64/">base64</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/beam_lib/">beam_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/binary/">binary</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/c/">c</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/calendar/">calendar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/dets/">dets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/dict/">dict</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/digraph/">digraph</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/digraph_utils/">digraph_utils</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/epp/">epp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/erl_anno/">erl_anno</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/erl_eval/">erl_eval</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/erl_expand_records/">erl_expand_records</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/erl_id_trans/">erl_id_trans</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/erl_internal/">erl_internal</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/erl_lint/">erl_lint</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/erl_parse/">erl_parse</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/erl_pp/">erl_pp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/erl_scan/">erl_scan</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/erl_tar/">erl_tar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/ets/">ets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/file_sorter/">file_sorter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/filelib/">filelib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/filename/">filename</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/gb_sets/">gb_sets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/gb_trees/">gb_trees</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/gen_event/">gen_event</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/gen_fsm/">gen_fsm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/gen_server/">gen_server</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/gen_statem/">gen_statem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/io/">io</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/io_lib/">io_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/io_protocol/">The Erlang I/O Protocol</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/lists/">lists</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/log_mf_h/">log_mf_h</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/maps/">maps</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/math/">math</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/ms_transform/">ms_transform</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/notes/">STDLIB Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/orddict/">orddict</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/ordsets/">ordsets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/pool/">pool</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/proc_lib/">proc_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/proplists/">proplists</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/qlc/">qlc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/queue/">queue</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/rand/">rand</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/random/">random</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/re/">re</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/sets/">sets</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/shell/">shell</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/shell_default/">shell_default</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/slave/">slave</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/sofs/">sofs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/stdlib_app/">STDLIB</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/string/">string</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/supervisor/">supervisor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/supervisor_bridge/">supervisor_bridge</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/sys/">sys</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/timer/">timer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/unicode/">unicode</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/unicode_usage/">Using Unicode in Erlang</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/uri_string/">uri_string</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/win32reg/">win32reg</a>
                </li>
                <li class="">
                    
    <a class="" href="../../stdlib/zip/">zip</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Syntax tools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../syntax_tools/epp_dodger/">epp_dodger</a>
                </li>
                <li class="">
                    
    <a class="" href="../../syntax_tools/erl_comment_scan/">erl_comment_scan</a>
                </li>
                <li class="">
                    
    <a class="" href="../../syntax_tools/erl_prettypr/">erl_prettypr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../syntax_tools/erl_recomment/">erl_recomment</a>
                </li>
                <li class="">
                    
    <a class="" href="../../syntax_tools/erl_syntax/">erl_syntax</a>
                </li>
                <li class="">
                    
    <a class="" href="../../syntax_tools/erl_syntax_lib/">erl_syntax_lib</a>
                </li>
                <li class="">
                    
    <a class="" href="../../syntax_tools/erl_tidy/">erl_tidy</a>
                </li>
                <li class="">
                    
    <a class="" href="../../syntax_tools/igor/">igor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../syntax_tools/merl/">merl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../syntax_tools/merl_transform/">merl_transform</a>
                </li>
                <li class="">
                    
    <a class="" href="../../syntax_tools/notes/">Syntax_Tools Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../syntax_tools/prettypr/">prettypr</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">System</span>
    <ul class="subnav">
                <li class="">
                    
    <span class="caption-text">Design principles</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/applications/">Applications</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/appup_cookbook/">Appup Cookbook</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/book/">OTP Design Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/des_princ/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/distributed_applications/">Distributed Applications</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/events/">gen_event Behaviour</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/gen_server_concepts/">gen_server Behaviour</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/included_applications/">Included Applications</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/part/">OTP Design Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/release_handling/">Release Handling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/release_structure/">Releases</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/spec_proc/">sys and proc_lib</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/statem/">gen_statem Behavior</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/design_principles/sup_princ/">Supervisor Behaviour</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Efficiency guide</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/advanced/">Advanced</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/binaryhandling/">Constructing and Matching Binaries</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/book/">Efficiency Guide</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/commoncaveats/">Common Caveats</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/drivers/">Drivers</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/functions/">Functions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/introduction/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/listhandling/">List Handling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/myths/">The Seven Myths of Erlang Performance</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/part/">Efficiency Guide</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/processes/">Processes</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/profiling/">Profiling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/retired_myths/">Retired Myths</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/efficiency_guide/tablesDatabases/">Tables and Databases</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Embedded</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system/embedded/book/">Embedded Systems</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/embedded/embedded_nt/">Windows NT</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/embedded/embedded_solaris/">Embedded Solaris</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/embedded/part/">Embedded Systems User's Guide</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">General info</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system/general_info/book/">General Information</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/general_info/deprecations/">Deprecations</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/general_info/part/">General Information</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/general_info/scheduled_for_removal/">Scheduled for Removal</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Getting started</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system/getting_started/book/">Getting Started with Erlang</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/getting_started/conc_prog/">Concurrent Programming</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/getting_started/intro/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/getting_started/part/">Getting Started With Erlang</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/getting_started/records_macros/">Records and Macros</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/getting_started/robustness/">Robustness</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/getting_started/seq_prog/">Sequential Programming</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Installation guide</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system/installation_guide/INSTALL-CROSS/">Cross Compiling Erlang/OTP</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/installation_guide/INSTALL-WIN32/">How to Build Erlang/OTP on Windows</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/installation_guide/INSTALL/">Building and Installing Erlang/OTP</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/installation_guide/OTP-PATCH-APPLY/">Patching OTP Applications</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/installation_guide/book/">Installation Guide</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/installation_guide/install-binary/">Installing the Binary Release</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/installation_guide/part/">Installation Guide</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Oam</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system/oam/book/">OAM Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/oam/oam_intro/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/oam/part/">OAM Principles</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Programming examples</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system/programming_examples/bit_syntax/">Bit Syntax</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/programming_examples/book/">Programming Examples</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/programming_examples/funs/">Funs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/programming_examples/list_comprehensions/">List Comprehensions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/programming_examples/part/">Programming Examples</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/programming_examples/records/">Records</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Reference manual</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/book/">Erlang Reference Manual</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/character_set/">Character Set and Source File Encoding</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/code_loading/">Compilation and Code Loading</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/data_types/">Data Types</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/distributed/">Distributed Erlang</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/errors/">Errors and Error Handling</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/expressions/">Expressions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/functions/">Functions</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/introduction/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/macros/">Preprocessor</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/modules/">Modules</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/part/">Erlang Reference Manual</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/patterns/">Pattern Matching</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/ports/">Ports and Port Drivers</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/processes/">Processes</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/records/">Records</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/reference_manual/typespec/">Types and Function Specifications</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">System architecture intro</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system/system_architecture_intro/book/">System Architecture</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/system_architecture_intro/part/">Introduction to the System Architecture</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/system_architecture_intro/sys_arch_intro/">Introduction</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">System principles</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system/system_principles/book/">System Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/system_principles/create_target/">Creating and Upgrading a Target System</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/system_principles/error_logging/">Error Logging</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/system_principles/misc/">Support, Compatibility, Deprecations, and Removal</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/system_principles/part/">System Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/system_principles/system_principles/">System Principles</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/system_principles/upgrade/">Upgrade when Erlang/OTP has Changed</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/system_principles/versions/">Versions</a>
                </li>
    </ul>
                </li>
                <li class="">
                    
    <span class="caption-text">Tutorial</span>
    <ul class="subnav">
                <li class="toctree-l3">
                    
    <a class="" href="../../system/tutorial/book/">Interoperability Tutorial</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/tutorial/c_port/">Ports</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/tutorial/c_portdriver/">Port Drivers</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/tutorial/cnode/">C Nodes</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/tutorial/erl_interface/">Erl_Interface</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/tutorial/example/">Problem Example</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/tutorial/introduction/">Introduction</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/tutorial/nif/">NIFs</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/tutorial/overview/">Overview</a>
                </li>
                <li class="toctree-l3">
                    
    <a class="" href="../../system/tutorial/part/">Interoperability Tutorial</a>
                </li>
    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tftp</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../tftp/getting_started/">Getting Started</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tftp/introduction/">Introduction</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tftp/notes/">TFTP Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tftp/tftp/">tftp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tftp/usersguide/">TFTP User's Guide</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Tools</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../tools/cover/">cover</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/cover_chapter/">cover</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/cprof/">cprof</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/cprof_chapter/">cprof - The Call Count Profiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/eprof/">eprof</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/erlang_mode/">Erlang mode for Emacs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/erlang_mode_chapter/">The Erlang mode for Emacs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/fprof/">fprof</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/fprof_chapter/">fprof - The File Trace Profiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/instrument/">instrument</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/lcnt/">lcnt</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/lcnt_chapter/">lcnt - The Lock Profiler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/make/">make</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/notes/">Tools Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/tags/">tags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/xref/">xref</a>
                </li>
                <li class="">
                    
    <a class="" href="../../tools/xref_chapter/">Xref - The Cross Reference Tool</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Wx</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../wx/glu/">glu</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/notes/">wxErlang Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wx/">wx</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxAcceleratorEntry/">wxAcceleratorEntry</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxAcceleratorTable/">wxAcceleratorTable</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxActivateEvent/">wxActivateEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxArtProvider/">wxArtProvider</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxAuiDockArt/">wxAuiDockArt</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxAuiManager/">wxAuiManager</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxAuiManagerEvent/">wxAuiManagerEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxAuiNotebook/">wxAuiNotebook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxAuiNotebookEvent/">wxAuiNotebookEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxAuiPaneInfo/">wxAuiPaneInfo</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxAuiSimpleTabArt/">wxAuiSimpleTabArt</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxAuiTabArt/">wxAuiTabArt</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxBitmap/">wxBitmap</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxBitmapButton/">wxBitmapButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxBitmapDataObject/">wxBitmapDataObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxBoxSizer/">wxBoxSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxBrush/">wxBrush</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxBufferedDC/">wxBufferedDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxBufferedPaintDC/">wxBufferedPaintDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxButton/">wxButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxCalendarCtrl/">wxCalendarCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxCalendarDateAttr/">wxCalendarDateAttr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxCalendarEvent/">wxCalendarEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxCaret/">wxCaret</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxCheckBox/">wxCheckBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxCheckListBox/">wxCheckListBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxChildFocusEvent/">wxChildFocusEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxChoice/">wxChoice</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxChoicebook/">wxChoicebook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxClientDC/">wxClientDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxClipboard/">wxClipboard</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxClipboardTextEvent/">wxClipboardTextEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxCloseEvent/">wxCloseEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxColourData/">wxColourData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxColourDialog/">wxColourDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxColourPickerCtrl/">wxColourPickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxColourPickerEvent/">wxColourPickerEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxComboBox/">wxComboBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxCommandEvent/">wxCommandEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxContextMenuEvent/">wxContextMenuEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxControl/">wxControl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxControlWithItems/">wxControlWithItems</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxCursor/">wxCursor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxDC/">wxDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxDCOverlay/">wxDCOverlay</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxDataObject/">wxDataObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxDateEvent/">wxDateEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxDatePickerCtrl/">wxDatePickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxDialog/">wxDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxDirDialog/">wxDirDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxDirPickerCtrl/">wxDirPickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxDisplay/">wxDisplay</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxDisplayChangedEvent/">wxDisplayChangedEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxDropFilesEvent/">wxDropFilesEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxEraseEvent/">wxEraseEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxEvent/">wxEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxEvtHandler/">wxEvtHandler</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFileDataObject/">wxFileDataObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFileDialog/">wxFileDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFileDirPickerEvent/">wxFileDirPickerEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFilePickerCtrl/">wxFilePickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFindReplaceData/">wxFindReplaceData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFindReplaceDialog/">wxFindReplaceDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFlexGridSizer/">wxFlexGridSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFocusEvent/">wxFocusEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFont/">wxFont</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFontData/">wxFontData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFontDialog/">wxFontDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFontPickerCtrl/">wxFontPickerCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFontPickerEvent/">wxFontPickerEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxFrame/">wxFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGBSizerItem/">wxGBSizerItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGCDC/">wxGCDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGLCanvas/">wxGLCanvas</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGauge/">wxGauge</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGenericDirCtrl/">wxGenericDirCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGraphicsBrush/">wxGraphicsBrush</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGraphicsContext/">wxGraphicsContext</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGraphicsFont/">wxGraphicsFont</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGraphicsMatrix/">wxGraphicsMatrix</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGraphicsObject/">wxGraphicsObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGraphicsPath/">wxGraphicsPath</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGraphicsPen/">wxGraphicsPen</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGraphicsRenderer/">wxGraphicsRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGrid/">wxGrid</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridBagSizer/">wxGridBagSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridCellAttr/">wxGridCellAttr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridCellBoolEditor/">wxGridCellBoolEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridCellBoolRenderer/">wxGridCellBoolRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridCellChoiceEditor/">wxGridCellChoiceEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridCellEditor/">wxGridCellEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridCellFloatEditor/">wxGridCellFloatEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridCellFloatRenderer/">wxGridCellFloatRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridCellNumberEditor/">wxGridCellNumberEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridCellNumberRenderer/">wxGridCellNumberRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridCellRenderer/">wxGridCellRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridCellStringRenderer/">wxGridCellStringRenderer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridCellTextEditor/">wxGridCellTextEditor</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridEvent/">wxGridEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxGridSizer/">wxGridSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxHelpEvent/">wxHelpEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxHtmlEasyPrinting/">wxHtmlEasyPrinting</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxHtmlLinkEvent/">wxHtmlLinkEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxHtmlWindow/">wxHtmlWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxIcon/">wxIcon</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxIconBundle/">wxIconBundle</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxIconizeEvent/">wxIconizeEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxIdleEvent/">wxIdleEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxImage/">wxImage</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxImageList/">wxImageList</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxInitDialogEvent/">wxInitDialogEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxJoystickEvent/">wxJoystickEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxKeyEvent/">wxKeyEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxLayoutAlgorithm/">wxLayoutAlgorithm</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxListBox/">wxListBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxListCtrl/">wxListCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxListEvent/">wxListEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxListItem/">wxListItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxListItemAttr/">wxListItemAttr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxListView/">wxListView</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxListbook/">wxListbook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxLocale/">wxLocale</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxLogNull/">wxLogNull</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMDIChildFrame/">wxMDIChildFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMDIClientWindow/">wxMDIClientWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMDIParentFrame/">wxMDIParentFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMask/">wxMask</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMaximizeEvent/">wxMaximizeEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMemoryDC/">wxMemoryDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMenu/">wxMenu</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMenuBar/">wxMenuBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMenuEvent/">wxMenuEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMenuItem/">wxMenuItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMessageDialog/">wxMessageDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMiniFrame/">wxMiniFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMirrorDC/">wxMirrorDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMouseCaptureChangedEvent/">wxMouseCaptureChangedEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMouseCaptureLostEvent/">wxMouseCaptureLostEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMouseEvent/">wxMouseEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMoveEvent/">wxMoveEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxMultiChoiceDialog/">wxMultiChoiceDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxNavigationKeyEvent/">wxNavigationKeyEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxNotebook/">wxNotebook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxNotebookEvent/">wxNotebookEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxNotifyEvent/">wxNotifyEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxOverlay/">wxOverlay</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPageSetupDialog/">wxPageSetupDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPageSetupDialogData/">wxPageSetupDialogData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPaintDC/">wxPaintDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPaintEvent/">wxPaintEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPalette/">wxPalette</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPaletteChangedEvent/">wxPaletteChangedEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPanel/">wxPanel</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPasswordEntryDialog/">wxPasswordEntryDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPen/">wxPen</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPickerBase/">wxPickerBase</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPopupTransientWindow/">wxPopupTransientWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPopupWindow/">wxPopupWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPostScriptDC/">wxPostScriptDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPreviewCanvas/">wxPreviewCanvas</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPreviewControlBar/">wxPreviewControlBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPreviewFrame/">wxPreviewFrame</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPrintData/">wxPrintData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPrintDialog/">wxPrintDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPrintDialogData/">wxPrintDialogData</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPrintPreview/">wxPrintPreview</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPrinter/">wxPrinter</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxPrintout/">wxPrintout</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxProgressDialog/">wxProgressDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxQueryNewPaletteEvent/">wxQueryNewPaletteEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxRadioBox/">wxRadioBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxRadioButton/">wxRadioButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxRegion/">wxRegion</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSashEvent/">wxSashEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSashLayoutWindow/">wxSashLayoutWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSashWindow/">wxSashWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxScreenDC/">wxScreenDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxScrollBar/">wxScrollBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxScrollEvent/">wxScrollEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxScrollWinEvent/">wxScrollWinEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxScrolledWindow/">wxScrolledWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSetCursorEvent/">wxSetCursorEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxShowEvent/">wxShowEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSingleChoiceDialog/">wxSingleChoiceDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSizeEvent/">wxSizeEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSizer/">wxSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSizerFlags/">wxSizerFlags</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSizerItem/">wxSizerItem</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSlider/">wxSlider</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSpinButton/">wxSpinButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSpinCtrl/">wxSpinCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSpinEvent/">wxSpinEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSplashScreen/">wxSplashScreen</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSplitterEvent/">wxSplitterEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSplitterWindow/">wxSplitterWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxStaticBitmap/">wxStaticBitmap</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxStaticBox/">wxStaticBox</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxStaticBoxSizer/">wxStaticBoxSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxStaticLine/">wxStaticLine</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxStaticText/">wxStaticText</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxStatusBar/">wxStatusBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxStdDialogButtonSizer/">wxStdDialogButtonSizer</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxStyledTextCtrl/">wxStyledTextCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxStyledTextEvent/">wxStyledTextEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSysColourChangedEvent/">wxSysColourChangedEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSystemOptions/">wxSystemOptions</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxSystemSettings/">wxSystemSettings</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxTaskBarIcon/">wxTaskBarIcon</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxTaskBarIconEvent/">wxTaskBarIconEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxTextAttr/">wxTextAttr</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxTextCtrl/">wxTextCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxTextDataObject/">wxTextDataObject</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxTextEntryDialog/">wxTextEntryDialog</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxToggleButton/">wxToggleButton</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxToolBar/">wxToolBar</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxToolTip/">wxToolTip</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxToolbook/">wxToolbook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxTopLevelWindow/">wxTopLevelWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxTreeCtrl/">wxTreeCtrl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxTreeEvent/">wxTreeEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxTreebook/">wxTreebook</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxUpdateUIEvent/">wxUpdateUIEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxWindow/">wxWindow</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxWindowCreateEvent/">wxWindowCreateEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxWindowDC/">wxWindowDC</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxWindowDestroyEvent/">wxWindowDestroyEvent</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wxXmlResource/">wxXmlResource</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wx_misc/">wx_misc</a>
                </li>
                <li class="">
                    
    <a class="" href="../../wx/wx_object/">wx_object</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">Xmerl</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../xmerl/notes/">Xmerl Release Notes</a>
                </li>
                <li class="">
                    
    <a class="" href="../../xmerl/xmerl/">xmerl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../xmerl/xmerl_eventp/">xmerl_eventp</a>
                </li>
                <li class="">
                    
    <a class="" href="../../xmerl/xmerl_sax_parser/">xmerl_sax_parser</a>
                </li>
                <li class="">
                    
    <a class="" href="../../xmerl/xmerl_scan/">xmerl_scan</a>
                </li>
                <li class="">
                    
    <a class="" href="../../xmerl/xmerl_ug/">xmerl</a>
                </li>
                <li class="">
                    
    <a class="" href="../../xmerl/xmerl_xpath/">xmerl_xpath</a>
                </li>
                <li class="">
                    
    <a class="" href="../../xmerl/xmerl_xs/">xmerl_xs</a>
                </li>
                <li class="">
                    
    <a class="" href="../../xmerl/xmerl_xsd/">xmerl_xsd</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Erlang OTP</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Erts &raquo;</li>
        
      
    
    <li>How to Implement an Alternative Carrier for the Erlang Distribution</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="how-to-implement-an-alternative-carrier-for-the-erlang-distribution">How to Implement an Alternative Carrier for the Erlang Distribution</h1>
<p>This section describes how to implement an alternative carrier protocol for the Erlang distribution. The distribution is normally carried by TCP/IP. Here is explained a method for replacing TCP/IP with another protocol.</p>
<p>The section is a step-by-step explanation of the
<em>uds_dist</em>
example application (in the Kernel application
<em>examples</em>
directory). The
<em>uds_dist</em>
application implements distribution over Unix domain sockets and is written for the Sun Solaris 2 operating environment. The mechanisms are however general and apply to any operating system Erlang runs on. The reason the C code is not made portable, is simply readability.</p>
<h2 id="introduction">Introduction</h2>
<p>To implement a new carrier for the Erlang distribution, the main steps are as follows.</p>
<div class="admonition info">
<p class="admonition-title">Note</p>
</div>
<p>As of ERTS version 10.0 support for distribution controller processes has been introduced. That is, the traffic over a distribution channel can be managed by a process instead of only by a port. This makes it possible to implement large parts of the logic in Erlang code, and you perhaps do not even need a new driver for the protocol. One example could be Erlang distribution over UDP using
<em>gen_udp</em>
(your Erlang code will of course have to take care of retransmissions, etc in this example). That is, depending on what you want to do you perhaps do not need to implement a driver at all and can then skip the driver related sections below. The
<em>gen_tcp_dist</em>
example described in the
<a href="#distribution_module">Distribution Module</a>
section utilize distribution controller processes and can be worth having a look at if you want to use distribution controller processes.</p>
<h2 id="writing-an-erlang-driver">Writing an Erlang Driver</h2>
<p>First, the protocol must be available to the Erlang machine, which involves writing an Erlang driver. A port program cannot be used, an Erlang driver is required. Erlang drivers can be:
*
Statically linked to the emulator, which can be an alternative when using the open source distribution of Erlang, or
*
Dynamically loaded into the Erlang machines address space, which is the only alternative if a precompiled version of Erlang is to be used</p>
<p>Writing an Erlang driver is not easy. The driver is written as some callback functions called by the Erlang emulator when data is sent to the driver, or the driver has any data available on a file descriptor. As the driver callback routines execute in the main thread of the Erlang machine, the callback functions can perform no blocking activity whatsoever. The callbacks are only to set up file descriptors for waiting and/or read/write available data. All I/O must be non-blocking. Driver callbacks are however executed in sequence, why a global state can safely be updated within the routines.</p>
<h2 id="writing-an-erlang-interface-for-the-driver">Writing an Erlang Interface for the Driver</h2>
<p>When the driver is implemented, one would preferably write an Erlang interface for the driver to be able to test the functionality of the driver separately. This interface can then be used by the distribution module, which will cover the details of the protocol from the
<em>net_kernel</em>
.</p>
<p>The easiest path is to mimic the
<em>inet</em>
and
<em>inet_tcp</em>
interfaces, but not much functionality in those modules needs to be implemented. In the example application, only a few of the usual interfaces are implemented, and they are much simplified.</p>
<h2 id="writing-a-distribution-module">Writing a Distribution Module</h2>
<p>When the protocol is available to Erlang through a driver and an Erlang interface module, a distribution module can be written. The distribution module is a module with well-defined callbacks, much like a
<em>gen_server</em>
(there is no compiler support for checking the callbacks, though). This module implements:
*
The details of finding other nodes (that is, talking to
<em>epmd</em>
or something similar)
* Creating a listen port (or similar)
* Connecting to other nodes
* Performing the handshakes/cookie verification</p>
<p>There is however a utility module,
<em>dist_util</em>
, which does most of the hard work of handling handshakes, cookies, timers, and ticking. Using
<em>dist_util</em>
makes implementing a distribution module much easier and that is done in the example application.</p>
<h2 id="creating-boot-scripts">Creating Boot Scripts</h2>
<p>The last step is to create boot scripts to make the protocol implementation available at boot time. The implementation can be debugged by starting the distribution when all the system is running, but in a real system the distribution is to start very early, why a boot script and some command-line parameters are necessary.</p>
<p>This step also implies that the Erlang code in the interface and distribution modules is written in such a way that it can be run in the startup phase. In particular, there can be no calls to the
<em>application</em>
module or to any modules not loaded at boot time. That is, only
<em>Kernel</em>
,
<em>STDLIB</em>
, and the application itself can be used.
<a name="distribution_module">distribution_module</a></p>
<h2 id="distribution-module">Distribution Module</h2>
<p>The distribution module expose an API that
<em>net_kernel</em>
call in order to manage connections to other nodes. The module name should have the suffix
<em>_dist</em>
.</p>
<p>The module needs to create some kind of listening entity (process or port) and an acceptor process that accepts incoming connections using the listening entity. For each connection, the module at least needs to create one connection supervisor process, which also is responsible for the handshake when setting up the connection, and a distribution controller (process or port) responsible for transport of data over the connection. The distribution controller and the connection supervisor process should be linked together so both of them are cleaned up when the connection is taken down.</p>
<p>Note that there need to be exactly one distribution controller per connection. A process or port can only be distribution controller for one connection. The registration as distribution controller cannot be undone. It will stick until the distribution controller terminates. The distribution controller should not ignore exit signals. It is allowed to trap exits, but it should then voluntarily terminate when an exit signal is received.</p>
<p>An example implementation of a distribution module can be found in
<a href="gen_tcp_dist.erl">$ERL_TOP/lib/kernel/examples/gen_tcp_dist/src/gen_tcp_dist.erl</a>
. It implements the distribution over TCP/IP using the
<em>gen_tcp</em>
API with distribution controllers implemented by processes. This instead of using port distribution controllers as the ordinary TCP/IP distribution uses.
<a name="distribution_module_exported_callback_functions">distribution_module_exported_callback_functions</a></p>
<h2 id="exported-callback-functions">Exported Callback Functions</h2>
<p>The following functions are mandatory:
<dl></p>
<pre><code>&lt;dt&gt;
listen
listen(Name) -&gt;


{ok, {Listen, Address, Creation}} | {error, Error}
&lt;/dt&gt;

&lt;dd&gt;

listen/1
is called once in order to listen for incoming connection requests. The call is made when the distribution is brought up. The argument
Name
is the part of the node name before the
@
sign in the full node name. It can be either an atom or a string.

The return value consists of a
Listen
handle (which is later passed to the
accept
callback),
Address
which is a
#net_address{}
record with information about the address for the node (the
#net_address{}
record is defined in
kernel/include/net_address.hrl
), and
Creation
which (currently) is an integer
1
,
2
, or
3
.

If
erts/epmd
is to be used for node discovery, you typically want to use the (unfortunately undocumented)
erl_epmd
module (part of the
kernel
application) in order to register the listen port with
epmd
and retrieve
Creation
to use.
&lt;/dd&gt;

&lt;dt&gt;
accept
accept(Listen) -&gt;


AcceptorPid
&lt;/dt&gt;

&lt;dd&gt;

accept/1
should spawn a process that accepts connections. This process should preferably execute on
max
priority. The process identifier of this process should be returned.

The
Listen
argument will be the same as the
Listen
handle part of the return value of the
listen
callback above.
accept/1
is called only once when the distribution protocol is started.

The caller of this function is a representative for
net_kernel
(this may or may not be the process registered as
net_kernel
) and is in this document identified as
Kernel
. When a connection has been accepted by the acceptor process, it needs to inform
Kernel
about the accepted connection. This is done by passing a message on the form:

```
Kernel ! {accept, AcceptorPid, DistController, Family, Proto}
```

DistController
is either the process or port identifier of the distribution controller for the connection. The distribution controller should be created by the acceptor processes when a new connection is accepted. Its job is to dispatch traffic on the connection.
Kernel
responds with one of the following messages:
&lt;dl&gt;

&lt;dt&gt; {Kernel, controller, SupervisorPid} &lt;/dt&gt;

&lt;dd&gt;

The request was accepted and
SupervisorPid
is the process identifier of the connection supervisor process (which is created in the
accept_connection
callback).
&lt;/dd&gt;

&lt;dt&gt; {Kernel, unsupported_protocol} &lt;/dt&gt;

&lt;dd&gt;

The request was rejected. This is a fatal error. The acceptor process should terminate.
&lt;/dd&gt;
&lt;/dl&gt;

When an accept sequence has been completed the acceptor process is expected to continue accepting further requests.
&lt;/dd&gt;

&lt;dt&gt;
accept_connection
accept_connection(AcceptorPid, DistCtrl, MyNode, Allowed, SetupTime) -&gt;


ConnectionSupervisorPid
&lt;/dt&gt;

&lt;dd&gt;

accept_connection/5
should spawn a process that will perform the Erlang distribution handshake for the connection. If the handshake successfully completes it should continue to function as a connection supervisor. This process should preferably execute on
max
priority.

The arguments:
&lt;dl&gt;

&lt;dt&gt; AcceptorPid &lt;/dt&gt;

&lt;dd&gt;

Process identifier of the process created by the accept callback.
&lt;/dd&gt;

&lt;dt&gt; DistCtrl &lt;/dt&gt;

&lt;dd&gt;

The identifier of the distribution controller identifier created by the acceptor process. To be passed along to
dist_util:handshake_other_started(HsData)
.
&lt;/dd&gt;

&lt;dt&gt; MyNode &lt;/dt&gt;

&lt;dd&gt;

Node name of this node. To be passed along to
dist_util:handshake_other_started(HsData)
.
&lt;/dd&gt;

&lt;dt&gt; Allowed &lt;/dt&gt;

&lt;dd&gt;

To be passed along to dist_util:handshake_other_started(HsData) .
&lt;/dd&gt;

&lt;dt&gt; SetupTime &lt;/dt&gt;

&lt;dd&gt;

Time used for creating a setup timer by a call to
dist_util:start_timer(SetupTime)
. The timer should be passed along to
dist_util:handshake_other_started(HsData)
.
&lt;/dd&gt;
&lt;/dl&gt;

The created process should provide callbacks and other information needed for the handshake in a
hs_data_record
record and call
dist_util:handshake_other_started(HsData)
with this record.

dist_util:handshake_other_started(HsData)
will perform the handshake and if the handshake successfully completes this process will then continue in a connection supervisor loop as long as the connection is up.
&lt;/dd&gt;

&lt;dt&gt;
setup
setup(Node, Type, MyNode, LongOrShortNames, SetupTime) -&gt;


ConnectionSupervisorPid
&lt;/dt&gt;

&lt;dd&gt;

setup/5
should spawn a process that connects to
Node
. When connection has been established it should perform the Erlang distribution handshake for the connection. If the handshake successfully completes it should continue to function as a connection supervisor. This process should preferably execute on
max
priority.

The arguments:
&lt;dl&gt;

&lt;dt&gt; Node &lt;/dt&gt;

&lt;dd&gt;

Node name of remote node. To be passed along to
dist_util:handshake_we_started(HsData)
.
&lt;/dd&gt;

&lt;dt&gt; Type &lt;/dt&gt;

&lt;dd&gt;

Connection type. To be passed along to
dist_util:handshake_we_started(HsData)
.
&lt;/dd&gt;

&lt;dt&gt; MyNode &lt;/dt&gt;

&lt;dd&gt;

Node name of this node. To be passed along to
dist_util:handshake_we_started(HsData)
.
&lt;/dd&gt;

&lt;dt&gt; LongOrShortNames &lt;/dt&gt;

&lt;dd&gt;

Either the atom
longnames
or the atom
shortnames
indicating whether long or short names is used.
&lt;/dd&gt;

&lt;dt&gt; SetupTime &lt;/dt&gt;

&lt;dd&gt;

Time used for creating a setup timer by a call to
dist_util:start_timer(SetupTime)
. The timer should be passed along to
dist_util:handshake_we_started(HsData)
.
&lt;/dd&gt;
&lt;/dl&gt;

The caller of this function is a representative for
net_kernel
(this may or may not be the process registered as
net_kernel
) and is in this document identified as
Kernel
.

This function should, besides spawning the connection supervisor, also create a distribution controller. The distribution controller is either a process or a port which is responsible for dispatching traffic.

The created process should provide callbacks and other information needed for the handshake in a
hs_data_record
record and call
dist_util:handshake_we_started(HsData)
with this record.

dist_util:handshake_we_started(HsData)
will perform the handshake and the handshake successfully completes this process will then continue in a connection supervisor loop as long as the connection is up.
&lt;/dd&gt;

&lt;dt&gt;
close
close(Listen) -&gt;


void()
&lt;/dt&gt;

&lt;dd&gt;

Called in order to close the
Listen
handle that originally was passed from the
listen
callback.
&lt;/dd&gt;

&lt;dt&gt;
select
select(NodeName) -&gt;


boolean()
&lt;/dt&gt;

&lt;dd&gt;

Return
true
if the host name part of the
NodeName
is valid for use with this protocol; otherwise,
false
.
&lt;/dd&gt;
</code></pre>
</dl>

<p>There are also two optional functions that may be exported:
<dl></p>
<pre><code>&lt;dt&gt;
select
setopts(Listen, Opts) -&gt;


ok | {error, Error}
&lt;/dt&gt;

&lt;dd&gt;

The argument
Listen
is the handle originally passed from the
listen
callback. The argument
Opts
is a list of options to set on future connections.
&lt;/dd&gt;

&lt;dt&gt;
select
getopts(Listen, Opts) -&gt;


{ok, OptionValues} | {error, Error}
&lt;/dt&gt;

&lt;dd&gt;

The argument
Listen
is the handle originally passed from the
listen
callback. The argument
Opts
is a list of options to read for future connections.
&lt;/dd&gt;
</code></pre>
<p></dl>
<a name="hs_data_record">hs_data_record</a></p>
<h2 id="the-hs_data-record">The #hs_data{} Record</h2>
<p>The
<em>dist_util:handshake_we_started/1</em>
and
<em>dist_util:handshake_other_started/1</em>
functions takes a
<em>#hs_data{}</em>
record as argument. There are quite a lot of fields in this record that you need to set. The record is defined in
<em>kernel/include/dist_util.hrl</em>
. Not documented fields should not be set, i.e., should be left as
<em>undefined</em>
.</p>
<p>The following
<em>#hs_data{}</em>
record fields need to be set unless otherwise stated:
<dl></p>
<pre><code>&lt;dt&gt; hs_data_kernel_pid kernel_pid &lt;/dt&gt;

&lt;dd&gt;

Process identifier of the
Kernel
process. That is, the process that called either
setup
or
accept_connection
.
&lt;/dd&gt;

&lt;dt&gt; hs_data_other_node other_node &lt;/dt&gt;

&lt;dd&gt;

Name of the other node. This field is only mandatory when this node initiates the connection. That is, when connection is set up via
setup
.
&lt;/dd&gt;

&lt;dt&gt; hs_data_this_node this_node &lt;/dt&gt;

&lt;dd&gt;

The node name of this node.
&lt;/dd&gt;

&lt;dt&gt; hs_data_socket socket &lt;/dt&gt;

&lt;dd&gt;

The identifier of the distribution controller.
&lt;/dd&gt;

&lt;dt&gt; hs_data_timer timer &lt;/dt&gt;

&lt;dd&gt;

The timer created using dist_util:start_timer/1 .
&lt;/dd&gt;

&lt;dt&gt; hs_data_allowed allowed &lt;/dt&gt;

&lt;dd&gt;

Information passed as
Allowed
to
accept_connection/5
. This field is only mandatory when the remote node initiated the connection. That is, when the connection is set up via
accept_connection
.
&lt;/dd&gt;

&lt;dt&gt; hs_data_f_send f_send &lt;/dt&gt;

&lt;dd&gt;

A fun with the following signature:

```
fun (DistCtrlr, Data) -&gt; ok | {error, Error}
```

where
DistCtrlr
is the identifier of the distribution controller and
Data
is io data to pass to the other side.

Only used during handshake phase.
&lt;/dd&gt;

&lt;dt&gt; hs_data_f_recv f_recv &lt;/dt&gt;

&lt;dd&gt;

A fun with the following signature:

```
fun (DistCtrlr, Length) -&gt; {ok, Packet} | {error, Reason}
```

where
DistCtrlr
is the identifier of the distribution controller. If
Length
is
0
, all available bytes should be returned. If
Length &gt; 0
, exactly
Length
bytes should be returned, or an error; possibly discarding less than
Length
bytes of data when the connection is closed from the other side. It is used for passive receive of data from the other end.

Only used during handshake phase.
&lt;/dd&gt;

&lt;dt&gt; hs_data_f_setopts_pre_nodeup f_setopts_pre_nodeup &lt;/dt&gt;

&lt;dd&gt;

A fun with the following signature:

```
fun (DistCtrlr) -&gt; ok | {error, Error}
```

where
DistCtrlr
is the identifier of the distribution controller. Called just before the distribution channel is taken up for normal traffic.

Only used during handshake phase.
&lt;/dd&gt;

&lt;dt&gt; hs_data_f_setopts_post_nodeup f_setopts_post_nodeup &lt;/dt&gt;

&lt;dd&gt;

A fun with the following signature:

```
fun (DistCtrlr) -&gt; ok | {error, Error}
```

where
DistCtrlr
is the identifier of the distribution controller. Called just after distribution channel has been taken up for normal traffic.

Only used during handshake phase.
&lt;/dd&gt;

&lt;dt&gt; hs_data_f_getll f_getll &lt;/dt&gt;

&lt;dd&gt;

A fun with the following signature:

```
fun (DistCtrlr) -&gt; ID
```

where
DistCtrlr
is the identifier of the distribution controller and
ID
is the identifier of the low level entity that handles the connection (often
DistCtrlr
itself).

Only used during handshake phase.
&lt;/dd&gt;

&lt;dt&gt; hs_data_f_address f_address &lt;/dt&gt;

&lt;dd&gt;

A fun with the following signature:

```
fun (DistCtrlr, Node) -&gt; NetAddress
```

where
DistCtrlr
is the identifier of the distribution controller,
Node
is the node name of the node on the other end, and
NetAddress
is a
#net_address{}
record with information about the address for the
Node
on the other end of the connection. The
#net_address{}
record is defined in
kernel/include/net_address.hrl
.

Only used during handshake phase.
&lt;/dd&gt;

&lt;dt&gt; hs_data_mf_tick mf_tick &lt;/dt&gt;

&lt;dd&gt;

A fun with the following signature:

```
fun (DistCtrlr) -&gt; void()
```

where
DistCtrlr
is the identifier of the distribution controller. This function should send information over the connection that is not interpreted by the other end while increasing the statistics of received packets on the other end. This is usually implemented by sending an empty packet.

It is of vital importance that this operation does not block the caller for a long time. This since it is called from the connection supervisor.

Used when connection is up.
&lt;/dd&gt;

&lt;dt&gt; hs_data_mf_getstat mf_getstat &lt;/dt&gt;

&lt;dd&gt;

A fun with the following signature:

```
fun (DistCtrlr) -&gt; {ok, Received, Sent, PendSend}
```

where
DistCtrlr
is the identifier of the distribution controller,
Received
is received packets,
Sent
is sent packets, and
PendSend
is amount of packets in queue to be sent or a
boolean()
indicating whether there are packets in queue to be sent.

It is of vital importance that this operation does not block the caller for a long time. This since it is called from the connection supervisor.

Used when connection is up.
&lt;/dd&gt;

&lt;dt&gt; hs_data_request_type request_type &lt;/dt&gt;

&lt;dd&gt;

The request
Type
as passed to
setup
. This is only mandatory when the connection has been initiated by this node. That is, the connection is set up via
setup/5
.
&lt;/dd&gt;

&lt;dt&gt; hs_data_mf_setopts mf_setopts &lt;/dt&gt;

&lt;dd&gt;

A fun with the following signature:

```
fun (DistCtrl, Opts) -&gt; ok | {error, Error}
```

where
DistCtrlr
is the identifier of the distribution controller and
Opts
is a list of options to set on the connection.

This function is optional. Used when connection is up.
&lt;/dd&gt;

&lt;dt&gt; hs_data_mf_getopts mf_getopts &lt;/dt&gt;

&lt;dd&gt;

A fun with the following signature:

```
fun (DistCtrl, Opts) -&gt; {ok, OptionValues} | {error, Error}
```

where
DistCtrlr
is the identifier of the distribution controller and
Opts
is a list of options to read for the connection.

This function is optional. Used when connection is up.
&lt;/dd&gt;

&lt;dt&gt; hs_data_f_handshake_complete f_handshake_complete &lt;/dt&gt;

&lt;dd&gt;

A fun with the following signature:

```
fun (DistCtrlr, Node, DHandle) -&gt; void()
```

where
DistCtrlr
is the identifier of the distribution controller,
Node
is the node name of the node connected at the other end, and
DHandle
is a distribution handle needed by a distribution controller process when calling the following BIFs:
* erts/erlang#dist_ctrl_get_data/1
* erts/erlang#dist_ctrl_get_data_notification/1
* erts/erlang#dist_ctrl_input_handler/2
* erts/erlang#dist_ctrl_put_data/2

This function is called when the handshake has completed and the distribution channel is up. The distribution controller can begin dispatching traffic over the channel. This function is optional.

Only used during handshake phase.
&lt;/dd&gt;

&lt;dt&gt; hs_data_add_flags add_flags &lt;/dt&gt;

&lt;dd&gt;

Distribution flags
to add to the connection. Currently all (non obsolete) flags will automatically be enabled.

This flag field is optional.
&lt;/dd&gt;

&lt;dt&gt; hs_data_reject_flags reject_flags &lt;/dt&gt;

&lt;dd&gt;

Distribution flags
to reject. Currently the following distribution flags can be rejected:
&lt;dl&gt;

&lt;dt&gt; DFLAG_DIST_HDR_ATOM_CACHE &lt;/dt&gt;

&lt;dd&gt; Do not use atom cache over this connection. &lt;/dd&gt;
&lt;/dl&gt;

Use function
dist_util:strict_order_flags/0
to get all flags for features that require strict order delivery.

This flag field is optional.
&lt;/dd&gt;

&lt;dt&gt; hs_data_require_flags require_flags &lt;/dt&gt;

&lt;dd&gt;

Require these
distribution flags
to be used. The connection will be aborted during the handshake if the other end does not use them.

This flag field is optional.
&lt;/dd&gt;
</code></pre>
<p></dl>
<a name="distribution_data_delivery">distribution_data_delivery</a></p>
<h2 id="distribution-data-delivery">Distribution Data Delivery</h2>
<p>When using the default configuration, the data to pass over a connection needs to be delivered as is to the node on the receiving end in the
<strong>exact same order</strong>
, with no loss of data what so ever, as sent from the sending node.</p>
<p>The data delivery order can be relaxed by disabling features that require strict ordering. This is done by passing the
<a href="./erl_dist_protocol#dflags">distribution flags</a>
returned by
<em>dist_util:strict_order_flags/0</em>
in the
<a href="./alt_dist#hs_data_reject_flags">alt_dist#hs_data_reject_flags</a>
field of the
<a href="#hs_data_record">hs_data_record</a>
record used when setting up the connection. When relaxed ordering is used, only the order of signals with the same sender/receiver pair has to be preserved. However, note that disabling the features that require strict ordering may have a negative impact on performance, throughput, and/or latency.
<a name="enable_your_distribution_module">enable_your_distribution_module</a></p>
<h2 id="enable-your-distribution-module">Enable Your Distribution Module</h2>
<p>For
<em>net_kernel</em>
to find out which distribution module to use, the
<em>erl</em>
command-line argument
<em>-proto_dist</em>
is used. It is followed by one or more distribution module names, with suffix "_dist" removed. That is,
<em>gen_tcp_dist</em>
as a distribution module is specified as
<em>-proto_dist gen_tcp</em>
.</p>
<p>If no
<em>epmd</em>
(TCP port mapper daemon) is used, also command-line option
<em>-no_epmd</em>
is to be specified, which makes Erlang skip the
<em>epmd</em>
startup, both as an OS process and as an Erlang ditto.</p>
<h2 id="the-driver">The Driver</h2>
<div class="admonition info">
<p class="admonition-title">Note</p>
</div>
<p>This section was written a long time ago. Most of it is still valid, but some things have changed since then. Some updates have been made to the documentation of the driver presented here, but more can be done and is planned for the future. The reader is encouraged to read the
<a href="erl_driver">erl_driver</a>
and
<a href="driver_entry">driver_entry</a>
documentation also.</p>
<p>Although Erlang drivers in general can be beyond the scope of this section, a brief introduction seems to be in place.</p>
<h2 id="drivers-in-general">Drivers in General</h2>
<p>An Erlang driver is a native code module written in C (or assembler), which serves as an interface for some special operating system service. This is a general mechanism that is used throughout the Erlang emulator for all kinds of I/O. An Erlang driver can be dynamically linked (or loaded) to the Erlang emulator at runtime by using the
<em>erl_ddll</em>
Erlang module. Some of the drivers in OTP are however statically linked to the runtime system, but that is more an optimization than a necessity.</p>
<p>The driver data types and the functions available to the driver writer are defined in header file
<em>erl_driver.h</em>
seated in Erlang's include directory. See the
<a href="./erl_driver">erl_driver</a>
documentation for details of which functions are available.</p>
<p>When writing a driver to make a communications protocol available to Erlang, one should know just about everything worth knowing about that particular protocol. All operation must be non-blocking and all possible situations are to be accounted for in the driver. A non-stable driver will affect and/or crash the whole Erlang runtime system.</p>
<p>The emulator calls the driver in the following situations:
*
When the driver is loaded. This callback must have a special name and inform the emulator of what callbacks are to be used by returning a pointer to a
<em>ErlDrvEntry</em>
struct, which is to be properly filled in (see below).
*
When a port to the driver is opened (by a
<em>open_port</em>
call from Erlang). This routine is to set up internal data structures and return an opaque data entity of the type
<em>ErlDrvData</em>
, which is a data type large enough to hold a pointer. The pointer returned by this function is the first argument to all other callbacks concerning this particular port. It is usually called the port handle. The emulator only stores the handle and does never try to interpret it, why it can be virtually anything (anything not larger than a pointer that is) and can point to anything if it is a pointer. Usually this pointer refers to a structure holding information about the particular port, as it does in the example.
*
When an Erlang process sends data to the port. The data arrives as a buffer of bytes, the interpretation is not defined, but is up to the implementor. This callback returns nothing to the caller, answers are sent to the caller as messages (using a routine called
<em>driver_output</em>
available to all drivers). There is also a way to talk in a synchronous way to drivers, described below. There can be an additional callback function for handling data that is fragmented (sent in a deep io-list). That interface gets the data in a form suitable for Unix
<em>writev</em>
rather than in a single buffer. There is no need for a distribution driver to implement such a callback, so we will not.
*
When a file descriptor is signaled for input. This callback is called when the emulator detects input on a file descriptor that the driver has marked for monitoring by using the interface
<em>driver_select</em>
. The mechanism of driver select makes it possible to read non-blocking from file descriptors by calling
<em>driver_select</em>
when reading is needed, and then do the reading in this callback (when reading is possible). The typical scenario is that
<em>driver_select</em>
is called when an Erlang process orders a read operation, and that this routine sends the answer when data is available on the file descriptor.
*
When a file descriptor is signaled for output. This callback is called in a similar way as the previous, but when writing to a file descriptor is possible. The usual scenario is that Erlang orders writing on a file descriptor and that the driver calls
<em>driver_select</em>
. When the descriptor is ready for output, this callback is called and the driver can try to send the output. Queuing can be involved in such operations, and there are convenient queue routines available to the driver writer to use.
*
When a port is closed, either by an Erlang process or by the driver calling one of the
<em>driver_failure_XXX</em>
routines. This routine is to clean up everything connected to one particular port. When other callbacks call a
<em>driver_failure_XXX</em>
routine, this routine is immediately called. The callback routine issuing the error can make no more use of the data structures for the port, as this routine surely has freed all associated data and closed all file descriptors. If the queue utility available to driver writer is used, this routine is however
<strong>not</strong>
called until the queue is empty.
*
When an Erlang process calls
<a href="./erlang#port_control/3">erlang#port_control/3</a>
, which is a synchronous interface to drivers. The control interface is used to set driver options, change states of ports, and so on. This interface is used a lot in the example.
*
When a timer expires. The driver can set timers with the function
<em>driver_set_timer</em>
. When such timers expire, a specific callback function is called. No timers are used in the example.
*
When the whole driver is unloaded. Every resource allocated by the driver is to be freed.</p>
<h2 id="the-data-structures-of-the-distribution-driver">The Data Structures of the Distribution Driver</h2>
<p>The driver used for Erlang distribution is to implement a reliable, order maintaining, variable length packet-oriented protocol. All error correction, resending and such need to be implemented in the driver or by the underlying communications protocol. If the protocol is stream-oriented (as is the case with both TCP/IP and our streamed Unix domain sockets), some mechanism for packaging is needed. We will use the simple method of having a header of four bytes containing the length of the package in a big-endian 32-bit integer. As Unix domain sockets only can be used between processes on the same machine, we do not need to code the integer in some special endianess, but we will do it anyway because in most situation you need to do it. Unix domain sockets are reliable and order maintaining, so we do not need to implement resends and such in the driver.</p>
<p>We start writing the example Unix domain sockets driver by declaring prototypes and filling in a static
<em>ErlDrvEntry</em>
structure:</p>
<pre><code>
( 1) #include &lt;stdio.h&gt;
( 2) #include &lt;stdlib.h&gt;
( 3) #include &lt;string.h&gt;
( 4) #include &lt;unistd.h&gt;
( 5) #include &lt;errno.h&gt;
( 6) #include &lt;sys/types.h&gt;
( 7) #include &lt;sys/stat.h&gt;
( 8) #include &lt;sys/socket.h&gt;
( 9) #include &lt;sys/un.h&gt;
(10) #include &lt;fcntl.h&gt;

(11) #define HAVE_UIO_H
(12) #include &quot;erl_driver.h&quot;

(13) /*
(14) ** Interface routines
(15) */
(16) static ErlDrvData uds_start(ErlDrvPort port, char *buff);
(17) static void uds_stop(ErlDrvData handle);
(18) static void uds_command(ErlDrvData handle, char *buff, int bufflen);
(19) static void uds_input(ErlDrvData handle, ErlDrvEvent event);
(20) static void uds_output(ErlDrvData handle, ErlDrvEvent event);
(21) static void uds_finish(void);
(22) static int uds_control(ErlDrvData handle, unsigned int command, 
(23)                        char* buf, int count, char** res, int res_size);

(24) /* The driver entry */
(25) static ErlDrvEntry uds_driver_entry = {
(26)     NULL,                            /* init, N/A */
(27)     uds_start,                       /* start, called when port is opened */
(28)     uds_stop,                        /* stop, called when port is closed */
(29)     uds_command,                     /* output, called when erlang has sent */
(30)     uds_input,                       /* ready_input, called when input
(31)                                         descriptor ready */
(32)     uds_output,                      /* ready_output, called when output 
(33)                                         descriptor ready */
(34)     &quot;uds_drv&quot;,                       /* char *driver_name, the argument 
(35)                                         to open_port */
(36)     uds_finish,                      /* finish, called when unloaded */
(37)     NULL,                            /* void * that is not used (BC) */
(38)     uds_control,                     /* control, port_control callback */
(39)     NULL,                            /* timeout, called on timeouts */
(40)     NULL,                            /* outputv, vector output interface */
(41)     NULL,                            /* ready_async callback */
(42)     NULL,                            /* flush callback */
(43)     NULL,                            /* call callback */
(44)     NULL,                            /* event callback */
(45)     ERL_DRV_EXTENDED_MARKER,         /* Extended driver interface marker */
(46)     ERL_DRV_EXTENDED_MAJOR_VERSION,  /* Major version number */
(47)     ERL_DRV_EXTENDED_MINOR_VERSION,  /* Minor version number */
(48)     ERL_DRV_FLAG_SOFT_BUSY,          /* Driver flags. Soft busy flag is
(49)                                         required for distribution drivers */
(50)     NULL,                            /* Reserved for internal use */
(51)     NULL,                            /* process_exit callback */
(52)     NULL                             /* stop_select callback */
(53) };
</code></pre>

<p>On line 1-10 the OS headers needed for the driver are included. As this driver is written for Solaris, we know that the header
<em>uio.h</em>
exists. So the preprocessor variable
<em>HAVE_UIO_H</em>
can be defined before
<em>erl_driver.h</em>
is included on line 12. The definition of
<em>HAVE_UIO_H</em>
will make the I/O vectors used in Erlang's driver queues to correspond to the operating systems ditto, which is very convenient.</p>
<p>On line 16-23 the different callback functions are declared ("forward declarations").</p>
<p>The driver structure is similar for statically linked-in drivers and dynamically loaded. However, some of the fields are to be left empty (that is, initialized to NULL) in the different types of drivers. The first field (the
<em>init</em>
function pointer) is always left blank in a dynamically loaded driver, see line 26.
<em>NULL</em>
on line 37 is always to be there, the field is no longer used and is retained for backward compatibility. No timers are used in this driver, why no callback for timers is needed. The
<em>outputv</em>
field (line 40) can be used to implement an interface similar to Unix
<em>writev</em>
for output. The Erlang runtime system could previously not use
<em>outputv</em>
for the distribution, but it can as from ERTS 5.7.2. As this driver was written before ERTS 5.7.2 it does not use the
<em>outputv</em>
callback. Using the
<em>outputv</em>
callback is preferred, as it reduces copying of data. (We will however use scatter/gather I/O internally in the driver.)</p>
<p>As from ERTS 5.5.3 the driver interface was extended with version control and the possibility to pass capability information. Capability flags are present on line 48. As from ERTS 5.7.4 flag
<a href="./driver_entry#driver_flags">driver_entry#driver_flags</a>
is required for drivers that are to be used by the distribution. The soft busy flag implies that the driver can handle calls to the
<em>output</em>
and
<em>outputv</em>
callbacks although it has marked itself as busy. This has always been a requirement on drivers used by the distribution, but no capability information has been available about this previously. For more information. see
<a href="./erl_driver#set_busy_port">erl_driver#set_busy_port</a>
).</p>
<p>This driver was written before the runtime system had SMP support. The driver will still function in the runtime system with SMP support, but performance will suffer from lock contention on the driver lock used for the driver. This can be alleviated by reviewing and perhaps rewriting the code so that each instance of the driver safely can execute in parallel. When instances safely can execute in parallel, it is safe to enable instance-specific locking on the driver. This is done by passing
<a href="./driver_entry#driver_flags">driver_entry#driver_flags</a>
as a driver flag. This is left as an exercise for the reader.</p>
<p>Thus, the defined callbacks are as follows:
<dl></p>
<pre><code>&lt;dt&gt; uds_start &lt;/dt&gt;

&lt;dd&gt;

Must initiate data for a port. We do not create any sockets here, only initialize data structures.
&lt;/dd&gt;

&lt;dt&gt; uds_stop &lt;/dt&gt;

&lt;dd&gt;

Called when a port is closed.
&lt;/dd&gt;

&lt;dt&gt; uds_command &lt;/dt&gt;

&lt;dd&gt;

Handles messages from Erlang. The messages can either be plain data to be sent or more subtle instructions to the driver. This function is here mostly for data pumping.
&lt;/dd&gt;

&lt;dt&gt; uds_input &lt;/dt&gt;

&lt;dd&gt;

Called when there is something to read from a socket.
&lt;/dd&gt;

&lt;dt&gt; uds_output &lt;/dt&gt;

&lt;dd&gt;

Called when it is possible to write to a socket.
&lt;/dd&gt;

&lt;dt&gt; uds_finish &lt;/dt&gt;

&lt;dd&gt;

Called when the driver is unloaded. A distribution driver will never be unloaded, but we include this for completeness. To be able to clean up after oneself is always a good thing.
&lt;/dd&gt;

&lt;dt&gt; uds_control &lt;/dt&gt;

&lt;dd&gt;

The
erlang#port_control/3
callback, which is used a lot in this implementation.
&lt;/dd&gt;
</code></pre>
</dl>

<p>The ports implemented by this driver operate in two major modes, named
<em>command</em>
and
<em>data</em>
. In
<em>command</em>
mode, only passive reading and writing (like
<em>gen_tcp:recv</em>
/
<em>gen_tcp:send</em>
) can be done. The port is in this mode during the distribution handshake. When the connection is up, the port is switched to
<em>data</em>
mode and all data is immediately read and passed further to the Erlang emulator. In
<em>data</em>
mode, no data arriving to
<em>uds_command</em>
is interpreted, only packaged and sent out on the socket. The
<em>uds_control</em>
callback does the switching between those two modes.</p>
<p>While
<em>net_kernel</em>
informs different subsystems that the connection is coming up, the port is to accept data to send. However, the port should not receive any data, to avoid that data arrives from another node before every kernel subsystem is prepared to handle it. A third mode, named
<em>intermediate</em>
, is used for this intermediate stage.</p>
<p>An enum is defined for the different types of ports:</p>
<pre><code>
( 1) typedef enum { 
( 2)     portTypeUnknown,      /* An uninitialized port */
( 3)     portTypeListener,     /* A listening port/socket */
( 4)     portTypeAcceptor,     /* An intermediate stage when accepting
( 5)                              on a listen port */
( 6)     portTypeConnector,    /* An intermediate stage when connecting */
( 7)     portTypeCommand,      /* A connected open port in command mode */
( 8)     portTypeIntermediate, /* A connected open port in special
( 9)                              half active mode */
(10)     portTypeData          /* A connected open port in data mode */ 
(11) } PortType;      
</code></pre>

<p>The different types are as follows:
<dl></p>
<pre><code>&lt;dt&gt; portTypeUnknown &lt;/dt&gt;

&lt;dd&gt;

The type a port has when it is opened, but not bound to any file descriptor.
&lt;/dd&gt;

&lt;dt&gt; portTypeListener &lt;/dt&gt;

&lt;dd&gt;

A port that is connected to a listen socket. This port does not do much, no data pumping is done on this socket, but read data is available when one is trying to do an accept on the port.
&lt;/dd&gt;

&lt;dt&gt; portTypeAcceptor &lt;/dt&gt;

&lt;dd&gt;

This port is to represent the result of an accept operation. It is created when one wants to accept from a listen socket, and it is converted to a
portTypeCommand
when the accept succeeds.
&lt;/dd&gt;

&lt;dt&gt; portTypeConnector &lt;/dt&gt;

&lt;dd&gt;

Very similar to
portTypeAcceptor
, an intermediate stage between the request for a connect operation and that the socket is connected to an accepting ditto in the other end. When the sockets are connected, the port switches type to
portTypeCommand
.
&lt;/dd&gt;

&lt;dt&gt; portTypeCommand &lt;/dt&gt;

&lt;dd&gt;

A connected socket (or accepted socket) in
command
mode mentioned earlier.
&lt;/dd&gt;

&lt;dt&gt; portTypeIntermediate &lt;/dt&gt;

&lt;dd&gt;

The intermediate stage for a connected socket. There is to be no processing of input for this socket.
&lt;/dd&gt;

&lt;dt&gt; portTypeData &lt;/dt&gt;

&lt;dd&gt;

The mode where data is pumped through the port and the
uds_command
routine regards every call as a call where sending is wanted. In this mode, all input available is read and sent to Erlang when it arrives on the socket, much like in the active mode of a
gen_tcp
socket.
&lt;/dd&gt;
</code></pre>
</dl>

<p>We study the state that is needed for the ports. Notice that not all fields are used for all types of ports. Some space could be saved by using unions, but that would clutter the code with multiple indirections, so here is used one struct for all types of ports, for readability:</p>
<pre><code>
( 1) typedef unsigned char Byte;
( 2) typedef unsigned int Word;

( 3) typedef struct uds_data {
( 4)     int fd;                   /* File descriptor */
( 5)     ErlDrvPort port;          /* The port identifier */
( 6)     int lockfd;               /* The file descriptor for a lock file in 
( 7)                                  case of listen sockets */
( 8)     Byte creation;            /* The creation serial derived from the 
( 9)                                  lock file */
(10)     PortType type;            /* Type of port */
(11)     char *name;               /* Short name of socket for unlink */
(12)     Word sent;                /* Bytes sent */
(13)     Word received;            /* Bytes received */
(14)     struct uds_data *partner; /* The partner in an accept/listen pair */
(15)     struct uds_data *next;    /* Next structure in list */
(16)     /* The input buffer and its data */
(17)     int buffer_size;          /* The allocated size of the input buffer */
(18)     int buffer_pos;           /* Current position in input buffer */
(19)     int header_pos;           /* Where the current header is in the 
(20)                                  input buffer */
(21)     Byte *buffer;             /* The actual input buffer */
(22) } UdsData;      
</code></pre>

<p>This structure is used for all types of ports although some fields are useless for some types. The least memory consuming solution would be to arrange this structure as a union of structures. However, the multiple indirections in the code to access a field in such a structure would clutter the code too much for an example.</p>
<p>The fields in the structure are as follows:
<dl></p>
<pre><code>&lt;dt&gt; fd &lt;/dt&gt;

&lt;dd&gt;

The file descriptor of the socket associated with the port.
&lt;/dd&gt;

&lt;dt&gt; port &lt;/dt&gt;

&lt;dd&gt;

The port identifier for the port that this structure corresponds to. It is needed for most
driver_XXX
calls from the driver back to the emulator.
&lt;/dd&gt;

&lt;dt&gt; lockfd &lt;/dt&gt;

&lt;dd&gt;

If the socket is a listen socket, we use a separate (regular) file for two purposes:
*
We want a locking mechanism that gives no race conditions, to be sure if another Erlang node uses the listen socket name we require or if the file is only left there from a previous (crashed) session.
*

We store the
creation
serial number in the file. The
creation
is a number that is to change between different instances of different Erlang emulators with the same name, so that process identifiers from one emulator do not become valid when sent to a new emulator with the same distribution name. The creation can be from 0 through 3 (two bits) and is stored in every process identifier sent to another node.

In a system with TCP-based distribution, this data is kept in the
Erlang port mapper daemon
(
epmd
), which is contacted when a distributed node starts. The lock file and a convention for the UDS listen socket's name remove the need for
epmd
when using this distribution module. UDS is always restricted to one host, why avoiding a port mapper is easy.
&lt;/dd&gt;

&lt;dt&gt; creation &lt;/dt&gt;

&lt;dd&gt;

The creation number for a listen socket, which is calculated as (the value found in the lock-file + 1) rem 4. This creation value is also written back into the lock file, so that the next invocation of the emulator finds our value in the file.
&lt;/dd&gt;

&lt;dt&gt; type &lt;/dt&gt;

&lt;dd&gt;

The current type/state of the port, which can be one of the values declared above.
&lt;/dd&gt;

&lt;dt&gt; name &lt;/dt&gt;

&lt;dd&gt;

The name of the socket file (the path prefix removed), which allows for deletion (
unlink
) when the socket is closed.
&lt;/dd&gt;

&lt;dt&gt; sent &lt;/dt&gt;

&lt;dd&gt;

How many bytes that have been sent over the socket. This can wrap, but that is no problem for the distribution, as the Erlang distribution is only interested in if this value has changed. (The Erlang
net_kernel
ticker
uses this value by calling the driver to fetch it, which is done through the
erlang#port_control/3
routine.)
&lt;/dd&gt;

&lt;dt&gt; received &lt;/dt&gt;

&lt;dd&gt;

How many bytes that are read (received) from the socket, used in similar ways as
sent
.
&lt;/dd&gt;

&lt;dt&gt; partner &lt;/dt&gt;

&lt;dd&gt;

A pointer to another port structure, which is either the listen port from which this port is accepting a connection or conversely. The "partner relation" is always bidirectional.
&lt;/dd&gt;

&lt;dt&gt; next &lt;/dt&gt;

&lt;dd&gt;

Pointer to next structure in a linked list of all port structures. This list is used when accepting connections and when the driver is unloaded.
&lt;/dd&gt;

&lt;dt&gt; buffer_size , buffer_pos , header_pos , buffer &lt;/dt&gt;

&lt;dd&gt;

Data for input buffering. For details about the input buffering, see the source code in directory
kernel/examples
. That certainly goes beyond the scope of this section.
&lt;/dd&gt;
</code></pre>
</dl>

<h2 id="selected-parts-of-the-distribution-driver-implementation">Selected Parts of the Distribution Driver Implementation</h2>
<p>The implemenation of the distribution driver is not completely covered here, details about buffering and other things unrelated to driver writing are not explained. Likewise are some peculiarities of the UDS protocol not explained in detail. The chosen protocol is not important.</p>
<p>Prototypes for the driver callback routines can be found in the
<em>erl_driver.h</em>
header file.</p>
<p>The driver initialization routine is (usually) declared with a macro to make the driver easier to port between different operating systems (and flavors of systems). This is the only routine that must have a well-defined name. All other callbacks are reached through the driver structure. The macro to use is named
<em>DRIVER_INIT</em>
and takes the driver name as parameter:</p>
<pre><code>
(1) /* Beginning of linked list of ports */
(2) static UdsData *first_data;

(3) DRIVER_INIT(uds_drv)
(4) {
(5)     first_data = NULL;
(6)     return &amp;uds_driver_entry;
(7) }      
</code></pre>

<p>The routine initializes the single global data structure and returns a pointer to the driver entry. The routine is called when
<em>erl_ddll:load_driver</em>
is called from Erlang.</p>
<p>The
<em>uds_start</em>
routine is called when a port is opened from Erlang. In this case, we only allocate a structure and initialize it. Creating the actual socket is left to the
<em>uds_command</em>
routine.</p>
<pre><code>
( 1) static ErlDrvData uds_start(ErlDrvPort port, char *buff)
( 2) {
( 3)     UdsData *ud;
( 4)     
( 5)     ud = ALLOC(sizeof(UdsData));
( 6)     ud-&gt;fd = -1;
( 7)     ud-&gt;lockfd = -1;
( 8)     ud-&gt;creation = 0;
( 9)     ud-&gt;port = port;
(10)     ud-&gt;type = portTypeUnknown;
(11)     ud-&gt;name = NULL;
(12)     ud-&gt;buffer_size = 0;
(13)     ud-&gt;buffer_pos = 0;
(14)     ud-&gt;header_pos = 0;
(15)     ud-&gt;buffer = NULL;
(16)     ud-&gt;sent = 0;
(17)     ud-&gt;received = 0;
(18)     ud-&gt;partner = NULL;
(19)     ud-&gt;next = first_data;
(20)     first_data = ud;
(21)     
(22)     return((ErlDrvData) ud);
(23) }      
</code></pre>

<p>Every data item is initialized, so that no problems arise when a newly created port is closed (without there being any corresponding socket). This routine is called when
<em>open_port({spawn, "uds_drv"},[])</em>
is called from Erlang.</p>
<p>The
<em>uds_command</em>
routine is the routine called when an Erlang process sends data to the port. This routine handles all asynchronous commands when the port is in
<em>command</em>
mode and the sending of all data when the port is in
<em>data</em>
mode:</p>
<pre><code>
( 1) static void uds_command(ErlDrvData handle, char *buff, int bufflen)
( 2) {
( 3)     UdsData *ud = (UdsData *) handle;

( 4)     if (ud-&gt;type == portTypeData || ud-&gt;type == portTypeIntermediate) {
( 5)         DEBUGF((&quot;Passive do_send %d&quot;,bufflen));
( 6)         do_send(ud, buff + 1, bufflen - 1); /* XXX */
( 7)         return;
( 8)     } 
( 9)     if (bufflen == 0) {
(10)         return;
(11)     }
(12)     switch (*buff) {
(13)     case 'L':
(14)         if (ud-&gt;type != portTypeUnknown) {
(15)             driver_failure_posix(ud-&gt;port, ENOTSUP);
(16)             return;
(17)         }
(18)         uds_command_listen(ud,buff,bufflen);
(19)         return;
(20)     case 'A':
(21)         if (ud-&gt;type != portTypeUnknown) {
(22)             driver_failure_posix(ud-&gt;port, ENOTSUP);
(23)             return;
(24)         }
(25)         uds_command_accept(ud,buff,bufflen);
(26)         return;
(27)     case 'C':
(28)         if (ud-&gt;type != portTypeUnknown) {
(29)             driver_failure_posix(ud-&gt;port, ENOTSUP);
(30)             return;
(31)         }
(32)         uds_command_connect(ud,buff,bufflen);
(33)         return;
(34)     case 'S':
(35)         if (ud-&gt;type != portTypeCommand) {
(36)             driver_failure_posix(ud-&gt;port, ENOTSUP);
(37)             return;
(38)         }
(39)         do_send(ud, buff + 1, bufflen - 1);
(40)         return;
(41)     case 'R':
(42)         if (ud-&gt;type != portTypeCommand) {
(43)             driver_failure_posix(ud-&gt;port, ENOTSUP);
(44)             return;
(45)         }
(46)         do_recv(ud);
(47)         return;
(48)     default:
(49)         return;
(50)     }
(51) }      
</code></pre>

<p>The command routine takes three parameters; the handle returned for the port by
<em>uds_start</em>
, which is a pointer to the internal port structure, the data buffer, and the length of the data buffer. The buffer is the data sent from Erlang (a list of bytes) converted to an C array (of bytes).</p>
<p>If Erlang sends, for example, the list
<em>[$a,$b,$c]</em>
to the port, the
<em>bufflen</em>
variable is
<em>3</em>
and the
<em>buff</em>
variable contains
<em>{'a','b','c'}</em>
(no
<em>NULL</em>
termination). Usually the first byte is used as an opcode, which is the case in this driver too (at least when the port is in
<em>command</em>
mode). The opcodes are defined as follows:
<dl></p>
<pre><code>&lt;dt&gt; 'L'&lt;socket name&gt; &lt;/dt&gt;

&lt;dd&gt;

Creates and listens on socket with the specified name.
&lt;/dd&gt;

&lt;dt&gt; 'A'&lt;listen number as 32-bit big-endian&gt; &lt;/dt&gt;

&lt;dd&gt;

Accepts from the listen socket identified by the specified identification number. The identification number is retrieved with the
uds_control
routine.
&lt;/dd&gt;

&lt;dt&gt; 'C'&lt;socket name&gt; &lt;/dt&gt;

&lt;dd&gt;

Connects to the socket named &lt;socket name&gt;.
&lt;/dd&gt;

&lt;dt&gt; 'S'&lt;data&gt; &lt;/dt&gt;

&lt;dd&gt;

Sends the data &lt;data&gt; on the connected/accepted socket (in
command
mode). The sending is acknowledged when the data has left this process.
&lt;/dd&gt;

&lt;dt&gt; 'R' &lt;/dt&gt;

&lt;dd&gt;

Receives one packet of data.
&lt;/dd&gt;
</code></pre>
</dl>

<p>"One packet of data" in command
<em>'R'</em>
can be explained as follows. This driver always sends data packaged with a 4 byte header containing a big-endian 32-bit integer that represents the length of the data in the packet. There is no need for different packet sizes or some kind of streamed mode, as this driver is for the distribution only. Why is the header word coded explicitly in big-endian when a UDS socket is local to the host? It is good practice when writing a distribution driver, as distribution in practice usually crosses the host boundaries.</p>
<p>On line 4-8 is handled the case where the port is in
<em>data</em>
mode or
<em>intermediate</em>
mode and the remaining routine handles the different commands. The routine uses the
<em>driver_failure_posix()</em>
routine to report errors (see, for example, line 15). Notice that the failure routines make a call to the
<em>uds_stop</em>
routine, which will remove the internal port data. The handle (and the casted handle
<em>ud</em>
) is therefore
<strong>invalid pointers</strong>
after a
<em>driver_failure</em>
call and we should
<strong>return immediately</strong>
. The runtime system will send exit signals to all linked processes.</p>
<p>The
<em>uds_input</em>
routine is called when data is available on a file descriptor previously passed to the
<em>driver_select</em>
routine. This occurs typically when a read command is issued and no data is available. The
<em>do_recv</em>
routine is as follows:</p>
<pre><code>
( 1) static void do_recv(UdsData *ud)
( 2) {
( 3)     int res;
( 4)     char *ibuf;
( 5)     for(;;) {
( 6)         if ((res = buffered_read_package(ud,&amp;ibuf)) &lt; 0) {
( 7)             if (res == NORMAL_READ_FAILURE) {
( 8)                 driver_select(ud-&gt;port, (ErlDrvEvent) ud-&gt;fd, DO_READ, 1);
( 9)             } else {
(10)                 driver_failure_eof(ud-&gt;port);
(11)             }
(12)             return;
(13)         }
(14)         /* Got a package */
(15)         if (ud-&gt;type == portTypeCommand) {
(16)             ibuf[-1] = 'R'; /* There is always room for a single byte 
(17)                                opcode before the actual buffer 
(18)                                (where the packet header was) */
(19)             driver_output(ud-&gt;port,ibuf - 1, res + 1);
(20)             driver_select(ud-&gt;port, (ErlDrvEvent) ud-&gt;fd, DO_READ,0);
(21)             return;
(22)         } else {
(23)             ibuf[-1] = DIST_MAGIC_RECV_TAG; /* XXX */
(24)             driver_output(ud-&gt;port,ibuf - 1, res + 1);
(25)             driver_select(ud-&gt;port, (ErlDrvEvent) ud-&gt;fd, DO_READ,1);
(26)         }
(27)     }
(28) }      
</code></pre>

<p>The routine tries to read data until a packet is read or the
<em>buffered_read_package</em>
routine returns a
<em>NORMAL_READ_FAILURE</em>
(an internally defined constant for the module, which means that the read operation resulted in an
<em>EWOULDBLOCK</em>
). If the port is in
<em>command</em>
mode, the reading stops when one package is read. If the port is in
<em>data</em>
mode, the reading continues until the socket buffer is empty (read failure). If no more data can be read and more is wanted (which is always the case when the socket is in
<em>data</em>
mode),
<em>driver_select</em>
is called to make the
<em>uds_input</em>
callback be called when more data is available for reading.</p>
<p>When the port is in
<em>data</em>
mode, all data is sent to Erlang in a format that suits the distribution. In fact, the raw data will never reach any Erlang process, but will be translated/interpreted by the emulator itself and then delivered in the correct format to the correct processes. In the current emulator version, received data is to be tagged with a single byte of 100. That is what the macro
<em>DIST_MAGIC_RECV_TAG</em>
is defined to. The tagging of data in the distribution can be changed in the future.</p>
<p>The
<em>uds_input</em>
routine handles other input events (like non-blocking
<em>accept</em>
), but most importantly handle data arriving at the socket by calling
<em>do_recv</em>
:</p>
<pre><code>
( 1) static void uds_input(ErlDrvData handle, ErlDrvEvent event)
( 2) {
( 3)     UdsData *ud = (UdsData *) handle;

( 4)     if (ud-&gt;type == portTypeListener) {
( 5)         UdsData *ad = ud-&gt;partner;
( 6)         struct sockaddr_un peer;
( 7)         int pl = sizeof(struct sockaddr_un);
( 8)         int fd;

( 9)         if ((fd = accept(ud-&gt;fd, (struct sockaddr *) &amp;peer, &amp;pl)) &lt; 0) {
(10)             if (errno != EWOULDBLOCK) {
(11)                 driver_failure_posix(ud-&gt;port, errno);
(12)                 return;
(13)             }
(14)             return;
(15)         }
(16)         SET_NONBLOCKING(fd);
(17)         ad-&gt;fd = fd;
(18)         ad-&gt;partner = NULL;
(19)         ad-&gt;type = portTypeCommand;
(20)         ud-&gt;partner = NULL;
(21)         driver_select(ud-&gt;port, (ErlDrvEvent) ud-&gt;fd, DO_READ, 0);
(22)         driver_output(ad-&gt;port, &quot;Aok&quot;,3);
(23)         return;
(24)     }
(25)     do_recv(ud);
(26) }      
</code></pre>

<p>The important line is the last line in the function: the
<em>do_read</em>
routine is called to handle new input. The remaining function handles input on a listen socket, which means that it is to be possible to do an accept on the socket, which is also recognized as a read event.</p>
<p>The output mechanisms are similar to the input. The
<em>do_send</em>
routine is as follows:</p>
<pre><code>
( 1) static void do_send(UdsData *ud, char *buff, int bufflen) 
( 2) {
( 3)     char header[4];
( 4)     int written;
( 5)     SysIOVec iov[2];
( 6)     ErlIOVec eio;
( 7)     ErlDrvBinary *binv[] = {NULL,NULL};

( 8)     put_packet_length(header, bufflen);
( 9)     iov[0].iov_base = (char *) header;
(10)     iov[0].iov_len = 4;
(11)     iov[1].iov_base = buff;
(12)     iov[1].iov_len = bufflen;
(13)     eio.iov = iov;
(14)     eio.binv = binv;
(15)     eio.vsize = 2;
(16)     eio.size = bufflen + 4;
(17)     written = 0;
(18)     if (driver_sizeq(ud-&gt;port) == 0) {
(19)         if ((written = writev(ud-&gt;fd, iov, 2)) == eio.size) {
(20)             ud-&gt;sent += written;
(21)             if (ud-&gt;type == portTypeCommand) {
(22)                 driver_output(ud-&gt;port, &quot;Sok&quot;, 3);
(23)             }
(24)             return;
(25)         } else if (written &lt; 0) {
(26)             if (errno != EWOULDBLOCK) {
(27)                 driver_failure_eof(ud-&gt;port);
(28)                 return;
(29)             } else {
(30)                 written = 0;
(31)             }
(32)         } else {
(33)             ud-&gt;sent += written;
(34)         }
(35)         /* Enqueue remaining */
(36)     }
(37)     driver_enqv(ud-&gt;port, &amp;eio, written);
(38)     send_out_queue(ud);
(39) }      
</code></pre>

<p>This driver uses the
<em>writev</em>
system call to send data onto the socket. A combination of
<em>writev</em>
and the driver output queues is very convenient. An
<em>ErlIOVec</em>
structure contains a
<em>SysIOVec</em>
(which is equivalent to the
<em>struct iovec</em>
structure defined in
<em>uio.h</em>
. The
<em>ErlIOVec</em>
also contains an array of
<em>ErlDrvBinary</em>
pointers, of the same length as the number of buffers in the I/O vector itself. One can use this to allocate the binaries for the queue "manually" in the driver, but here the binary array is filled with
<em>NULL</em>
values (line 7). The runtime system then allocates its own buffers when
<em>driver_enqv</em>
is called (line 37).</p>
<p>The routine builds an I/O vector containing the header bytes and the buffer (the opcode has been removed and the buffer length decreased by the output routine). If the queue is empty, we write the data directly to the socket (or at least try to). If any data is left, it is stored in the queue and then we try to send the queue (line 38). An acknowledgement is sent when the message is delivered completely (line 22). The
<em>send_out_queue</em>
sends acknowledgements if the sending is completed there. If the port is in
<em>command</em>
mode, the Erlang code serializes the send operations so that only one packet can be waiting for delivery at a time. Therefore the acknowledgement can be sent whenever the queue is empty.</p>
<p>The <em>send_out_queue</em> routine is as follows:</p>
<pre><code>
( 1) static int send_out_queue(UdsData *ud)
( 2) {
( 3)     for(;;) {
( 4)         int vlen;
( 5)         SysIOVec *tmp = driver_peekq(ud-&gt;port, &amp;vlen);
( 6)         int wrote;
( 7)         if (tmp == NULL) {
( 8)             driver_select(ud-&gt;port, (ErlDrvEvent) ud-&gt;fd, DO_WRITE, 0);
( 9)             if (ud-&gt;type == portTypeCommand) {
(10)                 driver_output(ud-&gt;port, &quot;Sok&quot;, 3);
(11)             }
(12)             return 0;
(13)         }
(14)         if (vlen &gt; IO_VECTOR_MAX) {
(15)             vlen = IO_VECTOR_MAX;
(16)         } 
(17)         if ((wrote = writev(ud-&gt;fd, tmp, vlen)) &lt; 0) {
(18)             if (errno == EWOULDBLOCK) {
(19)                 driver_select(ud-&gt;port, (ErlDrvEvent) ud-&gt;fd, 
(20)                               DO_WRITE, 1);
(21)                 return 0;
(22)             } else {
(23)                 driver_failure_eof(ud-&gt;port);
(24)                 return -1;
(25)             }
(26)         }
(27)         driver_deq(ud-&gt;port, wrote);
(28)         ud-&gt;sent += wrote;
(29)     }
(30) }      
</code></pre>

<p>We simply pick out an I/O vector from the queue (which is the whole queue as a
<em>SysIOVec</em>
). If the I/O vector is too long (
<em>IO_VECTOR_MAX</em>
is defined to 16), the vector length is decreased (line 15), otherwise the
<em>writev</em>
call (line 17) fails. Writing is tried and anything written is dequeued (line 27). If the write fails with
<em>EWOULDBLOCK</em>
(notice that all sockets are in non-blocking mode),
<em>driver_select</em>
is called to make the
<em>uds_output</em>
routine be called when there is space to write again.</p>
<p>We continue trying to write until the queue is empty or the writing blocks.</p>
<p>The routine above is called from the <em>uds_output</em> routine:</p>
<pre><code>
( 1) static void uds_output(ErlDrvData handle, ErlDrvEvent event)
( 2) {
( 3)    UdsData *ud = (UdsData *) handle;
( 4)    if (ud-&gt;type == portTypeConnector) {
( 5)        ud-&gt;type = portTypeCommand;
( 6)        driver_select(ud-&gt;port, (ErlDrvEvent) ud-&gt;fd, DO_WRITE, 0);
( 7)        driver_output(ud-&gt;port, &quot;Cok&quot;,3);
( 8)        return;
( 9)    }
(10)    send_out_queue(ud);
(11) }      
</code></pre>

<p>The routine is simple: it first handles the fact that the output select will concern a socket in the business of connecting (and the connecting blocked). If the socket is in a connected state, it simply sends the output queue. This routine is called when it is possible to write to a socket where we have an output queue, so there is no question what to do.</p>
<p>The driver implements a control interface, which is a synchronous interface called when Erlang calls
<a href="./erlang#port_control/3">erlang#port_control/3</a>
. Only this interface can control the driver when it is in
<em>data</em>
mode. It can be called with the following opcodes:
<dl></p>
<pre><code>&lt;dt&gt; 'C' &lt;/dt&gt;

&lt;dd&gt;

Sets port in command mode.
&lt;/dd&gt;

&lt;dt&gt; 'I' &lt;/dt&gt;

&lt;dd&gt;

Sets port in intermediate mode.
&lt;/dd&gt;

&lt;dt&gt; 'D' &lt;/dt&gt;

&lt;dd&gt;

Sets port in data mode.
&lt;/dd&gt;

&lt;dt&gt; 'N' &lt;/dt&gt;

&lt;dd&gt;

Gets identification number for listen port. This identification number is used in an accept command to the driver. It is returned as a big-endian 32-bit integer, which is the file identifier for the listen socket.
&lt;/dd&gt;

&lt;dt&gt; 'S' &lt;/dt&gt;

&lt;dd&gt;

Gets statistics, which is the number of bytes received, the number of bytes sent, and the number of bytes pending in the output queue. This data is used when the distribution checks that a connection is alive (ticking). The statistics is returned as three 32-bit big-endian integers.
&lt;/dd&gt;

&lt;dt&gt; 'T' &lt;/dt&gt;

&lt;dd&gt;

Sends a tick message, which is a packet of length 0. Ticking is done when the port is in
data
mode, so the command for sending data cannot be used (besides it ignores zero length packages in
command
mode). This is used by the ticker to send dummy data when no other traffic is present.

Note:
It is important that the interface for sending ticks is not blocking. This implementation uses
erlang#port_control/3
, which does not block the caller. If
erlang:port_command
is used, use
erlang#port_command/3
and pass
[force]
as option list; otherwise the caller can be blocked indefinitely on a busy port and prevent the system from taking down a connection that is not functioning.
&lt;/dd&gt;

&lt;dt&gt; 'R' &lt;/dt&gt;

&lt;dd&gt;

Gets creation number of a listen socket, which is used to dig out the number stored in the lock file to differentiate between invocations of Erlang nodes with the same name.
&lt;/dd&gt;
</code></pre>
</dl>

<p>The control interface gets a buffer to return its value in, but is free to allocate its own buffer if the provided one is too small. The
<em>uds_control</em>
code is as follows:</p>
<pre><code>
( 1) static int uds_control(ErlDrvData handle, unsigned int command, 
( 2)                        char* buf, int count, char** res, int res_size)
( 3) {
( 4) /* Local macro to ensure large enough buffer. */
( 5) #define ENSURE(N)                               \
( 6)    do {                                         \
( 7)        if (res_size &lt; N) {                      \
( 8)            *res = ALLOC(N);                     \
( 9)        }                                        \
(10)    } while(0)

(11)    UdsData *ud = (UdsData *) handle;

(12)    switch (command) {
(13)    case 'S':
(14)        {
(15)            ENSURE(13);
(16)            **res = 0;
(17)            put_packet_length((*res) + 1, ud-&gt;received);
(18)            put_packet_length((*res) + 5, ud-&gt;sent);
(19)            put_packet_length((*res) + 9, driver_sizeq(ud-&gt;port));
(20)            return 13;
(21)        }
(22)    case 'C':
(23)        if (ud-&gt;type &lt; portTypeCommand) {
(24)            return report_control_error(res, res_size, &quot;einval&quot;);
(25)        }
(26)        ud-&gt;type = portTypeCommand;
(27)        driver_select(ud-&gt;port, (ErlDrvEvent) ud-&gt;fd, DO_READ, 0);
(28)        ENSURE(1);
(29)        **res = 0;
(30)        return 1;
(31)    case 'I':
(32)        if (ud-&gt;type &lt; portTypeCommand) {
(33)            return report_control_error(res, res_size, &quot;einval&quot;);
(34)        }
(35)        ud-&gt;type = portTypeIntermediate;
(36)        driver_select(ud-&gt;port, (ErlDrvEvent) ud-&gt;fd, DO_READ, 0);
(37)        ENSURE(1);
(38)        **res = 0;
(39)        return 1;
(40)    case 'D':
(41)        if (ud-&gt;type &lt; portTypeCommand) {
(42)            return report_control_error(res, res_size, &quot;einval&quot;);
(43)        }
(44)        ud-&gt;type = portTypeData;
(45)        do_recv(ud);
(46)        ENSURE(1);
(47)        **res = 0;
(48)        return 1;
(49)    case 'N':
(50)        if (ud-&gt;type != portTypeListener) {
(51)            return report_control_error(res, res_size, &quot;einval&quot;);
(52)        }
(53)        ENSURE(5);
(54)        (*res)[0] = 0;
(55)        put_packet_length((*res) + 1, ud-&gt;fd);
(56)        return 5;
(57)    case 'T': /* tick */
(58)        if (ud-&gt;type != portTypeData) {
(59)            return report_control_error(res, res_size, &quot;einval&quot;);
(60)        }
(61)        do_send(ud,&quot;&quot;,0);
(62)        ENSURE(1);
(63)        **res = 0;
(64)        return 1;
(65)    case 'R':
(66)        if (ud-&gt;type != portTypeListener) {
(67)            return report_control_error(res, res_size, &quot;einval&quot;);
(68)        }
(69)        ENSURE(2);
(70)        (*res)[0] = 0;
(71)        (*res)[1] = ud-&gt;creation;
(72)        return 2;
(73)    default:
(74)        return report_control_error(res, res_size, &quot;einval&quot;);
(75)    }
(76) #undef ENSURE
(77) }      
</code></pre>

<p>The macro
<em>ENSURE</em>
(line 5-10) is used to ensure that the buffer is large enough for the answer. We switch on the command and take actions. We always have read select active on a port in
<em>data</em>
mode (achieved by calling
<em>do_recv</em>
on line 45), but we turn off read selection in
<em>intermediate</em>
and
<em>command</em>
modes (line 27 and 36).</p>
<p>The rest of the driver is more or less UDS-specific and not of general interest.</p>
<h2 id="putting-it-all-together">Putting It All Together</h2>
<p>To test the distribution, the
<em>net_kernel:start/1</em>
function can be used. It is useful, as it starts the distribution on a running system, where tracing/debugging can be performed. The
<em>net_kernel:start/1</em>
routine takes a list as its single argument. The list first element in the list is to be the node name (without the "@hostname") as an atom. The second (and last) element is to be one of the atoms
<em>shortnames</em>
or
<em>longnames</em>
. In the example case,
<em>shortnames</em>
is preferred.</p>
<p>For
<em>net_kernel</em>
to find out which distribution module to use, command-line argument
<em>-proto_dist</em>
is used. It is followed by one or more distribution module names, with suffix "_dist" removed, that is,
<em>uds_dist</em>
as a distribution module is specified as
<em>-proto_dist uds</em>
.</p>
<p>If no
<em>epmd</em>
(TCP port mapper daemon) is used, also command-line option
<em>-no_epmd</em>
is to be specified, which makes Erlang skip the
<em>epmd</em>
startup, both as an OS process and as an Erlang ditto.</p>
<p>The path to the directory where the distribution modules reside must be known at boot. This can be achieved either by specifying
<em>-pa <path></em>
on the command line or by building a boot script containing the applications used for your distribution protocol. (In the
<em>uds_dist</em>
protocol, only the
<em>uds_dist</em>
application needs to be added to the script.)</p>
<p>The distribution starts at boot if all the above is specified and an
<em>-sname <name></em>
flag is present at the command line.</p>
<p><strong>Example 1:</strong></p>
<pre><code>
$ 
erl -pa $ERL_TOP/lib/kernel/examples/uds_dist/ebin -proto_dist uds -no_epmd

Erlang (BEAM) emulator version 5.0 

Eshell V5.0  (abort with ^G)
1&gt; 
net_kernel:start([bing,shortnames]). 
{ok,
&lt;0.30.0&gt;}
(bing@hador)2&gt;
</code></pre>

<p><strong>Example 2:</strong></p>
<pre><code>
$ 
erl -pa $ERL_TOP/lib/kernel/examples/uds_dist/ebin -proto_dist uds \ 

       -no_epmd -sname bong

Erlang (BEAM) emulator version 5.0 

Eshell V5.0  (abort with ^G)
(bong@hador)1&gt;
</code></pre>

<p>The
<em>ERL_FLAGS</em>
environment variable can be used to store the complicated parameters in:</p>
<pre><code>
$  ERL_FLAGS=-pa $ERL_TOP/lib/kernel/examples/uds_dist/ebin \  

      -proto_dist uds -no_epmd 
$  export ERL_FLAGS 
$ 
erl -sname bang

Erlang (BEAM) emulator version 5.0 

Eshell V5.0  (abort with ^G)
(bang@hador)1&gt;
</code></pre>

<p><em>ERL_FLAGS</em> should not include the node name.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../atomics/" class="btn btn-neutral float-right" title="atomics">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../alt_disco/" class="btn btn-neutral" title="How to Implement an Alternative Service Discovery for Erlang Distribution"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../alt_disco/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../atomics/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '../..';</script>
    <script src="../../js/theme.js" defer></script>
      <script src="../../search/main.js" defer></script>

</body>
</html>
