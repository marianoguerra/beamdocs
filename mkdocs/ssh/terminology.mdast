{above,
 {above,
  {above,
   {above,{above,{text,[0]},null},null},
   {above,{above,{text,"\r# Terminology"},null},null}},
  {sep,
   [{above,
     {above,{above,{text,[0]},null},null},
     {above,
      {above,
       {text,
        [22,35,35,32,71,101,110,101,114,97,108,32,73,110,102,111,114,109,97,
         116,105,111,110]},
       null},
      null}},
    {above,
     {above,{above,{text,[0]},null},null},
     {above,
      {above,
       {sep,
        [{sep,
          [{text,
            ">In the following terms that may cause confusion are explained."}],
          0,false}],
        0,true},
       null},
      null}}],
   0,false}},
 {sep,
  [{above,
    {above,{above,{text,[0]},null},null},
    {above,
     {above,
      {text,
       [18,35,35,32,84,104,101,32,116,101,114,109,32,34,117,115,101,114,34]},
      null},
     null}},
   {above,
    {above,{above,{text,[0]},null},null},
    {above,
     {above,
      {sep,
       [{sep,
         [{text,
           "{A \"user\" is a term that everyone understands intuitively. However, the understandings may differ which can cause confusion."}],
         0,false}],
       0,true},
      null},
     null}},
   {above,
    {above,{above,{text,[0]},null},null},
    {above,
     {above,
      {sep,
       [{sep,
         [{sep,
           [{text,
             [31,84,104,101,32,116,101,114,109,32,105,115,32,117,115,101,100,
              32,100,105,102,102,101,114,101,110,116,108,121,32,105,110]}],
           0,false},
          {text,"![OpenSSH](http://www.openssh.com)"},
          {sep,
           [{text,
             "nand SSH in Erlang/OTP. The reason is the different environments and use cases that are not immediatly obvious."}],
           0,false}],
         0,false}],
       0,true},
      null},
     null}},
   {above,
    {above,{above,{text,[0]},null},null},
    {above,
     {above,
      {sep,
       [{sep,
         [{text,
           "tThis chapter aims at explaining the differences and giving a rationale for why Erlang/OTP handles \"user\" as it does."}],
         0,false}],
       0,true},
      null},
     null}},
   {sep,
    [{above,
      {above,{above,{text,[0]},null},null},
      {above,{above,{text,"\r## In OpenSSH"},null},null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {sep,
         [{sep,
           [{text,
             [128,77,97,110,121,32,104,97,118,101,32,98,101,101,110,32,105,
              110,32,99,111,110,116,97,99,116,32,119,105,116,104,32,116,104,
              101,32,99,111,109,109,97,110,100,32,39,115,115,104,39,32,111,
              110,32,97,32,76,105,110,117,120,32,109,97,99,104,105,110,101,32,
              40,111,114,32,115,105,109,105,108,97,114,41,32,116,111,32,114,
              101,109,111,116,108,121,32,108,111,103,32,105,110,32,111,110,32,
              97,110,111,116,104,101,114,32,109,97,99,104,105,110,101,46,32,
              79,110,101,32,116,121,112,101,115]}],
           0,false}],
         0,true},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {above,
         {above,{text,[3,96,96,96]},{sep,[{text,"\bssh host"}],0,true}},
         {text,[3,96,96,96]}},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {sep,
         [{sep,
           [{sep,
             [{text,
               [30,116,111,32,108,111,103,32,105,110,32,111,110,32,116,104,
                101,32,109,97,99,104,105,110,101,32,110,97,109,101,100]}],
             0,false},
            {text,[6,42,104,111,115,116,42]},
            {sep,
             [{text,"5. The command prompts for your password on the remote"}],
             0,false},
            {text,[6,42,104,111,115,116,42]},
            {sep,
             [{text,"0and then you can read, write and execute as your"}],
             0,false},
            {text,"\r**user name**"},
            {sep,
             [{text,
               [24,104,97,115,32,114,105,103,104,116,115,32,111,110,32,116,
                104,101,32,114,101,109,111,116,101]}],
             0,false},
            {text,[6,42,104,111,115,116,42]},
            {sep,
             [{text,
               [137,46,32,84,104,101,114,101,32,97,114,101,32,115,116,114,111,
                110,103,101,114,32,118,97,114,105,97,110,116,115,32,119,105,
                116,104,32,112,114,101,45,100,105,115,116,114,105,98,117,116,
                101,100,32,107,101,121,115,32,111,114,32,99,101,114,116,105,
                102,105,99,97,116,101,115,44,32,98,117,116,32,116,104,97,116,
                32,97,114,101,32,102,111,114,32,110,111,119,32,106,117,115,
                116,32,100,101,116,97,105,108,115,32,105,110,32,116,104,101,
                32,97,117,116,104,101,110,116,105,99,97,116,105,111,110,32,
                112,114,111,99,101,115,115,46]}],
             0,false}],
           0,false}],
         0,true},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {sep,
         [{sep,
           [{sep,
             [{text,
               [28,89,111,117,32,99,111,117,108,100,32,108,111,103,32,105,110,
                32,97,115,32,116,104,101,32,117,115,101,114]}],
             0,false},
            {text,"\r*anotheruser*"},
            {sep,[{text,[4,119,105,116,104]}],0,false}],
           0,false}],
         0,true},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {above,
         {above,
          {text,[3,96,96,96]},
          {sep,
           [{text,
             [20,115,115,104,32,97,110,111,116,104,101,114,117,115,101,114,64,
              104,111,115,116]}],
           0,true}},
         {text,[3,96,96,96]}},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {sep,
         [{sep,
           [{sep,[{text,"&and you will then be enabled to act as"}],0,false},
            {text,"\r*anotheruser*"},
            {sep,[{text,[6,111,110,32,116,104,101]}],0,false},
            {text,[6,42,104,111,115,116,42]},
            {sep,
             [{text,
               [24,105,102,32,97,117,116,104,111,114,105,122,101,100,32,99,
                111,114,114,101,99,116,108,121,46]}],
             0,false}],
           0,false}],
         0,true},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {sep,
         [{sep,
           [{sep,[{text,"\fSo what does"}],0,false},
            {text,
             [31,42,42,34,121,111,117,114,32,117,115,101,114,32,110,97,109,
              101,32,104,97,115,32,114,105,103,104,116,115,34,42,42]},
            {sep,
             [{text,
               "Dmean? In a UNIX/Linux/etc context it is exactly as that context: The"}],
             0,false},
            {text,"\b**user**"},
            {sep,
             [{text,
               "ncould read, write and execute programs according to the OS rules. In addition, the user has a home directory ("}],
             0,false},
            {text,[7,42,36,72,79,77,69,42]},
            {sep,
             [{text,
               [16,41,32,97,110,100,32,116,104,101,114,101,32,105,115,32,97]}],
             0,false},
            {text,"\r*$HOME/.ssh/*"},
            {sep,[{text,"\"directory with ssh-specific files."}],0,false}],
           0,false}],
         0,true},
        null},
       null}},
     {sep,
      [{above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {text,
           [30,35,35,32,83,83,72,32,112,97,115,115,119,111,114,100,32,97,117,
            116,104,101,110,116,105,99,97,116,105,111,110]},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               "ÚWhen SSH tries to log in to a host, the ssh protocol communicates the user name (as a string) and a password. The remote ssh server checks that there is such a user defined and that the provided password is acceptable."}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               [30,73,102,32,115,111,44,32,116,104,101,32,117,115,101,114,32,
                105,115,32,97,117,116,104,111,114,105,122,101,100,46]}],
             0,false}],
           0,true},
          null},
         null}}],
      0,false},
     {sep,
      [{above,
        {above,{above,{text,[0]},null},null},
        {above,{above,{text," ## SSH public key authentication"},null},null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               [155,84,104,105,115,32,105,115,32,97,32,115,116,114,111,110,
                103,101,114,32,109,101,116,104,111,100,32,119,104,101,114,101,
                32,116,104,101,32,115,115,104,32,112,114,111,116,111,99,111,
                108,32,98,114,105,110,103,115,32,116,104,101,32,117,115,101,
                114,32,110,97,109,101,44,32,116,104,101,32,117,115,101,114,39,
                115,32,112,117,98,108,105,99,32,107,101,121,32,97,110,100,32,
                115,111,109,101,32,99,114,121,112,116,111,103,114,97,112,104,
                105,99,32,105,110,102,111,114,109,97,116,105,111,110,32,119,
                104,105,99,104,32,119,101,32,99,111,117,108,100,32,105,103,
                110,111,114,101,32,104,101,114,101,46]}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,")The ssh server on the remote host checks:"}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,
         {sep,
          [{text,[1,42]},
           {sep,
            [{sep,[{text,"\bThat the"}],0,false},
             {text,"\b**user**"},
             {sep,
              [{text,
                [21,104,97,115,32,97,32,104,111,109,101,32,100,105,114,101,99,
                 116,111,114,121,44]}],
              0,false}],
            0,false}],
          0,false},
         {sep,
          [{text,[1,42]},
           {text,"2that home directory contains a .ssh/ directory and"}],
          0,false}},
        {sep,
         [{text,[1,42]},
          {sep,
           [{sep,
             [{text,
               "@the .ssh/ directory contains the public key just received in the"}],
             0,false},
            {text,
             [17,42,97,117,116,104,111,114,105,122,101,100,95,107,101,121,115,
              42]},
            {sep,[{text,[4,102,105,108,101]}],0,false}],
           0,false}],
         0,false}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               [30,105,102,32,115,111,44,32,116,104,101,32,117,115,101,114,32,
                105,115,32,97,117,116,104,111,114,105,122,101,100,46]}],
             0,false}],
           0,true},
          null},
         null}}],
      0,false},
     {sep,
      [{above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {text,
           "D## The SSH server on UNIX/Linux/etc after a succesful authentication"},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               "]After a succesful incoming authentication, a new process runs as the just authenticated user."}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               "¾Next step is to start a service according to the ssh request. In case of a request of a shell, a new one is started which handles the OS-commands that arrives from the client (that's \"you\")."}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               [145,73,110,32,99,97,115,101,32,111,102,32,97,32,115,102,116,
                112,32,114,101,113,117,101,115,116,44,32,97,110,32,115,102,
                116,112,32,115,101,114,118,101,114,32,105,115,32,115,116,97,
                114,116,101,100,32,105,110,32,119,105,116,104,32,116,104,101,
                32,117,115,101,114,39,115,32,114,105,103,104,116,115,46,32,83,
                111,32,105,116,32,99,111,117,108,100,32,114,101,97,100,44,32,
                119,114,105,116,101,32,111,114,32,100,101,108,101,116,101,32,
                102,105,108,101,115,32,105,102,32,97,108,108,111,119,101,100,
                32,102,111,114,32,116,104,97,116,32,117,115,101,114,46]}],
             0,false}],
           0,true},
          null},
         null}}],
      0,false}],
    0,false},
   {sep,
    [{above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {text,
         [20,35,35,32,73,110,32,69,114,108,97,110,103,47,79,84,80,32,83,83,
          72]},
        null},
       null}},
     {above,
      {above,{above,{text,[0]},null},null},
      {above,
       {above,
        {sep,
         [{sep,
           [{text,
             [344,70,111,114,32,116,104,101,32,69,114,108,97,110,103,47,79,84,
              80,32,83,83,72,32,115,101,114,118,101,114,32,116,104,101,32,115,
              105,116,117,97,116,105,111,110,32,105,115,32,100,105,102,102,
              101,114,101,110,116,46,32,84,104,101,32,115,101,114,118,101,114,
              32,101,120,101,99,117,116,101,115,32,105,110,32,97,110,32,69,
              114,108,97,110,103,32,112,114,111,99,101,115,115,32,105,110,32,
              116,104,101,32,69,114,108,97,110,103,32,101,109,117,108,97,116,
              111,114,32,119,104,105,99,104,32,105,110,32,116,117,114,110,32,
              101,120,101,99,117,116,101,115,32,105,110,32,97,110,32,79,83,32,
              112,114,111,99,101,115,115,46,32,84,104,101,32,101,109,117,108,
              97,116,111,114,32,100,111,101,115,32,110,111,116,32,116,114,121,
              32,116,111,32,99,104,97,110,103,101,32,105,116,115,32,117,115,
              101,114,32,119,104,101,110,32,97,117,116,104,101,110,116,105,99,
              97,116,101,100,32,111,118,101,114,32,116,104,101,32,83,83,72,32,
              112,114,111,116,111,99,111,108,46,32,83,111,32,116,104,101,32,
              114,101,109,111,116,101,32,117,115,101,114,32,110,97,109,101,32,
              105,115,32,111,110,108,121,32,102,111,114,32,97,117,116,104,101,
              110,116,105,99,97,116,105,111,110,32,112,117,114,112,111,115,
              101,115,32,105,110,32,116,104,101,32,69,114,108,97,110,103,47,
              79,84,80,32,83,83,72,32,97,112,112,108,105,99,97,116,105,111,
              110,46]}],
           0,false}],
         0,true},
        null},
       null}},
     {sep,
      [{above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,{text,"(## Password authentication in Erlang SSH"},null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               "SThe Erlang/OTP SSH server checks the user name and password in the following order:"}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,
         {sep,
          [{text,[1,42]},
           {sep,
            [{sep,[{text,[4,73,102,32,97]}],0,false},
             {text,"1[ssh/ssh#option-pwdfun](../ssh/ssh#option-pwdfun)"},
             {sep,
              [{text,
                "Uis defined, that one is called and the returned boolean is the authentication result."}],
              0,false}],
            0,false}],
          0,false},
         {sep,
          [{text,[1,42]},
           {sep,
            [{sep,[{text,"\fElse, if the"}],0,false},
             {text,
              "A[ssh/ssh#option-user_passwords](../ssh/ssh#option-user_passwords)"},
             {sep,
              [{text,
                "]option is defined and the username and the password matches, the authentication is a success."}],
              0,false}],
            0,false}],
          0,false}},
        {sep,
         [{text,[1,42]},
          {sep,
           [{sep,
             [{text,
               [19,69,108,115,101,44,32,105,102,32,116,104,101,32,111,112,116,
                105,111,110]}],
             0,false},
            {text,"5[ssh/ssh#option-password](../ssh/ssh#option-password)"},
            {sep,
             [{text,
               [138,105,115,32,100,101,102,105,110,101,100,32,97,110,100,32,
                109,97,116,99,104,101,115,32,116,104,101,32,112,97,115,115,
                119,111,114,100,32,116,104,101,32,97,117,116,104,101,110,116,
                105,99,97,116,105,111,110,32,105,115,32,97,32,115,117,99,99,
                101,115,115,46,32,78,111,116,101,32,116,104,97,116,32,116,104,
                101,32,117,115,101,32,111,102,32,116,104,105,115,32,111,112,
                116,105,111,110,32,105,115,32,110,111,116,32,114,101,99,111,
                109,109,101,110,100,101,100,32,105,110,32,110,111,110,45,116,
                101,115,116,32,99,111,100,101,46]}],
             0,false}],
           0,false}],
         0,false}}],
      0,false},
     {sep,
      [{above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,{text,"*## Public key authentication in Erlang SSH"},null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               [146,84,104,101,32,117,115,101,114,32,110,97,109,101,44,32,112,
                117,98,108,105,99,32,107,101,121,32,97,110,100,32,99,114,121,
                112,116,111,103,114,97,112,104,105,99,32,100,97,116,97,32,40,
                97,32,115,105,103,110,97,116,117,114,101,41,32,116,104,97,116,
                32,105,115,32,115,101,110,116,32,98,121,32,116,104,101,32,99,
                108,105,101,110,116,44,32,97,114,101,32,117,115,101,100,32,97,
                115,32,102,111,108,108,111,119,115,32,40,115,111,109,101,32,
                115,116,101,112,115,32,108,101,102,116,32,111,117,116,32,102,
                111,114,32,99,108,101,97,114,105,116,121,41,58]}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,
         {sep,
          [{text,[1,42]},
           {sep,
            [{sep,
              [{text,"/A callback module is selected using the options"}],
              0,false},
             {text,
              "I[ssh/ssh#type-key_cb_common_option](../ssh/ssh#type-key_cb_common_option)"},
             {sep,[{text,[1,46]}],0,false}],
            0,false}],
          0,false},
         {sep,
          [{text,[1,42]},
           {sep,
            [{sep,
              [{text,
                [148,84,104,101,32,99,97,108,108,98,97,99,107,32,109,111,100,
                 117,108,101,32,105,115,32,117,115,101,100,32,116,111,32,99,
                 104,101,99,107,32,116,104,97,116,32,116,104,101,32,112,114,
                 111,118,105,100,101,100,32,112,117,98,108,105,99,32,107,101,
                 121,32,105,115,32,111,110,101,32,111,102,32,116,104,101,32,
                 117,115,101,114,39,115,32,112,114,101,45,115,116,111,114,101,
                 100,46,32,73,110,32,99,97,115,101,32,111,102,32,116,104,101,
                 32,100,101,102,97,117,108,116,32,99,97,108,108,98,97,99,107,
                 32,109,111,100,117,108,101,44,32,116,104,101,32,102,105,108,
                 101,115]}],
              0,false},
             {text,
              [17,42,97,117,116,104,111,114,105,122,101,100,95,107,101,121,
               115,42]},
             {sep,[{text,[3,97,110,100]}],0,false},
             {text,
              [18,42,97,117,116,104,111,114,105,122,101,100,95,107,101,121,
               115,50,42]},
             {sep,
              [{text,
                "9are searched in a directory found in the following order:"}],
              0,false},
             {above,
              {above,
               {sep,
                [{text,[1,42]},
                 {sep,
                  [{sep,[{text,"\rIf the option"}],0,false},
                   {text,
                    "_[ssh/ssh_file#type-user_dir_fun_common_option](../ssh/ssh_file#type-user_dir_fun_common_option)"},
                   {sep,
                    [{text,
                      "Bis defined, that fun is called and the returned directory is used,"}],
                    0,false}],
                  0,false}],
                0,false},
               {sep,
                [{text,[1,42]},
                 {sep,
                  [{sep,
                    [{text,
                      [19,69,108,115,101,44,32,73,102,32,116,104,101,32,111,
                       112,116,105,111,110]}],
                    0,false},
                   {text,
                    "W[ssh/ssh_file#type-user_dir_common_option](../ssh/ssh_file#type-user_dir_common_option)"},
                   {sep,
                    [{text,"#is defined, that directory is used,"}],
                    0,false}],
                  0,false}],
                0,false}},
              {sep,
               [{text,[1,42]},
                {sep,
                 [{sep,
                   [{text,
                     [21,69,108,115,101,32,116,104,101,32,115,117,98,100,105,
                      114,101,99,116,111,114,121]}],
                   0,false},
                  {text,[6,42,46,115,115,104,42]},
                  {sep,
                   [{text,
                     "Zin the home directory of the user executing the OS process of the Erlang emulator is used."}],
                   0,false}],
                 0,false}],
               0,false}},
             {sep,
              [{text,
                "BIf the provided public key is not found, the authentication fails."}],
              0,false}],
            0,false}],
          0,false}},
        {sep,
         [{text,[1,42]},
          {text,
           "rFinally, if the provided public key is found, the signature provided by the client is checked with the public key."}],
         0,false}}],
      0,false},
     {sep,
      [{above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {text,
           "=## The Erlang/OTP SSH server after a succesful authentication"},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{sep,[{text,"$After a successful authentication an"}],0,false},
              {text,
               [18,42,42,69,114,108,97,110,103,32,112,114,111,99,101,115,115,
                42,42]},
              {sep,
               [{text,
                 [155,105,115,32,104,97,110,100,108,105,110,103,32,116,104,
                  101,32,115,101,114,118,105,99,101,32,114,101,113,117,101,
                  115,116,32,102,114,111,109,32,116,104,101,32,114,101,109,
                  111,116,101,32,115,115,104,32,99,108,105,101,110,116,46,32,
                  84,104,101,32,114,105,103,104,116,115,32,111,102,32,116,104,
                  97,116,32,112,114,111,99,101,115,115,32,97,114,101,32,116,
                  104,111,115,101,32,111,102,32,116,104,101,32,117,115,101,
                  114,32,111,102,32,116,104,101,32,79,83,32,112,114,111,99,
                  101,115,115,32,114,117,110,110,105,110,103,32,116,104,101,
                  32,69,114,108,97,110,103,32,101,109,117,108,97,116,111,114,
                  46]}],
               0,false}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{sep,
               [{text,
                 "4If a shell service request arrives to the server, an"}],
               0,false},
              {text,
               [16,42,42,69,114,108,97,110,103,32,115,104,101,108,108,42,42]},
              {sep,
               [{text,
                 "kis opened in the server's emulator. The rights in that shell is independent of the just authenticated user."}],
               0,false}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               "¹In case of an sftp request, an sftp server is started with the rights of the user of the Erlang emulator's OS process. So with sftp the authenticated user does not influence the rights."}],
             0,false}],
           0,true},
          null},
         null}},
       {above,
        {above,{above,{text,[0]},null},null},
        {above,
         {above,
          {sep,
           [{sep,
             [{text,
               "SSo after an authentication, the user name is not used anymore and has no influence."}],
             0,false}],
           0,true},
          null},
         null}}],
      0,false}],
    0,false}],
  0,false}}
